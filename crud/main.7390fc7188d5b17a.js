"use strict";(self.webpackChunkcrud=self.webpackChunkcrud||[]).push([[179],{2011:(xt,Le,P)=>{P.d(Le,{Dh:()=>ye,GT:()=>ge,cc:()=>Me,hO:()=>Ge,on:()=>Z,pX:()=>de,xv:()=>ve});var l=P(4650),z=P(9260),N=P(2432);xt=P.hmd(xt);const le=["ngOnDestroy"],de=(_e,St,gt,Ie={})=>new Proxy(_e,{get:(Te,Ae)=>gt.runOutsideAngular(()=>{var it;if(_e[Ae])return!(null===(it=Ie?.spy)||void 0===it)&&it.get&&Ie.spy.get(Ae,_e[Ae]),_e[Ae];if(le.indexOf(Ae)>-1)return()=>{};const Xe=St.toPromise().then(ae=>{const et=ae&&ae[Ae];return"function"==typeof et?et.bind(ae):et&&et.then?et.then(kt=>gt.run(()=>kt)):gt.run(()=>et)});return new Proxy(()=>{},{get:(ae,et)=>Xe[et],apply:(ae,et,kt)=>Xe.then(vt=>{var on;const yt=vt&&vt(...kt);return!(null===(on=Ie?.spy)||void 0===on)&&on.apply&&Ie.spy.apply(Ae,kt,yt),yt})})})}),ge=(_e,St)=>{St.forEach(gt=>{Object.getOwnPropertyNames(gt.prototype||gt).forEach(Ie=>{Object.defineProperty(_e.prototype,Ie,Object.getOwnPropertyDescriptor(gt.prototype||gt,Ie))})})};class re{constructor(St){return St}}const ye=new l.OlP("angularfire2.app.options"),ve=new l.OlP("angularfire2.app.name");function Z(_e,St,gt){const Te="object"==typeof gt&&gt||{};Te.name=Te.name||"string"==typeof gt&&gt||"[DEFAULT]";const it=z.Z.apps.filter(Xe=>Xe&&Xe.name===Te.name)[0]||St.runOutsideAngular(()=>z.Z.initializeApp(_e,Te));try{JSON.stringify(_e)!==JSON.stringify(it.options)&&q("error",`${it.name} Firebase App already initialized with different options${xt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new re(it)}const q=(_e,...St)=>{(0,l.X6Q)()&&typeof console<"u"&&console[_e](...St)},ee={provide:re,useFactory:Z,deps:[ye,l.R0b,[new l.FiY,ve]]};let Ge=(()=>{class _e{constructor(gt){z.Z.registerVersion("angularfire",N.q4.full,"core"),z.Z.registerVersion("angularfire",N.q4.full,"app-compat"),z.Z.registerVersion("angular",l.q4F.full,gt.toString())}static initializeApp(gt,Ie){return{ngModule:_e,providers:[{provide:ye,useValue:gt},{provide:ve,useValue:Ie}]}}}return _e.\u0275fac=function(gt){return new(gt||_e)(l.LFG(l.Lbi))},_e.\u0275mod=l.oAB({type:_e}),_e.\u0275inj=l.cJS({providers:[ee]}),_e})();function Me(_e,St,gt,Ie,Te){const[,Ae,it]=globalThis.\u0275AngularfireInstanceCache.find(Xe=>Xe[0]===_e)||[];if(Ae)return function xe(_e,St){try{return _e.toString()===St.toString()}catch{return _e===St}}(Te,it)||(Ee("error",`${St} was already initialized on the ${gt} Firebase App with different settings.${dt?" You may need to reload as Firebase is not HMR aware.":""}`),Ee("warn",{is:Te,was:it})),Ae;{const Xe=Ie();return globalThis.\u0275AngularfireInstanceCache.push([_e,Xe,Te]),Xe}}const dt=!!xt.hot,Ee=(_e,...St)=>{(0,l.X6Q)()&&typeof console<"u"&&console[_e](...St)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2432:(xt,Le,P)=>{P.d(Le,{q4:()=>Ws,iC:()=>xo,HU:()=>Ds,vb:()=>ql,JM:()=>Wa,n1:()=>_u,u3:()=>Ya});var l=P(4650),z=P(259),N=P(5861),le=P(6881),de=P(2090),ge=P(4859),re=P(1877);P(4727);const ve="@firebase/remote-config",Z="0.4.4",Me=new de.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class we{constructor(V,W,he,Se){this.client=V,this.storage=W,this.storageCache=he,this.logger=Se}isCachedDataFresh(V,W){if(!W)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const he=Date.now()-W,Se=he<=V;return this.logger.debug(`Config fetch cache check. Cache age millis: ${he}. Cache max age millis (minimumFetchIntervalMillis setting): ${V}. Is cache hit: ${Se}.`),Se}fetch(V){var W=this;return(0,N.Z)(function*(){const[he,Se]=yield Promise.all([W.storage.getLastSuccessfulFetchTimestampMillis(),W.storage.getLastSuccessfulFetchResponse()]);if(Se&&W.isCachedDataFresh(V.cacheMaxAgeMillis,he))return Se;V.eTag=Se&&Se.eTag;const je=yield W.client.fetch(V),tt=[W.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===je.status&&tt.push(W.storage.setLastSuccessfulFetchResponse(je)),yield Promise.all(tt),je})()}}function Ne(H=navigator){return H.languages&&H.languages[0]||H.language}class Re{constructor(V,W,he,Se,je,tt){this.firebaseInstallations=V,this.sdkVersion=W,this.namespace=he,this.projectId=Se,this.apiKey=je,this.appId=tt}fetch(V){var W=this;return(0,N.Z)(function*(){const[he,Se]=yield Promise.all([W.firebaseInstallations.getId(),W.firebaseInstallations.getToken()]),tt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${W.projectId}/namespaces/${W.namespace}:fetch?key=${W.apiKey}`,Yt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":V.eTag||"*"},We={sdk_version:W.sdkVersion,app_instance_id:he,app_instance_id_token:Se,app_id:W.appId,language_code:Ne()},ln={method:"POST",headers:Yt,body:JSON.stringify(We)},Tn=fetch(tt,ln),cr=new Promise((Oe,dn)=>{V.signal.addEventListener(()=>{const Ka=new Error("The operation was aborted.");Ka.name="AbortError",dn(Ka)})});let kr;try{yield Promise.race([Tn,cr]),kr=yield Tn}catch(Oe){let dn="fetch-client-network";throw"AbortError"===Oe?.name&&(dn="fetch-timeout"),Me.create(dn,{originalErrorMessage:Oe?.message})}let Xi=kr.status;const uo=kr.headers.get("ETag")||void 0;let ya,ko;if(200===kr.status){let Oe;try{Oe=yield kr.json()}catch(dn){throw Me.create("fetch-client-parse",{originalErrorMessage:dn?.message})}ya=Oe.entries,ko=Oe.state}if("INSTANCE_STATE_UNSPECIFIED"===ko?Xi=500:"NO_CHANGE"===ko?Xi=304:("NO_TEMPLATE"===ko||"EMPTY_CONFIG"===ko)&&(ya={}),304!==Xi&&200!==Xi)throw Me.create("fetch-status",{httpStatus:Xi});return{status:Xi,eTag:uo,config:ya}})()}}class Ke{constructor(V,W){this.client=V,this.storage=W}fetch(V){var W=this;return(0,N.Z)(function*(){const he=(yield W.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return W.attemptFetch(V,he)})()}attemptFetch(V,{throttleEndTimeMillis:W,backoffCount:he}){var Se=this;return(0,N.Z)(function*(){yield function Fe(H,V){return new Promise((W,he)=>{const Se=Math.max(V-Date.now(),0),je=setTimeout(W,Se);H.addEventListener(()=>{clearTimeout(je),he(Me.create("fetch-throttle",{throttleEndTimeMillis:V}))})})}(V.signal,W);try{const je=yield Se.client.fetch(V);return yield Se.storage.deleteThrottleMetadata(),je}catch(je){if(!function Je(H){if(!(H instanceof de.ZR&&H.customData))return!1;const V=Number(H.customData.httpStatus);return 429===V||500===V||503===V||504===V}(je))throw je;const tt={throttleEndTimeMillis:Date.now()+(0,de.$s)(he),backoffCount:he+1};return yield Se.storage.setThrottleMetadata(tt),Se.attemptFetch(V,tt)}})()}}class Dt{constructor(V,W,he,Se,je){this.app=V,this._client=W,this._storageCache=he,this._storage=Se,this._logger=je,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ht(H,V){const W=H.target.error||void 0;return Me.create(V,{originalErrorMessage:W&&W?.message})}const $t="app_namespace_store";class Qn{constructor(V,W,he,Se=function yi(){return new Promise((H,V)=>{try{const W=indexedDB.open("firebase_remote_config",1);W.onerror=he=>{V(Ht(he,"storage-open"))},W.onsuccess=he=>{H(he.target.result)},W.onupgradeneeded=he=>{0===he.oldVersion&&he.target.result.createObjectStore($t,{keyPath:"compositeKey"})}}catch(W){V(Me.create("storage-open",{originalErrorMessage:W?.message}))}})}()){this.appId=V,this.appName=W,this.namespace=he,this.openDbPromise=Se}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(V){return this.set("last_fetch_status",V)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(V){return this.set("last_successful_fetch_timestamp_millis",V)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(V){return this.set("last_successful_fetch_response",V)}getActiveConfig(){return this.get("active_config")}setActiveConfig(V){return this.set("active_config",V)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(V){return this.set("active_config_etag",V)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(V){return this.set("throttle_metadata",V)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(V){var W=this;return(0,N.Z)(function*(){const he=yield W.openDbPromise;return new Promise((Se,je)=>{const Yt=he.transaction([$t],"readonly").objectStore($t),We=W.createCompositeKey(V);try{const ln=Yt.get(We);ln.onerror=Tn=>{je(Ht(Tn,"storage-get"))},ln.onsuccess=Tn=>{const cr=Tn.target.result;Se(cr?cr.value:void 0)}}catch(ln){je(Me.create("storage-get",{originalErrorMessage:ln?.message}))}})})()}set(V,W){var he=this;return(0,N.Z)(function*(){const Se=yield he.openDbPromise;return new Promise((je,tt)=>{const We=Se.transaction([$t],"readwrite").objectStore($t),ln=he.createCompositeKey(V);try{const Tn=We.put({compositeKey:ln,value:W});Tn.onerror=cr=>{tt(Ht(cr,"storage-set"))},Tn.onsuccess=()=>{je()}}catch(Tn){tt(Me.create("storage-set",{originalErrorMessage:Tn?.message}))}})})()}delete(V){var W=this;return(0,N.Z)(function*(){const he=yield W.openDbPromise;return new Promise((Se,je)=>{const Yt=he.transaction([$t],"readwrite").objectStore($t),We=W.createCompositeKey(V);try{const ln=Yt.delete(We);ln.onerror=Tn=>{je(Ht(Tn,"storage-delete"))},ln.onsuccess=()=>{Se()}}catch(ln){je(Me.create("storage-delete",{originalErrorMessage:ln?.message}))}})})()}createCompositeKey(V){return[this.appId,this.appName,this.namespace,V].join()}}class vi{constructor(V){this.storage=V}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var V=this;return(0,N.Z)(function*(){const W=V.storage.getLastFetchStatus(),he=V.storage.getLastSuccessfulFetchTimestampMillis(),Se=V.storage.getActiveConfig(),je=yield W;je&&(V.lastFetchStatus=je);const tt=yield he;tt&&(V.lastSuccessfulFetchTimestampMillis=tt);const Yt=yield Se;Yt&&(V.activeConfig=Yt)})()}setLastFetchStatus(V){return this.lastFetchStatus=V,this.storage.setLastFetchStatus(V)}setLastSuccessfulFetchTimestampMillis(V){return this.lastSuccessfulFetchTimestampMillis=V,this.storage.setLastSuccessfulFetchTimestampMillis(V)}setActiveConfig(V){return this.activeConfig=V,this.storage.setActiveConfig(V)}}function Vr(){return ft.apply(this,arguments)}function ft(){return(ft=(0,N.Z)(function*(){if(!(0,de.hl)())return!1;try{return yield(0,de.eu)()}catch{return!1}})).apply(this,arguments)}!function An(){(0,le._registerComponent)(new ge.wA("remote-config",function H(V,{instanceIdentifier:W}){const he=V.getProvider("app").getImmediate(),Se=V.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Me.create("registration-window");if(!(0,de.hl)())throw Me.create("indexed-db-unavailable");const{projectId:je,apiKey:tt,appId:Yt}=he.options;if(!je)throw Me.create("registration-project-id");if(!tt)throw Me.create("registration-api-key");if(!Yt)throw Me.create("registration-app-id");const We=new Qn(Yt,he.name,W=W||"firebase"),ln=new vi(We),Tn=new re.Yd(ve);Tn.logLevel=re.in.ERROR;const cr=new Re(Se,le.SDK_VERSION,W,je,tt,Yt),kr=new Ke(cr,We),Xi=new we(kr,We,ln,Tn),uo=new Dt(he,Xi,ln,We,Tn);return function it(H){const V=(0,de.m9)(H);V._initializePromise||(V._initializePromise=V._storageCache.loadFromStorage().then(()=>{V._isInitializationComplete=!0}))}(uo),uo},"PUBLIC").setMultipleInstances(!0)),(0,le.registerVersion)(ve,Z),(0,le.registerVersion)(ve,Z,"esm2017")}();var li=P(2138);const xn="analytics",Xn="firebase_id",Mn="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Kt="https://www.googletagmanager.com/gtag/js",Nt=new re.Yd("@firebase/analytics"),mt=new de.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function fn(H){if(!H.startsWith(Kt)){const V=mt.create("invalid-gtag-resource",{gtagURL:H});return Nt.warn(V.message),""}return H}function qn(H){return Promise.all(H.map(V=>V.catch(W=>W)))}function Wn(H,V){const W=function ni(H,V){let W;return window.trustedTypes&&(W=window.trustedTypes.createPolicy(H,V)),W}("firebase-js-sdk-policy",{createScriptURL:fn}),he=document.createElement("script"),Se=`${Kt}?l=${H}&id=${V}`;he.src=W?W?.createScriptURL(Se):Se,he.async=!0,document.head.appendChild(he)}function Zn(H,V,W,he,Se,je){return jt.apply(this,arguments)}function jt(){return(jt=(0,N.Z)(function*(H,V,W,he,Se,je){const tt=he[Se];try{if(tt)yield V[tt];else{const We=(yield qn(W)).find(ln=>ln.measurementId===Se);We&&(yield V[We.appId])}}catch(Yt){Nt.error(Yt)}H("config",Se,je)})).apply(this,arguments)}function lr(H,V,W,he,Se){return cn.apply(this,arguments)}function cn(){return(cn=(0,N.Z)(function*(H,V,W,he,Se){try{let je=[];if(Se&&Se.send_to){let tt=Se.send_to;Array.isArray(tt)||(tt=[tt]);const Yt=yield qn(W);for(const We of tt){const ln=Yt.find(cr=>cr.measurementId===We),Tn=ln&&V[ln.appId];if(!Tn){je=[];break}je.push(Tn)}}0===je.length&&(je=Object.values(V)),yield Promise.all(je),H("event",he,Se||{})}catch(je){Nt.error(je)}})).apply(this,arguments)}function Yn(H){const V=window.document.getElementsByTagName("script");for(const W of Object.values(V))if(W.src&&W.src.includes(Kt)&&W.src.includes(H))return W;return null}const Si=new class ei{constructor(V={},W=1e3){this.throttleMetadata=V,this.intervalMillis=W}getThrottleMetadata(V){return this.throttleMetadata[V]}setThrottleMetadata(V,W){this.throttleMetadata[V]=W}deleteThrottleMetadata(V){delete this.throttleMetadata[V]}};function wi(H){return new Headers({Accept:"application/json","x-goog-api-key":H})}function Mi(H){return G.apply(this,arguments)}function G(){return(G=(0,N.Z)(function*(H){var V;const{appId:W,apiKey:he}=H,Se={method:"GET",headers:wi(he)},je=Mn.replace("{app-id}",W),tt=yield fetch(je,Se);if(200!==tt.status&&304!==tt.status){let Yt="";try{const We=yield tt.json();null!==(V=We.error)&&void 0!==V&&V.message&&(Yt=We.error.message)}catch{}throw mt.create("config-fetch-failed",{httpStatus:tt.status,responseMessage:Yt})}return tt.json()})).apply(this,arguments)}function j(H){return R.apply(this,arguments)}function R(){return(R=(0,N.Z)(function*(H,V=Si,W){const{appId:he,apiKey:Se,measurementId:je}=H.options;if(!he)throw mt.create("no-app-id");if(!Se){if(je)return{measurementId:je,appId:he};throw mt.create("no-api-key")}const tt=V.getThrottleMetadata(he)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Yt=new rt;return setTimeout((0,N.Z)(function*(){Yt.abort()}),void 0!==W?W:6e4),x({appId:he,apiKey:Se,measurementId:je},tt,Yt,V)})).apply(this,arguments)}function x(H,V,W){return M.apply(this,arguments)}function M(){return(M=(0,N.Z)(function*(H,{throttleEndTimeMillis:V,backoffCount:W},he,Se=Si){var je;const{appId:tt,measurementId:Yt}=H;try{yield X(he,V)}catch(We){if(Yt)return Nt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Yt} provided in the "measurementId" field in the local Firebase config. [${We?.message}]`),{appId:tt,measurementId:Yt};throw We}try{const We=yield Mi(H);return Se.deleteThrottleMetadata(tt),We}catch(We){const ln=We;if(!Ce(ln)){if(Se.deleteThrottleMetadata(tt),Yt)return Nt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Yt} provided in the "measurementId" field in the local Firebase config. [${ln?.message}]`),{appId:tt,measurementId:Yt};throw We}const Tn=503===Number(null===(je=ln?.customData)||void 0===je?void 0:je.httpStatus)?(0,de.$s)(W,Se.intervalMillis,30):(0,de.$s)(W,Se.intervalMillis),cr={throttleEndTimeMillis:Date.now()+Tn,backoffCount:W+1};return Se.setThrottleMetadata(tt,cr),Nt.debug(`Calling attemptFetch again in ${Tn} millis`),x(H,cr,he,Se)}})).apply(this,arguments)}function X(H,V){return new Promise((W,he)=>{const Se=Math.max(V-Date.now(),0),je=setTimeout(W,Se);H.addEventListener(()=>{clearTimeout(je),he(mt.create("fetch-throttle",{throttleEndTimeMillis:V}))})})}function Ce(H){if(!(H instanceof de.ZR&&H.customData))return!1;const V=Number(H.customData.httpStatus);return 429===V||500===V||503===V||504===V}class rt{constructor(){this.listeners=[]}addEventListener(V){this.listeners.push(V)}abort(){this.listeners.forEach(V=>V())}}let Ct,Zt;function st(){return(st=(0,N.Z)(function*(H,V,W,he,Se){if(Se&&Se.global)H("event",W,he);else{const je=yield V;H("event",W,Object.assign(Object.assign({},he),{send_to:je}))}})).apply(this,arguments)}function bn(H){Zt=H}function Vn(H){Ct=H}function sn(){return hi.apply(this,arguments)}function hi(){return(hi=(0,N.Z)(function*(){if(!(0,de.hl)())return Nt.warn(mt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,de.eu)()}catch(H){return Nt.warn(mt.create("indexeddb-unavailable",{errorInfo:H?.toString()}).message),!1}return!0})).apply(this,arguments)}function Ki(){return(Ki=(0,N.Z)(function*(H,V,W,he,Se,je,tt){var Yt;const We=j(H);We.then(Xi=>{W[Xi.measurementId]=Xi.appId,H.options.measurementId&&Xi.measurementId!==H.options.measurementId&&Nt.warn(`The measurement ID in the local Firebase config (${H.options.measurementId}) does not match the measurement ID fetched from the server (${Xi.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Xi=>Nt.error(Xi)),V.push(We);const ln=sn().then(Xi=>{if(Xi)return he.getId()}),[Tn,cr]=yield Promise.all([We,ln]);Yn(je)||Wn(je,Tn.measurementId),Zt&&(Se("consent","default",Zt),bn(void 0)),Se("js",new Date);const kr=null!==(Yt=tt?.config)&&void 0!==Yt?Yt:{};return kr.origin="firebase",kr.update=!0,null!=cr&&(kr[Xn]=cr),Se("config",Tn.measurementId,kr),Ct&&(Se("set",Ct),Vn(void 0)),Tn.measurementId})).apply(this,arguments)}class Br{constructor(V){this.app=V}_delete(){return delete Ai[this.app.options.appId],Promise.resolve()}}let Ai={},un=[];const as={};let ti,ri,qs="dataLayer",ls=!1;function Q(H,V,W){!function U(){const H=[];if((0,de.ru)()&&H.push("This is a browser extension environment."),(0,de.zI)()||H.push("Cookies are not available."),H.length>0){const V=H.map((he,Se)=>`(${Se+1}) ${he}`).join(" "),W=mt.create("invalid-analytics-context",{errorInfo:V});Nt.warn(W.message)}}();const he=H.options.appId;if(!he)throw mt.create("no-app-id");if(!H.options.apiKey){if(!H.options.measurementId)throw mt.create("no-api-key");Nt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${H.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ai[he])throw mt.create("already-exists",{id:he});if(!ls){!function Gt(H){let V=[];Array.isArray(window[H])?V=window[H]:window[H]=V}(qs);const{wrappedGtag:je,gtagCore:tt}=function Dn(H,V,W,he,Se){let je=function(...tt){window[he].push(arguments)};return window[Se]&&"function"==typeof window[Se]&&(je=window[Se]),window[Se]=function Jn(H,V,W,he){function je(){return(je=(0,N.Z)(function*(tt,...Yt){try{if("event"===tt){const[We,ln]=Yt;yield lr(H,V,W,We,ln)}else if("config"===tt){const[We,ln]=Yt;yield Zn(H,V,W,he,We,ln)}else if("consent"===tt){const[We]=Yt;H("consent","update",We)}else if("get"===tt){const[We,ln,Tn]=Yt;H("get",We,ln,Tn)}else if("set"===tt){const[We]=Yt;H("set",We)}else H(tt,...Yt)}catch(We){Nt.error(We)}})).apply(this,arguments)}return function Se(tt){return je.apply(this,arguments)}}(je,H,V,W),{gtagCore:je,wrappedGtag:window[Se]}}(Ai,un,as,qs,"gtag");ri=je,ti=tt,ls=!0}return Ai[he]=function Yi(H,V,W,he,Se,je,tt){return Ki.apply(this,arguments)}(H,un,as,V,ti,qs,W),new Br(H)}function Mt(){return F.apply(this,arguments)}function F(){return(F=(0,N.Z)(function*(){if((0,de.ru)()||!(0,de.zI)()||!(0,de.hl)())return!1;try{return yield(0,de.eu)()}catch{return!1}})).apply(this,arguments)}const Es="@firebase/analytics";!function hu(){(0,le._registerComponent)(new ge.wA(xn,(V,{options:W})=>Q(V.getProvider("app").getImmediate(),V.getProvider("installations-internal").getImmediate(),W),"PUBLIC")),(0,le._registerComponent)(new ge.wA("analytics-internal",function H(V){try{const W=V.getProvider(xn).getImmediate();return{logEvent:(he,Se,je)=>function kn(H,V,W,he){H=(0,de.m9)(H),function De(H,V,W,he,Se){return st.apply(this,arguments)}(ri,Ai[H.app.options.appId],V,W,he).catch(Se=>Nt.error(Se))}(W,he,Se,je)}}catch(W){throw mt.create("interop-component-reg-failed",{reason:W})}},"PRIVATE")),(0,le.registerVersion)(Es,"0.10.0"),(0,le.registerVersion)(Es,"0.10.0","esm2017")}();var $l=P(4408),pu=P(7565);const zp=new class mu extends pu.v{}(class fu extends $l.o{constructor(V,W){super(V,W),this.scheduler=V,this.work=W}schedule(V,W=0){return W>0?super.schedule(V,W):(this.delay=W,this.state=V,this.scheduler.flush(this),this)}execute(V,W){return W>0||this.closed?super.execute(V,W):this._execute(V,W)}requestAsyncId(V,W,he=0){return null!=he&&he>0||null==he&&this.delay>0?super.requestAsyncId(V,W,he):(V.flush(this),0)}});var jp=P(4986),Gl=P(9751),gu=P(8505),Mo=P(9468),fa=P(5363);const Ws=new l.GfV("7.5.0"),qa="__angularfire_symbol__analyticsIsSupportedValue",cs="__angularfire_symbol__analyticsIsSupported",Hr="__angularfire_symbol__remoteConfigIsSupportedValue",pa="__angularfire_symbol__remoteConfigIsSupported",Ao="__angularfire_symbol__messagingIsSupportedValue",ma="__angularfire_symbol__messagingIsSupported";globalThis[cs]||(globalThis[cs]=Mt().then(H=>globalThis[qa]=H).catch(()=>globalThis[qa]=!1)),globalThis[ma]||(globalThis[ma]=(0,li.Gb)().then(H=>globalThis[Ao]=H).catch(()=>globalThis[Ao]=!1)),globalThis[pa]||(globalThis[pa]=Vr().then(H=>globalThis[Hr]=H).catch(()=>globalThis[Hr]=!1));const _u={async:()=>globalThis[ma],sync:()=>{const H=globalThis[Ao];if(void 0===H)throw new Error((H=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${H} in the constructor, first ensure that ${H} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${H})\`.`)("Messaging"));return H}};function Wa(H,V,W){if(V){if(1===V.length)return V[0];const je=V.filter(tt=>tt.app===W);if(1===je.length)return je[0]}return W.container.getProvider(H).getImmediate({optional:!0})}const ql=(H,V)=>{const W=V?[V]:(0,z.C6)(),he=[];return W.forEach(Se=>{Se.container.getProvider(H).instances.forEach(tt=>{he.includes(tt)||he.push(tt)})}),he};function si(){}class Za{constructor(V,W=zp){this.zone=V,this.delegate=W}now(){return this.delegate.now()}schedule(V,W,he){const Se=this.zone;return this.delegate.schedule(function(tt){Se.runGuarded(()=>{V.apply(this,[tt])})},W,he)}}class vu{constructor(V){this.zone=V,this.task=null}call(V,W){const he=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",si,{},si,si)),W.pipe((0,gu.b)({next:he,complete:he,error:he})).subscribe(V).add(he)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ds=(()=>{class H{constructor(W){this.ngZone=W,this.outsideAngular=W.runOutsideAngular(()=>new Za(Zone.current)),this.insideAngular=W.run(()=>new Za(Zone.current,jp.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return H.\u0275fac=function(W){return new(W||H)(l.LFG(l.R0b))},H.\u0275prov=l.Yz7({token:H,factory:H.\u0275fac,providedIn:"root"}),H})();function ga(){const H=globalThis.\u0275AngularFireScheduler;if(!H)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return H}function ah(H){return ga().ngZone.runOutsideAngular(()=>H())}function In(H){return ga().ngZone.run(()=>H())}function xo(H){return ga(),function xr(H){return function(W){return(W=W.lift(new vu(H.ngZone))).pipe((0,Mo.R)(H.outsideAngular),(0,fa.Q)(H.insideAngular))}}(ga())(H)}const $p=(H,V)=>function(){const he=arguments;return V&&setTimeout(()=>{"scheduled"===V.state&&V.invoke()},10),In(()=>H.apply(void 0,he))},Ya=(H,V)=>function(){let W;const he=arguments;for(let je=0;je<arguments.length;je++)"function"==typeof he[je]&&(V&&(W||(W=In(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",si,{},si,si)))),he[je]=$p(he[je],W));const Se=ah(()=>H.apply(this,he));if(!V){if(Se instanceof Gl.y){const je=ga();return Se.pipe((0,Mo.R)(je.outsideAngular),(0,fa.Q)(je.insideAngular))}return In(()=>Se)}return Se instanceof Gl.y?Se.pipe(xo):Se instanceof Promise?In(()=>new Promise((je,tt)=>Se.then(Yt=>In(()=>je(Yt)),Yt=>In(()=>tt(Yt))))):"function"==typeof Se&&W?function(){return setTimeout(()=>{W&&"scheduled"===W.state&&W.invoke()},10),Se.apply(this,arguments)}:In(()=>Se)}},1389:(xt,Le,P)=>{P.d(Le,{$:()=>Ro,A:()=>q,D:()=>Me,I:()=>U,J:()=>F,L:()=>Hr,N:()=>wi,P:()=>bt,Q:()=>ah,R:()=>Xr,U:()=>xo,V:()=>xr,W:()=>$p,X:()=>Wl,Y:()=>W,Z:()=>he,_:()=>We,a:()=>Lo,a0:()=>Cu,a1:()=>sy,a2:()=>zr,a3:()=>oy,a4:()=>qp,a5:()=>ch,a6:()=>Oo,a7:()=>ay,a8:()=>uh,a9:()=>ly,aA:()=>ae,aB:()=>kh,aC:()=>ei,aD:()=>Mi,aE:()=>es,aF:()=>xh,aG:()=>dc,aH:()=>ti,aL:()=>rl,aO:()=>H,aa:()=>Zp,ab:()=>M0,ac:()=>A0,ad:()=>cy,ae:()=>uy,af:()=>x0,ai:()=>Du,aj:()=>dy,ak:()=>k0,an:()=>Xi,ao:()=>Tu,aq:()=>nl,ar:()=>Mu,as:()=>kt,at:()=>De,au:()=>Ce,av:()=>Ie,aw:()=>Ma,ax:()=>Qs,ay:()=>st,az:()=>Te,b:()=>nm,c:()=>al,d:()=>Et,e:()=>Bi,f:()=>hc,g:()=>pr,h:()=>xs,i:()=>_y,j:()=>pi,k:()=>Ho,l:()=>H0,m:()=>Uh,o:()=>hl,p:()=>ye,r:()=>Nu,s:()=>ES,u:()=>Ln,x:()=>em});var l=P(5861),z=P(2090),N=P(6881),le=P(655),de=P(1877),ge=P(4859);const ye={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},q={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Me=function ee(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},xe=function Ge(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},dt=new z.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),_e=new de.Yd("@firebase/auth");function gt(b,...m){_e.logLevel<=de.in.ERROR&&_e.error(`Auth (${N.SDK_VERSION}): ${b}`,...m)}function Ie(b,...m){throw Xe(b,...m)}function Te(b,...m){return Xe(b,...m)}function Ae(b,m,_){const w=Object.assign(Object.assign({},xe()),{[m]:_});return new z.LL("auth","Firebase",w).create(m,{appName:b.name})}function it(b,m,_){if(!(m instanceof _))throw _.name!==m.constructor.name&&Ie(b,"argument-error"),Ae(b,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Xe(b,...m){if("string"!=typeof b){const _=m[0],w=[...m.slice(1)];return w[0]&&(w[0].appName=b.name),b._errorFactory.create(_,...w)}return dt.create(b,...m)}function ae(b,m,..._){if(!b)throw Xe(m,..._)}function et(b){const m="INTERNAL ASSERTION FAILED: "+b;throw gt(m),new Error(m)}function kt(b,m){b||et(m)}function vt(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function on(){return"http:"===yt()||"https:"===yt()}function yt(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class we{constructor(m,_){this.shortDelay=m,this.longDelay=_,kt(_>m,"Short delay should be less than long delay!"),this.isMobile=(0,z.uI)()||(0,z.b$)()}get(){return function Ar(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(on()||(0,z.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ne(b,m){kt(b.emulator,"Emulator should always be set here");const{url:_}=b.emulator;return m?`${_}${m.startsWith("/")?m.slice(1):m}`:_}class Re{static initialize(m,_,w){this.fetchImpl=m,_&&(this.headersImpl=_),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void et("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void et("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void et("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Fe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Je=new we(3e4,6e4);function Ke(b,m){return b.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:b.tenantId}):m}function ht(b,m,_,w){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,l.Z)(function*(b,m,_,w,S={}){return Dt(b,S,(0,l.Z)(function*(){let k={},J={};w&&("GET"===m?J=w:k={body:JSON.stringify(w)});const fe=(0,z.xO)(Object.assign({key:b.config.apiKey},J)).slice(1),Ze=yield b._getAdditionalHeaders();return Ze["Content-Type"]="application/json",b.languageCode&&(Ze["X-Firebase-Locale"]=b.languageCode),Re.fetch()(Fn(b,b.config.apiHost,_,fe),Object.assign({method:m,headers:Ze,referrerPolicy:"no-referrer"},k))}))})).apply(this,arguments)}function Dt(b,m,_){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,l.Z)(function*(b,m,_){b._canInitEmulator=!1;const w=Object.assign(Object.assign({},Fe),m);try{const S=new yi(b),k=yield Promise.race([_(),S.promise]);S.clearNetworkTimeout();const J=yield k.json();if("needConfirmation"in J)throw Qn(b,"account-exists-with-different-credential",J);if(k.ok&&!("errorMessage"in J))return J;{const fe=k.ok?J.errorMessage:J.error.message,[Ze,pt]=fe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ze)throw Qn(b,"credential-already-in-use",J);if("EMAIL_EXISTS"===Ze)throw Qn(b,"email-already-in-use",J);if("USER_DISABLED"===Ze)throw Qn(b,"user-disabled",J);const Lt=w[Ze]||Ze.toLowerCase().replace(/[_\s]+/g,"-");if(pt)throw Ae(b,Lt,pt);Ie(b,Lt)}}catch(S){if(S instanceof z.ZR)throw S;Ie(b,"network-request-failed",{message:String(S)})}})).apply(this,arguments)}function $t(b,m,_,w){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,l.Z)(function*(b,m,_,w,S={}){const k=yield ht(b,m,_,w,S);return"mfaPendingCredential"in k&&Ie(b,"multi-factor-auth-required",{_serverResponse:k}),k})).apply(this,arguments)}function Fn(b,m,_,w){const S=`${m}${_}?${w}`;return b.config.emulator?Ne(b.config,S):`${b.config.apiScheme}://${S}`}class yi{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((_,w)=>{this.timer=setTimeout(()=>w(Te(this.auth,"network-request-failed")),Je.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Qn(b,m,_){const w={appName:b.name};_.email&&(w.email=_.email),_.phoneNumber&&(w.phoneNumber=_.phoneNumber);const S=Te(b,m,w);return S.customData._tokenResponse=_,S}function An(){return(An=(0,l.Z)(function*(b,m){return ht(b,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function ar(b,m){return bi.apply(this,arguments)}function bi(){return(bi=(0,l.Z)(function*(b,m){return ht(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Vr(b,m){return ft.apply(this,arguments)}function ft(){return(ft=(0,l.Z)(function*(b,m){return ht(b,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function li(b){if(b)try{const m=new Date(Number(b));if(!isNaN(m.getTime()))return m.toUTCString()}catch{}}function Zi(){return(Zi=(0,l.Z)(function*(b,m=!1){const _=(0,z.m9)(b),w=yield _.getIdToken(m),S=Mn(w);ae(S&&S.exp&&S.auth_time&&S.iat,_.auth,"internal-error");const k="object"==typeof S.firebase?S.firebase:void 0,J=k?.sign_in_provider;return{claims:S,token:w,authTime:li(ii(S.auth_time)),issuedAtTime:li(ii(S.iat)),expirationTime:li(ii(S.exp)),signInProvider:J||null,signInSecondFactor:k?.sign_in_second_factor||null}})).apply(this,arguments)}function ii(b){return 1e3*Number(b)}function Mn(b){const[m,_,w]=b.split(".");if(void 0===m||void 0===_||void 0===w)return gt("JWT malformed, contained fewer than 3 sections"),null;try{const S=(0,z.tV)(_);return S?JSON.parse(S):(gt("Failed to decode base64 JWT payload"),null)}catch(S){return gt("Caught error parsing JWT payload as JSON",S?.toString()),null}}function Nt(b,m){return It.apply(this,arguments)}function It(){return(It=(0,l.Z)(function*(b,m,_=!1){if(_)return m;try{return yield m}catch(w){throw w instanceof z.ZR&&mt(w)&&b.auth.currentUser===b&&(yield b.auth.signOut()),w}})).apply(this,arguments)}function mt({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}class fn{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var _;if(m){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const S=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(m=!1){var _=this;if(!this.isRunning)return;const w=this.getInterval(m);this.timerId=setTimeout((0,l.Z)(function*(){yield _.iteration()}),w)}iteration(){var m=this;return(0,l.Z)(function*(){try{yield m.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_?.code&&m.schedule(!0))}m.schedule()})()}}class qn{constructor(m,_){this.createdAt=m,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=li(this.lastLoginAt),this.creationTime=li(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ni(b){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,l.Z)(function*(b){var m;const _=b.auth,w=yield b.getIdToken(),S=yield Nt(b,Vr(_,{idToken:w}));ae(S?.users.length,_,"internal-error");const k=S.users[0];b._notifyReloadListener(k);const J=null!==(m=k.providerUserInfo)&&void 0!==m&&m.length?lr(k.providerUserInfo):[],fe=jt(b.providerData,J),Lt=!!b.isAnonymous&&!(b.email&&k.passwordHash||fe?.length),En={uid:k.localId,displayName:k.displayName||null,photoURL:k.photoUrl||null,email:k.email||null,emailVerified:k.emailVerified||!1,phoneNumber:k.phoneNumber||null,tenantId:k.tenantId||null,providerData:fe,metadata:new qn(k.createdAt,k.lastLoginAt),isAnonymous:Lt};Object.assign(b,En)})).apply(this,arguments)}function Zn(){return(Zn=(0,l.Z)(function*(b){const m=(0,z.m9)(b);yield ni(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function jt(b,m){return[...b.filter(w=>!m.some(S=>S.providerId===w.providerId)),...m]}function lr(b){return b.map(m=>{var{providerId:_}=m,w=(0,le._T)(m,["providerId"]);return{providerId:_,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function Jn(){return(Jn=(0,l.Z)(function*(b,m){const _=yield Dt(b,{},(0,l.Z)(function*(){const w=(0,z.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:S,apiKey:k}=b.config,J=Fn(b,S,"/v1/token",`key=${k}`),fe=yield b._getAdditionalHeaders();return fe["Content-Type"]="application/x-www-form-urlencoded",Re.fetch()(J,{method:"POST",headers:fe,body:w})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class Dn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){ae(m.idToken,"internal-error"),ae(typeof m.idToken<"u","internal-error"),ae(typeof m.refreshToken<"u","internal-error");const _="expiresIn"in m&&typeof m.expiresIn<"u"?Number(m.expiresIn):function Kt(b){const m=Mn(b);return ae(m,"internal-error"),ae(typeof m.exp<"u","internal-error"),ae(typeof m.iat<"u","internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,_)}getToken(m,_=!1){var w=this;return(0,l.Z)(function*(){return ae(!w.accessToken||w.refreshToken,m,"user-token-expired"),_||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(m,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,_){var w=this;return(0,l.Z)(function*(){const{accessToken:S,refreshToken:k,expiresIn:J}=yield function cn(b,m){return Jn.apply(this,arguments)}(m,_);w.updateTokensAndExpiration(S,k,Number(J))})()}updateTokensAndExpiration(m,_,w){this.refreshToken=_||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(m,_){const{refreshToken:w,accessToken:S,expirationTime:k}=_,J=new Dn;return w&&(ae("string"==typeof w,"internal-error",{appName:m}),J.refreshToken=w),S&&(ae("string"==typeof S,"internal-error",{appName:m}),J.accessToken=S),k&&(ae("number"==typeof k,"internal-error",{appName:m}),J.expirationTime=k),J}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new Dn,this.toJSON())}_performRefresh(){return et("not implemented")}}function Yn(b,m){ae("string"==typeof b||typeof b>"u","internal-error",{appName:m})}class zn{constructor(m){var{uid:_,auth:w,stsTokenManager:S}=m,k=(0,le._T)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new fn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=w,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=k.displayName||null,this.email=k.email||null,this.emailVerified=k.emailVerified||!1,this.phoneNumber=k.phoneNumber||null,this.photoURL=k.photoURL||null,this.isAnonymous=k.isAnonymous||!1,this.tenantId=k.tenantId||null,this.providerData=k.providerData?[...k.providerData]:[],this.metadata=new qn(k.createdAt||void 0,k.lastLoginAt||void 0)}getIdToken(m){var _=this;return(0,l.Z)(function*(){const w=yield Nt(_,_.stsTokenManager.getToken(_.auth,m));return ae(w,_.auth,"internal-error"),_.accessToken!==w&&(_.accessToken=w,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),w})()}getIdTokenResult(m){return function Xn(b){return Zi.apply(this,arguments)}(this,m)}reload(){return function Gt(b){return Zn.apply(this,arguments)}(this)}_assign(m){this!==m&&(ae(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(_=>Object.assign({},_)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){const _=new zn(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}));return _.metadata._copy(this.metadata),_}_onReload(m){ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,_=!1){var w=this;return(0,l.Z)(function*(){let S=!1;m.idToken&&m.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(m),S=!0),_&&(yield ni(w)),yield w.auth._persistUserIfCurrent(w),S&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var m=this;return(0,l.Z)(function*(){const _=yield m.getIdToken();return yield Nt(m,function vi(b,m){return An.apply(this,arguments)}(m.auth,{idToken:_})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,_){var w,S,k,J,fe,Ze,pt,Lt;const En=null!==(w=_.displayName)&&void 0!==w?w:void 0,$r=null!==(S=_.email)&&void 0!==S?S:void 0,zo=null!==(k=_.phoneNumber)&&void 0!==k?k:void 0,po=null!==(J=_.photoURL)&&void 0!==J?J:void 0,jo=null!==(fe=_.tenantId)&&void 0!==fe?fe:void 0,mo=null!==(Ze=_._redirectEventId)&&void 0!==Ze?Ze:void 0,yc=null!==(pt=_.createdAt)&&void 0!==pt?pt:void 0,zh=null!==(Lt=_.lastLoginAt)&&void 0!==Lt?Lt:void 0,{uid:Wu,emailVerified:$o,isAnonymous:jh,providerData:go,stsTokenManager:Zu}=_;ae(Wu&&Zu,m,"internal-error");const Cm=Dn.fromJSON(this.name,Zu);ae("string"==typeof Wu,m,"internal-error"),Yn(En,m.name),Yn($r,m.name),ae("boolean"==typeof $o,m,"internal-error"),ae("boolean"==typeof jh,m,"internal-error"),Yn(zo,m.name),Yn(po,m.name),Yn(jo,m.name),Yn(mo,m.name),Yn(yc,m.name),Yn(zh,m.name);const vc=new zn({uid:Wu,auth:m,email:$r,emailVerified:$o,displayName:En,isAnonymous:jh,photoURL:po,phoneNumber:zo,tenantId:jo,stsTokenManager:Cm,createdAt:yc,lastLoginAt:zh});return go&&Array.isArray(go)&&(vc.providerData=go.map(Yu=>Object.assign({},Yu))),mo&&(vc._redirectEventId=mo),vc}static _fromIdTokenResponse(m,_,w=!1){return(0,l.Z)(function*(){const S=new Dn;S.updateFromServerResponse(_);const k=new zn({uid:_.localId,auth:m,stsTokenManager:S,isAnonymous:w});return yield ni(k),k})()}}const ci=new Map;function ei(b){kt(b instanceof Function,"Expected a class definition");let m=ci.get(b);return m?(kt(m instanceof b,"Instance stored in cache mismatched with class"),m):(m=new b,ci.set(b,m),m)}const wi=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(_,w){var S=this;return(0,l.Z)(function*(){S.storage[_]=w})()}_get(_){var w=this;return(0,l.Z)(function*(){const S=w.storage[_];return void 0===S?null:S})()}_remove(_){var w=this;return(0,l.Z)(function*(){delete w.storage[_]})()}_addListener(_,w){}_removeListener(_,w){}}return b.type="NONE",b})();function Mi(b,m,_){return`firebase:${b}:${m}:${_}`}class G{constructor(m,_,w){this.persistence=m,this.auth=_,this.userKey=w;const{config:S,name:k}=this.auth;this.fullUserKey=Mi(this.userKey,S.apiKey,k),this.fullPersistenceKey=Mi("persistence",S.apiKey,k),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,l.Z)(function*(){const _=yield m.persistence._get(m.fullUserKey);return _?zn._fromJSON(m.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var _=this;return(0,l.Z)(function*(){if(_.persistence===m)return;const w=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=m,w?_.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,_,w="authUser"){return(0,l.Z)(function*(){if(!_.length)return new G(ei(wi),m,w);const S=(yield Promise.all(_.map(function(){var pt=(0,l.Z)(function*(Lt){if(yield Lt._isAvailable())return Lt});return function(Lt){return pt.apply(this,arguments)}}()))).filter(pt=>pt);let k=S[0]||ei(wi);const J=Mi(w,m.config.apiKey,m.name);let fe=null;for(const pt of _)try{const Lt=yield pt._get(J);if(Lt){const En=zn._fromJSON(m,Lt);pt!==k&&(fe=En),k=pt;break}}catch{}const Ze=S.filter(pt=>pt._shouldAllowMigration);return k._shouldAllowMigration&&Ze.length?(k=Ze[0],fe&&(yield k._set(J,fe.toJSON())),yield Promise.all(_.map(function(){var pt=(0,l.Z)(function*(Lt){if(Lt!==k)try{yield Lt._remove(J)}catch{}});return function(Lt){return pt.apply(this,arguments)}}())),new G(k,m,w)):new G(k,m,w)})()}}function j(b){const m=b.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(X(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(R(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(rt(m))return"Blackberry";if(Ct(m))return"Webos";if(x(m))return"Safari";if((m.includes("chrome/")||M(m))&&!m.includes("edge/"))return"Chrome";if(Ce(m))return"Android";{const w=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===w?.length)return w[1]}return"Other"}function R(b=(0,z.z$)()){return/firefox\//i.test(b)}function x(b=(0,z.z$)()){const m=b.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function M(b=(0,z.z$)()){return/crios\//i.test(b)}function X(b=(0,z.z$)()){return/iemobile/i.test(b)}function Ce(b=(0,z.z$)()){return/android/i.test(b)}function rt(b=(0,z.z$)()){return/blackberry/i.test(b)}function Ct(b=(0,z.z$)()){return/webos/i.test(b)}function De(b=(0,z.z$)()){return/iphone|ipad|ipod/i.test(b)||/macintosh/i.test(b)&&/mobile/i.test(b)}function st(b=(0,z.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}function zt(b=(0,z.z$)()){return De(b)||Ce(b)||Ct(b)||rt(b)||/windows phone/i.test(b)||X(b)}function Ci(b,m=[]){let _;switch(b){case"Browser":_=j((0,z.z$)());break;case"Worker":_=`${j((0,z.z$)())}-${b}`;break;default:_=b}const w=m.length?m.join(","):"FirebaseCore-web";return`${_}/JsCore/${N.SDK_VERSION}/${w}`}function ie(){return(ie=(0,l.Z)(function*(b){return(yield ht(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Be(b,m){return He.apply(this,arguments)}function He(){return(He=(0,l.Z)(function*(b,m){return ht(b,"GET","/v2/recaptchaConfig",Ke(b,m))})).apply(this,arguments)}function Ft(b){return void 0!==b&&void 0!==b.getResponse}function Zt(b){return void 0!==b&&void 0!==b.enterprise}class bn{constructor(m){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===m.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=m.recaptchaKey.split("/")[3],this.emailPasswordEnabled=m.recaptchaEnforcementState.some(_=>"EMAIL_PASSWORD_PROVIDER"===_.provider&&"OFF"!==_.enforcementState)}}function sn(b){return new Promise((m,_)=>{const w=document.createElement("script");w.setAttribute("src",b),w.onload=m,w.onerror=S=>{const k=Te("internal-error");k.customData=S,_(k)},w.type="text/javascript",w.charset="UTF-8",function Vn(){var b,m;return null!==(m=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==m?m:document}().appendChild(w)})}function hi(b){return`__${b}${Math.floor(1e6*Math.random())}`}class Ai{constructor(m){this.type="recaptcha-enterprise",this.auth=ti(m)}verify(m="verify",_=!1){var w=this;return(0,l.Z)(function*(){function k(){return k=(0,l.Z)(function*(fe){if(!_){if(null==fe.tenantId&&null!=fe._agentRecaptchaConfig)return fe._agentRecaptchaConfig.siteKey;if(null!=fe.tenantId&&void 0!==fe._tenantRecaptchaConfigs[fe.tenantId])return fe._tenantRecaptchaConfigs[fe.tenantId].siteKey}return new Promise(function(){var Ze=(0,l.Z)(function*(pt,Lt){Be(fe,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(En=>{if(void 0!==En.recaptchaKey){const $r=new bn(En);return null==fe.tenantId?fe._agentRecaptchaConfig=$r:fe._tenantRecaptchaConfigs[fe.tenantId]=$r,pt($r.siteKey)}Lt(new Error("recaptcha Enterprise site key undefined"))}).catch(En=>{Lt(En)})});return function(pt,Lt){return Ze.apply(this,arguments)}}())}),k.apply(this,arguments)}function J(fe,Ze,pt){const Lt=window.grecaptcha;Zt(Lt)?Lt.enterprise.ready(()=>{Lt.enterprise.execute(fe,{action:m}).then(En=>{Ze(En)}).catch(()=>{Ze("NO_RECAPTCHA")})}):pt(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((fe,Ze)=>{(function S(fe){return k.apply(this,arguments)})(w.auth).then(pt=>{if(!_&&Zt(window.grecaptcha))J(pt,fe,Ze);else{if(typeof window>"u")return void Ze(new Error("RecaptchaVerifier is only supported in browser"));sn("https://www.google.com/recaptcha/enterprise.js?render="+pt).then(()=>{J(pt,fe,Ze)}).catch(Lt=>{Ze(Lt)})}}).catch(pt=>{Ze(pt)})})})()}}function un(b,m,_){return as.apply(this,arguments)}function as(){return(as=(0,l.Z)(function*(b,m,_,w=!1){const S=new Ai(b);let k;try{k=yield S.verify(_)}catch{k=yield S.verify(_,!0)}const J=Object.assign({},m);return Object.assign(J,w?{captchaResp:k}:{captchaResponse:k}),Object.assign(J,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(J,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),J})).apply(this,arguments)}class qs{constructor(m){this.auth=m,this.queue=[]}pushCallback(m,_){const w=k=>new Promise((J,fe)=>{try{J(m(k))}catch(Ze){fe(Ze)}});w.onAbort=_,this.queue.push(w);const S=this.queue.length-1;return()=>{this.queue[S]=()=>Promise.resolve()}}runMiddleware(m){var _=this;return(0,l.Z)(function*(){if(_.auth.currentUser===m)return;const w=[];try{for(const S of _.queue)yield S(m),S.onAbort&&w.push(S.onAbort)}catch(S){w.reverse();for(const k of w)try{k()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:S?.message})}})()}}class Ur{constructor(m,_,w,S){this.app=m,this.heartbeatServiceProvider=_,this.appCheckServiceProvider=w,this.config=S,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ri(this),this.idTokenSubscription=new ri(this),this.beforeStateQueue=new qs(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=S.sdkClientVersion}_initializeWithPersistence(m,_){var w=this;return _&&(this._popupRedirectResolver=ei(_)),this._initializationPromise=this.queue((0,l.Z)(function*(){var S,k;if(!w._deleted&&(w.persistenceManager=yield G.create(w,m),!w._deleted)){if(null!==(S=w._popupRedirectResolver)&&void 0!==S&&S._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(_),w.lastNotifiedUid=(null===(k=w.currentUser)||void 0===k?void 0:k.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,l.Z)(function*(){if(m._deleted)return;const _=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||_){if(m.currentUser&&_&&m.currentUser.uid===_.uid)return m._currentUser._assign(_),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(_,!0)}})()}initializeCurrentUser(m){var _=this;return(0,l.Z)(function*(){var w;const S=yield _.assertedPersistence.getCurrentUser();let k=S,J=!1;if(m&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const fe=null===(w=_.redirectUser)||void 0===w?void 0:w._redirectEventId,Ze=k?._redirectEventId,pt=yield _.tryRedirectSignIn(m);(!fe||fe===Ze)&&pt?.user&&(k=pt.user,J=!0)}if(!k)return _.directlySetCurrentUser(null);if(!k._redirectEventId){if(J)try{yield _.beforeStateQueue.runMiddleware(k)}catch(fe){k=S,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(fe))}return k?_.reloadAndSetCurrentUserOrClear(k):_.directlySetCurrentUser(null)}return ae(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===k._redirectEventId?_.directlySetCurrentUser(k):_.reloadAndSetCurrentUserOrClear(k)})()}tryRedirectSignIn(m){var _=this;return(0,l.Z)(function*(){let w=null;try{w=yield _._popupRedirectResolver._completeRedirectFn(_,m,!0)}catch{yield _._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(m){var _=this;return(0,l.Z)(function*(){try{yield ni(m)}catch(w){if("auth/network-request-failed"!==w?.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function pe(){if(typeof navigator>"u")return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var m=this;return(0,l.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var _=this;return(0,l.Z)(function*(){const w=m?(0,z.m9)(m):null;return w&&ae(w.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(w&&w._clone(_))})()}_updateCurrentUser(m,_=!1){var w=this;return(0,l.Z)(function*(){if(!w._deleted)return m&&ae(w.tenantId===m.tenantId,w,"tenant-id-mismatch"),_||(yield w.beforeStateQueue.runMiddleware(m)),w.queue((0,l.Z)(function*(){yield w.directlySetCurrentUser(m),w.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,l.Z)(function*(){return yield m.beforeStateQueue.runMiddleware(null),(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null,!0)})()}setPersistence(m){var _=this;return this.queue((0,l.Z)(function*(){yield _.assertedPersistence.setPersistence(ei(m))}))}initializeRecaptchaConfig(){var m=this;return(0,l.Z)(function*(){const _=yield Be(m,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),w=new bn(_);null==m.tenantId?m._agentRecaptchaConfig=w:m._tenantRecaptchaConfigs[m.tenantId]=w,w.emailPasswordEnabled&&new Ai(m).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new z.LL("auth","Firebase",m())}onAuthStateChanged(m,_,w){return this.registerStateListener(this.authStateSubscription,m,_,w)}beforeAuthStateChanged(m,_){return this.beforeStateQueue.pushCallback(m,_)}onIdTokenChanged(m,_,w){return this.registerStateListener(this.idTokenSubscription,m,_,w)}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,_){var w=this;return(0,l.Z)(function*(){const S=yield w.getOrInitRedirectPersistenceManager(_);return null===m?S.removeCurrentUser():S.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var _=this;return(0,l.Z)(function*(){if(!_.redirectPersistenceManager){const w=m&&ei(m)||_._popupRedirectResolver;ae(w,_,"argument-error"),_.redirectPersistenceManager=yield G.create(_,[ei(w._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(m){var _=this;return(0,l.Z)(function*(){var w,S;return _._isInitialized&&(yield _.queue((0,l.Z)(function*(){}))),(null===(w=_._currentUser)||void 0===w?void 0:w._redirectEventId)===m?_._currentUser:(null===(S=_.redirectUser)||void 0===S?void 0:S._redirectEventId)===m?_.redirectUser:null})()}_persistUserIfCurrent(m){var _=this;return(0,l.Z)(function*(){if(m===_.currentUser)return _.queue((0,l.Z)(function*(){return _.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(_=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,_,w,S){if(this._deleted)return()=>{};const k="function"==typeof _?_:_.next.bind(_),J=this._isInitialized?Promise.resolve():this._initializationPromise;return ae(J,this,"internal-error"),J.then(()=>k(this.currentUser)),"function"==typeof _?m.addObserver(_,w,S):m.addObserver(_)}directlySetCurrentUser(m){var _=this;return(0,l.Z)(function*(){_.currentUser&&_.currentUser!==m&&_._currentUser._stopProactiveRefresh(),m&&_.isProactiveRefreshEnabled&&m._startProactiveRefresh(),_.currentUser=m,m?yield _.assertedPersistence.setCurrentUser(m):yield _.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=Ci(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,l.Z)(function*(){var _;const w={"X-Client-Version":m.clientVersion};m.app.options.appId&&(w["X-Firebase-gmpid"]=m.app.options.appId);const S=yield null===(_=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();S&&(w["X-Firebase-Client"]=S);const k=yield m._getAppCheckToken();return k&&(w["X-Firebase-AppCheck"]=k),w})()}_getAppCheckToken(){var m=this;return(0,l.Z)(function*(){var _;const w=yield null===(_=m.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getToken();return w?.error&&function St(b,...m){_e.logLevel<=de.in.WARN&&_e.warn(`Auth (${N.SDK_VERSION}): ${b}`,...m)}(`Error while retrieving App Check token: ${w.error}`),w?.token})()}}function ti(b){return(0,z.m9)(b)}class ri{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,z.ne)(_=>this.observer=_)}get next(){return ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function U(b,m,_){const w=ti(b);ae(w._canInitEmulator,w,"emulator-config-failed"),ae(/^https?:\/\//.test(m),w,"invalid-emulator-scheme");const S=!!_?.disableWarnings,k=Q(m),{host:J,port:fe}=function ke(b){const m=Q(b),_=/(\/\/)?([^?#/]+)/.exec(b.substr(m.length));if(!_)return{host:"",port:null};const w=_[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(w);if(S){const k=S[1];return{host:k,port:qe(w.substr(k.length+1))}}{const[k,J]=w.split(":");return{host:k,port:qe(J)}}}(m);w.config.emulator={url:`${k}//${J}${null===fe?"":`:${fe}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:J,port:fe,protocol:k.replace(":",""),options:Object.freeze({disableWarnings:S})}),S||function Mt(){function b(){const m=document.createElement("p"),_=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}function Q(b){const m=b.indexOf(":");return m<0?"":b.substr(0,m+1)}function qe(b){if(!b)return null;const m=Number(b);return isNaN(m)?null:m}class F{constructor(m,_){this.providerId=m,this.signInMethod=_}toJSON(){return et("not implemented")}_getIdTokenResponse(m){return et("not implemented")}_linkToIdToken(m,_){return et("not implemented")}_getReauthenticationResolver(m){return et("not implemented")}}function Y(b,m){return ue.apply(this,arguments)}function ue(){return(ue=(0,l.Z)(function*(b,m){return ht(b,"POST","/v1/accounts:resetPassword",Ke(b,m))})).apply(this,arguments)}function Ye(b,m){return pn.apply(this,arguments)}function pn(){return(pn=(0,l.Z)(function*(b,m){return ht(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Qt(b,m){return At.apply(this,arguments)}function At(){return(At=(0,l.Z)(function*(b,m){return ht(b,"POST","/v1/accounts:update",Ke(b,m))})).apply(this,arguments)}function Ei(b,m){return kn.apply(this,arguments)}function kn(){return(kn=(0,l.Z)(function*(b,m){return $t(b,"POST","/v1/accounts:signInWithPassword",Ke(b,m))})).apply(this,arguments)}function Qi(b,m){return Es.apply(this,arguments)}function Es(){return(Es=(0,l.Z)(function*(b,m){return ht(b,"POST","/v1/accounts:sendOobCode",Ke(b,m))})).apply(this,arguments)}function sh(b,m){return hu.apply(this,arguments)}function hu(){return(hu=(0,l.Z)(function*(b,m){return Qi(b,m)})).apply(this,arguments)}function $l(b,m){return fu.apply(this,arguments)}function fu(){return(fu=(0,l.Z)(function*(b,m){return Qi(b,m)})).apply(this,arguments)}function pu(b,m){return mu.apply(this,arguments)}function mu(){return(mu=(0,l.Z)(function*(b,m){return Qi(b,m)})).apply(this,arguments)}function zp(b,m){return oh.apply(this,arguments)}function oh(){return(oh=(0,l.Z)(function*(b,m){return Qi(b,m)})).apply(this,arguments)}function Gl(){return(Gl=(0,l.Z)(function*(b,m){return $t(b,"POST","/v1/accounts:signInWithEmailLink",Ke(b,m))})).apply(this,arguments)}function Mo(){return(Mo=(0,l.Z)(function*(b,m){return $t(b,"POST","/v1/accounts:signInWithEmailLink",Ke(b,m))})).apply(this,arguments)}class fa extends F{constructor(m,_,w,S=null){super("password",w),this._email=m,this._password=_,this._tenantId=S}static _fromEmailAndPassword(m,_){return new fa(m,_,"password")}static _fromEmailAndCode(m,_,w=null){return new fa(m,_,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m;if(_?.email&&_?.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(m){var _=this;return(0,l.Z)(function*(){var w;switch(_.signInMethod){case"password":const S={returnSecureToken:!0,email:_._email,password:_._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(w=m._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const k=yield un(m,S,"signInWithPassword");return Ei(m,k)}return Ei(m,S).catch(function(){var k=(0,l.Z)(function*(J){if("auth/missing-recaptcha-token"===J.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const fe=yield un(m,S,"signInWithPassword");return Ei(m,fe)}return Promise.reject(J)});return function(J){return k.apply(this,arguments)}}());case"emailLink":return function jp(b,m){return Gl.apply(this,arguments)}(m,{email:_._email,oobCode:_._password});default:Ie(m,"internal-error")}})()}_linkToIdToken(m,_){var w=this;return(0,l.Z)(function*(){switch(w.signInMethod){case"password":return Ye(m,{idToken:_,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function gu(b,m){return Mo.apply(this,arguments)}(m,{idToken:_,email:w._email,oobCode:w._password});default:Ie(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function Ws(b,m){return qa.apply(this,arguments)}function qa(){return(qa=(0,l.Z)(function*(b,m){return $t(b,"POST","/v1/accounts:signInWithIdp",Ke(b,m))})).apply(this,arguments)}class Hr extends F{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const _=new Hr(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(_.idToken=m.idToken),m.accessToken&&(_.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(_.nonce=m.nonce),m.pendingToken&&(_.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(_.accessToken=m.oauthToken,_.secret=m.oauthTokenSecret):Ie("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m,{providerId:w,signInMethod:S}=_,k=(0,le._T)(_,["providerId","signInMethod"]);if(!w||!S)return null;const J=new Hr(w,S);return J.idToken=k.idToken||void 0,J.accessToken=k.accessToken||void 0,J.secret=k.secret,J.nonce=k.nonce,J.pendingToken=k.pendingToken||null,J}_getIdTokenResponse(m){return Ws(m,this.buildRequest())}_linkToIdToken(m,_){const w=this.buildRequest();return w.idToken=_,Ws(m,w)}_getReauthenticationResolver(m){const _=this.buildRequest();return _.autoCreate=!1,Ws(m,_)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),m.postBody=(0,z.xO)(_)}return m}}function pa(b,m){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,l.Z)(function*(b,m){return ht(b,"POST","/v1/accounts:sendVerificationCode",Ke(b,m))})).apply(this,arguments)}function lo(){return(lo=(0,l.Z)(function*(b,m){return $t(b,"POST","/v1/accounts:signInWithPhoneNumber",Ke(b,m))})).apply(this,arguments)}function yu(){return(yu=(0,l.Z)(function*(b,m){const _=yield $t(b,"POST","/v1/accounts:signInWithPhoneNumber",Ke(b,m));if(_.temporaryProof)throw Qn(b,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const co={USER_NOT_FOUND:"user-not-found"};function ql(){return(ql=(0,l.Z)(function*(b,m){return $t(b,"POST","/v1/accounts:signInWithPhoneNumber",Ke(b,Object.assign(Object.assign({},m),{operation:"REAUTH"})),co)})).apply(this,arguments)}class si extends F{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,_){return new si({verificationId:m,verificationCode:_})}static _fromTokenResponse(m,_){return new si({phoneNumber:m,temporaryProof:_})}_getIdTokenResponse(m){return function ma(b,m){return lo.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,_){return function _u(b,m){return yu.apply(this,arguments)}(m,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function Wa(b,m){return ql.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:_,verificationId:w,verificationCode:S}=this.params;return m&&_?{temporaryProof:m,phoneNumber:_}:{sessionInfo:w,code:S}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:_,verificationCode:w,phoneNumber:S,temporaryProof:k}=m;return w||_||S||k?new si({verificationId:_,verificationCode:w,phoneNumber:S,temporaryProof:k}):null}}class Ds{constructor(m){var _,w,S,k,J,fe;const Ze=(0,z.zd)((0,z.pd)(m)),pt=null!==(_=Ze.apiKey)&&void 0!==_?_:null,Lt=null!==(w=Ze.oobCode)&&void 0!==w?w:null,En=function Za(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=Ze.mode)&&void 0!==S?S:null);ae(pt&&Lt&&En,"argument-error"),this.apiKey=pt,this.operation=En,this.code=Lt,this.continueUrl=null!==(k=Ze.continueUrl)&&void 0!==k?k:null,this.languageCode=null!==(J=Ze.languageCode)&&void 0!==J?J:null,this.tenantId=null!==(fe=Ze.tenantId)&&void 0!==fe?fe:null}static parseLink(m){const _=function vu(b){const m=(0,z.zd)((0,z.pd)(b)).link,_=m?(0,z.zd)((0,z.pd)(m)).deep_link_id:null,w=(0,z.zd)((0,z.pd)(b)).deep_link_id;return(w?(0,z.zd)((0,z.pd)(w)).link:null)||w||_||m||b}(m);try{return new Ds(_)}catch{return null}}}let ah=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(_,w){return fa._fromEmailAndPassword(_,w)}static credentialWithLink(_,w){const S=Ds.parseLink(w);return ae(S,"argument-error"),fa._fromEmailAndCode(_,S.code,S.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class In{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class _a extends In{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class Wl extends _a{static credentialFromJSON(m){const _="string"==typeof m?JSON.parse(m):m;return ae("providerId"in _&&"signInMethod"in _,"argument-error"),Hr._fromParams(_)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return ae(m.idToken||m.accessToken,"argument-error"),Hr._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return Wl.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return Wl.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:_,oauthAccessToken:w,oauthTokenSecret:S,pendingToken:k,nonce:J,providerId:fe}=m;if(!w&&!S&&!_&&!k||!fe)return null;try{return new Wl(fe)._credential({idToken:_,accessToken:w,nonce:J,pendingToken:k})}catch{return null}}}let xo=(()=>{class b extends _a{constructor(){super("facebook.com")}static credential(_){return Hr._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),xr=(()=>{class b extends _a{constructor(){super("google.com"),this.addScope("profile")}static credential(_,w){return Hr._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:w})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:w,oauthAccessToken:S}=_;if(!w&&!S)return null;try{return b.credential(w,S)}catch{return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),$p=(()=>{class b extends _a{constructor(){super("github.com")}static credential(_){return Hr._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class H extends F{constructor(m,_){super(m,m),this.pendingToken=_}_getIdTokenResponse(m){return Ws(m,this.buildRequest())}_linkToIdToken(m,_){const w=this.buildRequest();return w.idToken=_,Ws(m,w)}_getReauthenticationResolver(m){const _=this.buildRequest();return _.autoCreate=!1,Ws(m,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m,{providerId:w,signInMethod:S,pendingToken:k}=_;return w&&S&&k&&w===S?new H(w,k):null}static _create(m,_){return new H(m,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class W extends In{constructor(m){ae(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return W.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return W.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const _=H.fromJSON(m);return ae(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:_,providerId:w}=m;if(!_||!w)return null;try{return H._create(w,_)}catch{return null}}}let he=(()=>{class b extends _a{constructor(){super("twitter.com")}static credential(_,w){return Hr._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:w})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:w,oauthTokenSecret:S}=_;if(!w||!S)return null;try{return b.credential(w,S)}catch{return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function Se(b,m){return je.apply(this,arguments)}function je(){return(je=(0,l.Z)(function*(b,m){return $t(b,"POST","/v1/accounts:signUp",Ke(b,m))})).apply(this,arguments)}class tt{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,_,w,S=!1){return(0,l.Z)(function*(){const k=yield zn._fromIdTokenResponse(m,w,S),J=Yt(w);return new tt({user:k,providerId:J,_tokenResponse:w,operationType:_})})()}static _forOperation(m,_,w){return(0,l.Z)(function*(){yield m._updateTokensIfNecessary(w,!0);const S=Yt(w);return new tt({user:m,providerId:S,_tokenResponse:w,operationType:_})})()}}function Yt(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function We(b){return ln.apply(this,arguments)}function ln(){return(ln=(0,l.Z)(function*(b){var m;const _=ti(b);if(yield _._initializationPromise,null!==(m=_.currentUser)&&void 0!==m&&m.isAnonymous)return new tt({user:_.currentUser,providerId:null,operationType:"signIn"});const w=yield Se(_,{returnSecureToken:!0}),S=yield tt._fromIdTokenResponse(_,"signIn",w,!0);return yield _._updateCurrentUser(S.user),S})).apply(this,arguments)}class Tn extends z.ZR{constructor(m,_,w,S){var k;super(_.code,_.message),this.operationType=w,this.user=S,Object.setPrototypeOf(this,Tn.prototype),this.customData={appName:m.name,tenantId:null!==(k=m.tenantId)&&void 0!==k?k:void 0,_serverResponse:_.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(m,_,w,S){return new Tn(m,_,w,S)}}function cr(b,m,_,w){return("reauthenticate"===m?_._getReauthenticationResolver(b):_._getIdTokenResponse(b)).catch(k=>{throw"auth/multi-factor-auth-required"===k.code?Tn._fromErrorAndOperation(b,k,m,w):k})}function kr(b){return new Set(b.map(({providerId:m})=>m).filter(m=>!!m))}function Xi(b,m){return uo.apply(this,arguments)}function uo(){return(uo=(0,l.Z)(function*(b,m){const _=(0,z.m9)(b);yield Oe(!0,_,m);const{providerUserInfo:w}=yield ar(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[m]}),S=kr(w||[]);return _.providerData=_.providerData.filter(k=>S.has(k.providerId)),S.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function ya(b,m){return ko.apply(this,arguments)}function ko(){return(ko=(0,l.Z)(function*(b,m,_=!1){const w=yield Nt(b,m._linkToIdToken(b.auth,yield b.getIdToken()),_);return tt._forOperation(b,"link",w)})).apply(this,arguments)}function Oe(b,m,_){return dn.apply(this,arguments)}function dn(){return(dn=(0,l.Z)(function*(b,m,_){yield ni(m);const S=!1===b?"provider-already-linked":"no-such-provider";ae(kr(m.providerData).has(_)===b,m.auth,S)})).apply(this,arguments)}function Ka(b,m){return bu.apply(this,arguments)}function bu(){return(bu=(0,l.Z)(function*(b,m,_=!1){const{auth:w}=b,S="reauthenticate";try{const k=yield Nt(b,cr(w,S,m,b),_);ae(k.idToken,w,"internal-error");const J=Mn(k.idToken);ae(J,w,"internal-error");const{sub:fe}=J;return ae(b.uid===fe,w,"user-mismatch"),tt._forOperation(b,S,k)}catch(k){throw"auth/user-not-found"===k?.code&&Ie(w,"user-mismatch"),k}})).apply(this,arguments)}function Ji(b,m){return wu.apply(this,arguments)}function wu(){return(wu=(0,l.Z)(function*(b,m,_=!1){const w="signIn",S=yield cr(b,w,m),k=yield tt._fromIdTokenResponse(b,w,S);return _||(yield b._updateCurrentUser(k.user)),k})).apply(this,arguments)}function Ro(b,m){return us.apply(this,arguments)}function us(){return(us=(0,l.Z)(function*(b,m){return Ji(ti(b),m)})).apply(this,arguments)}function Cu(b,m){return Eu.apply(this,arguments)}function Eu(){return(Eu=(0,l.Z)(function*(b,m){const _=(0,z.m9)(b);return yield Oe(!1,_,m.providerId),ya(_,m)})).apply(this,arguments)}function sy(b,m){return fi.apply(this,arguments)}function fi(){return(fi=(0,l.Z)(function*(b,m){return Ka((0,z.m9)(b),m)})).apply(this,arguments)}function vS(b,m){return lh.apply(this,arguments)}function lh(){return(lh=(0,l.Z)(function*(b,m){return $t(b,"POST","/v1/accounts:signInWithCustomToken",Ke(b,m))})).apply(this,arguments)}function zr(b,m){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,l.Z)(function*(b,m){const _=ti(b),w=yield vS(_,{token:m,returnSecureToken:!0}),S=yield tt._fromIdTokenResponse(_,"signIn",w);return yield _._updateCurrentUser(S.user),S})).apply(this,arguments)}class Zl{constructor(m,_){this.factorId=m,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(m,_){return"phoneInfo"in _?va._fromServerResponse(m,_):"totpInfo"in _?Is._fromServerResponse(m,_):Ie(m,"internal-error")}}class va extends Zl{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,_){return new va(_)}}class Is extends Zl{constructor(m){super("totp",m)}static _fromServerResponse(m,_){return new Is(_)}}function Yl(b,m,_){var w;ae((null===(w=_.url)||void 0===w?void 0:w.length)>0,b,"invalid-continue-uri"),ae(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),m.continueUrl=_.url,m.dynamicLinkDomain=_.dynamicLinkDomain,m.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(ae(_.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),m.iOSBundleId=_.iOS.bundleId),_.android&&(ae(_.android.packageName.length>0,b,"missing-android-pkg-name"),m.androidInstallApp=_.android.installApp,m.androidMinimumVersionCode=_.android.minimumVersion,m.androidPackageName=_.android.packageName)}function oy(b,m,_){return Gp.apply(this,arguments)}function Gp(){return Gp=(0,l.Z)(function*(b,m,_){var w;const S=ti(b),k={requestType:"PASSWORD_RESET",email:m,clientType:"CLIENT_TYPE_WEB"};if(null!==(w=S._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const J=yield un(S,k,"getOobCode",!0);_&&Yl(S,J,_),yield $l(S,J)}else _&&Yl(S,k,_),yield $l(S,k).catch(function(){var J=(0,l.Z)(function*(fe){if("auth/missing-recaptcha-token"!==fe.code)return Promise.reject(fe);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Ze=yield un(S,k,"getOobCode",!0);_&&Yl(S,Ze,_),yield $l(S,Ze)}});return function(fe){return J.apply(this,arguments)}}())}),Gp.apply(this,arguments)}function qp(b,m,_){return Kl.apply(this,arguments)}function Kl(){return(Kl=(0,l.Z)(function*(b,m,_){yield Y((0,z.m9)(b),{oobCode:m,newPassword:_})})).apply(this,arguments)}function ch(b,m){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,l.Z)(function*(b,m){yield Qt((0,z.m9)(b),{oobCode:m})})).apply(this,arguments)}function Oo(b,m){return Wp.apply(this,arguments)}function Wp(){return(Wp=(0,l.Z)(function*(b,m){const _=(0,z.m9)(b),w=yield Y(_,{oobCode:m}),S=w.requestType;switch(ae(S,_,"internal-error"),S){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ae(w.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ae(w.mfaInfo,_,"internal-error");default:ae(w.email,_,"internal-error")}let k=null;return w.mfaInfo&&(k=Zl._fromServerResponse(ti(_),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:k},operation:S}})).apply(this,arguments)}function ay(b,m){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,l.Z)(function*(b,m){const{data:_}=yield Oo((0,z.m9)(b),m);return _.email})).apply(this,arguments)}function uh(b,m,_){return dh.apply(this,arguments)}function dh(){return dh=(0,l.Z)(function*(b,m,_){var w;const S=ti(b),k={returnSecureToken:!0,email:m,password:_,clientType:"CLIENT_TYPE_WEB"};let J;if(null!==(w=S._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const pt=yield un(S,k,"signUpPassword");J=Se(S,pt)}else J=Se(S,k).catch(function(){var pt=(0,l.Z)(function*(Lt){if("auth/missing-recaptcha-token"===Lt.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const En=yield un(S,k,"signUpPassword");return Se(S,En)}return Promise.reject(Lt)});return function(Lt){return pt.apply(this,arguments)}}());const fe=yield J.catch(pt=>Promise.reject(pt)),Ze=yield tt._fromIdTokenResponse(S,"signIn",fe);return yield S._updateCurrentUser(Ze.user),Ze}),dh.apply(this,arguments)}function ly(b,m,_){return Ro((0,z.m9)(b),ah.credential(m,_))}function Zp(b,m,_){return Ja.apply(this,arguments)}function Ja(){return Ja=(0,l.Z)(function*(b,m,_){var w;const S=ti(b),k={requestType:"EMAIL_SIGNIN",email:m,clientType:"CLIENT_TYPE_WEB"};function J(fe,Ze){ae(Ze.handleCodeInApp,S,"argument-error"),Ze&&Yl(S,fe,Ze)}if(null!==(w=S._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const fe=yield un(S,k,"getOobCode",!0);J(fe,_),yield pu(S,fe)}else J(k,_),yield pu(S,k).catch(function(){var fe=(0,l.Z)(function*(Ze){if("auth/missing-recaptcha-token"!==Ze.code)return Promise.reject(Ze);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const pt=yield un(S,k,"getOobCode",!0);J(pt,_),yield pu(S,pt)}});return function(Ze){return fe.apply(this,arguments)}}())}),Ja.apply(this,arguments)}function M0(b,m){return"EMAIL_SIGNIN"===Ds.parseLink(m)?.operation}function A0(b,m,_){return br.apply(this,arguments)}function br(){return(br=(0,l.Z)(function*(b,m,_){const w=(0,z.m9)(b),S=ah.credentialWithLink(m,_||vt());return ae(S._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),Ro(w,S)})).apply(this,arguments)}function ba(b,m){return ui.apply(this,arguments)}function ui(){return(ui=(0,l.Z)(function*(b,m){return ht(b,"POST","/v1/accounts:createAuthUri",Ke(b,m))})).apply(this,arguments)}function cy(b,m){return Yp.apply(this,arguments)}function Yp(){return(Yp=(0,l.Z)(function*(b,m){const w={identifier:m,continueUri:on()?vt():"http://localhost"},{signinMethods:S}=yield ba((0,z.m9)(b),w);return S||[]})).apply(this,arguments)}function uy(b,m){return Kp.apply(this,arguments)}function Kp(){return(Kp=(0,l.Z)(function*(b,m){const _=(0,z.m9)(b),S={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};m&&Yl(_.auth,S,m);const{email:k}=yield sh(_.auth,S);k!==b.email&&(yield b.reload())})).apply(this,arguments)}function x0(b,m,_){return hh.apply(this,arguments)}function hh(){return(hh=(0,l.Z)(function*(b,m,_){const w=(0,z.m9)(b),k={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:m};_&&Yl(w.auth,k,_);const{email:J}=yield zp(w.auth,k);J!==b.email&&(yield b.reload())})).apply(this,arguments)}function fh(b,m){return el.apply(this,arguments)}function el(){return(el=(0,l.Z)(function*(b,m){return ht(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Du(b,m){return Iu.apply(this,arguments)}function Iu(){return(Iu=(0,l.Z)(function*(b,{displayName:m,photoURL:_}){if(void 0===m&&void 0===_)return;const w=(0,z.m9)(b),k={idToken:yield w.getIdToken(),displayName:m,photoUrl:_,returnSecureToken:!0},J=yield Nt(w,fh(w.auth,k));w.displayName=J.displayName||null,w.photoURL=J.photoUrl||null;const fe=w.providerData.find(({providerId:Ze})=>"password"===Ze);fe&&(fe.displayName=w.displayName,fe.photoURL=w.photoURL),yield w._updateTokensIfNecessary(J)})).apply(this,arguments)}function dy(b,m){return Po((0,z.m9)(b),m,null)}function k0(b,m){return Po((0,z.m9)(b),null,m)}function Po(b,m,_){return tl.apply(this,arguments)}function tl(){return(tl=(0,l.Z)(function*(b,m,_){const{auth:w}=b,k={idToken:yield b.getIdToken(),returnSecureToken:!0};m&&(k.email=m),_&&(k.password=_);const J=yield Nt(b,Ye(w,k));yield b._updateTokensIfNecessary(J,!0)})).apply(this,arguments)}class Ql{constructor(m,_,w={}){this.isNewUser=m,this.providerId=_,this.profile=w}}class Xl extends Ql{constructor(m,_,w,S){super(m,_,w),this.username=S}}class Qp extends Ql{constructor(m,_){super(m,"facebook.com",_)}}class O0 extends Xl{constructor(m,_){super(m,"github.com",_,"string"==typeof _?.login?_?.login:null)}}class hy extends Ql{constructor(m,_){super(m,"google.com",_)}}class Xp extends Xl{constructor(m,_,w){super(m,"twitter.com",_,w)}}function Tu(b){const{user:m,_tokenResponse:_}=b;return m.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function R0(b){var m,_;if(!b)return null;const{providerId:w}=b,S=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},k=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!w&&b?.idToken){const J=null===(_=null===(m=Mn(b.idToken))||void 0===m?void 0:m.firebase)||void 0===_?void 0:_.sign_in_provider;if(J)return new Ql(k,"anonymous"!==J&&"custom"!==J?J:null)}if(!w)return null;switch(w){case"facebook.com":return new Qp(k,S);case"github.com":return new O0(k,S);case"google.com":return new hy(k,S);case"twitter.com":return new Xp(k,S,b.screenName||null);case"custom":case"anonymous":return new Ql(k,null);default:return new Ql(k,w,S)}}(_)}function em(b,m,_,w){return(0,z.m9)(b).onAuthStateChanged(m,_,w)}class Ts{constructor(m,_,w){this.type=m,this.credential=_,this.auth=w}static _fromIdtoken(m,_){return new Ts("enroll",m,_)}static _fromMfaPendingCredential(m){return new Ts("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var _,w;if(m?.multiFactorSession){if(null!==(_=m.multiFactorSession)&&void 0!==_&&_.pendingCredential)return Ts._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null!==(w=m.multiFactorSession)&&void 0!==w&&w.idToken)return Ts._fromIdtoken(m.multiFactorSession.idToken)}return null}}class mh{constructor(m,_,w){this.session=m,this.hints=_,this.signInResolver=w}static _fromError(m,_){const w=ti(m),S=_.customData._serverResponse,k=(S.mfaInfo||[]).map(fe=>Zl._fromServerResponse(w,fe));ae(S.mfaPendingCredential,w,"internal-error");const J=Ts._fromMfaPendingCredential(S.mfaPendingCredential);return new mh(J,k,function(){var fe=(0,l.Z)(function*(Ze){const pt=yield Ze._process(w,J);delete S.mfaInfo,delete S.mfaPendingCredential;const Lt=Object.assign(Object.assign({},S),{idToken:pt.idToken,refreshToken:pt.refreshToken});switch(_.operationType){case"signIn":const En=yield tt._fromIdTokenResponse(w,_.operationType,Lt);return yield w._updateCurrentUser(En.user),En;case"reauthenticate":return ae(_.user,w,"internal-error"),tt._forOperation(_.user,_.operationType,Lt);default:Ie(w,"internal-error")}});return function(Ze){return fe.apply(this,arguments)}}())}resolveSignIn(m){var _=this;return(0,l.Z)(function*(){return _.signInResolver(m)})()}}function nl(b,m){var _;const w=(0,z.m9)(b),S=m;return ae(m.customData.operationType,w,"argument-error"),ae(null===(_=S.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,w,"argument-error"),mh._fromError(w,S)}function gh(b,m){return ht(b,"POST","/v2/accounts/mfaEnrollment:start",Ke(b,m))}class tc{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(w=>Zl._fromServerResponse(m.auth,w)))})}static _fromUser(m){return new tc(m)}getSession(){var m=this;return(0,l.Z)(function*(){return Ts._fromIdtoken(yield m.user.getIdToken(),m.user.auth)})()}enroll(m,_){var w=this;return(0,l.Z)(function*(){const S=m,k=yield w.getSession(),J=yield Nt(w.user,S._process(w.user.auth,k,_));return yield w.user._updateTokensIfNecessary(J),w.user.reload()})()}unenroll(m){var _=this;return(0,l.Z)(function*(){const w="string"==typeof m?m:m.uid,S=yield _.user.getIdToken();try{const k=yield Nt(_.user,function il(b,m){return ht(b,"POST","/v2/accounts/mfaEnrollment:withdraw",Ke(b,m))}(_.user.auth,{idToken:S,mfaEnrollmentId:w}));_.enrolledFactors=_.enrolledFactors.filter(({uid:J})=>J!==w),yield _.user._updateTokensIfNecessary(k),yield _.user.reload()}catch(k){throw k}})()}}const nc=new WeakMap;function Mu(b){const m=(0,z.m9)(b);return nc.has(m)||nc.set(m,tc._fromUser(m)),nc.get(m)}const wa="__sak";class ic{constructor(m,_){this.storageRetriever=m,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(wa,"1"),this.storage.removeItem(wa),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(m,_){return this.storage.setItem(m,JSON.stringify(_)),Promise.resolve()}_get(m){const _=this.storage.getItem(m);return Promise.resolve(_?JSON.parse(_):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const nm=(()=>{class b extends ic{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,w)=>this.onStorageEvent(_,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function yh(){const b=(0,z.z$)();return x(b)||De(b)}()&&function gn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=zt(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const w of Object.keys(this.listeners)){const S=this.storage.getItem(w),k=this.localCache[w];S!==k&&_(w,k,S)}}onStorageEvent(_,w=!1){if(!_.key)return void this.forAllChangedKeys((fe,Ze,pt)=>{this.notifyListeners(fe,pt)});const S=_.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const fe=this.storage.getItem(S);if(_.newValue!==fe)null!==_.newValue?this.storage.setItem(S,_.newValue):this.storage.removeItem(S);else if(this.localCache[S]===_.newValue&&!w)return}const k=()=>{const fe=this.storage.getItem(S);!w&&this.localCache[S]===fe||this.notifyListeners(S,fe)},J=this.storage.getItem(S);!function an(){return(0,z.w1)()&&10===document.documentMode}()||J===_.newValue||_.newValue===_.oldValue?k():setTimeout(k,10)}notifyListeners(_,w){this.localCache[_]=w;const S=this.listeners[_];if(S)for(const k of Array.from(S))k(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,w,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:w,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(w)}_removeListener(_,w){this.listeners[_]&&(this.listeners[_].delete(w),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,w){var S=()=>super._set,k=this;return(0,l.Z)(function*(){yield S().call(k,_,w),k.localCache[_]=JSON.stringify(w)})()}_get(_){var w=()=>super._get,S=this;return(0,l.Z)(function*(){const k=yield w().call(S,_);return S.localCache[_]=JSON.stringify(k),k})()}_remove(_){var w=()=>super._remove,S=this;return(0,l.Z)(function*(){yield w().call(S,_),delete S.localCache[_]})()}}return b.type="LOCAL",b})(),Lo=(()=>{class b extends ic{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,w){}_removeListener(_,w){}}return b.type="SESSION",b})();let im=(()=>{class b{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const w=this.receivers.find(k=>k.isListeningto(_));if(w)return w;const S=new b(_);return this.receivers.push(S),S}isListeningto(_){return this.eventTarget===_}handleEvent(_){var w=this;return(0,l.Z)(function*(){const S=_,{eventId:k,eventType:J,data:fe}=S.data,Ze=w.handlersMap[J];if(!Ze?.size)return;S.ports[0].postMessage({status:"ack",eventId:k,eventType:J});const pt=Array.from(Ze).map(function(){var En=(0,l.Z)(function*($r){return $r(S.origin,fe)});return function($r){return En.apply(this,arguments)}}()),Lt=yield function my(b){return Promise.all(b.map(function(){var m=(0,l.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(w){return{fulfilled:!1,reason:w}}});return function(_){return m.apply(this,arguments)}}()))}(pt);S.ports[0].postMessage({status:"done",eventId:k,eventType:J,response:Lt})})()}_subscribe(_,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(w)}_unsubscribe(_,w){this.handlersMap[_]&&w&&this.handlersMap[_].delete(w),(!w||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function rl(b="",m=10){let _="";for(let w=0;w<m;w++)_+=Math.floor(10*Math.random());return b+_}class Ca{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,_,w=50){var S=this;return(0,l.Z)(function*(){const k=typeof MessageChannel<"u"?new MessageChannel:null;if(!k)throw new Error("connection_unavailable");let J,fe;return new Promise((Ze,pt)=>{const Lt=rl("",20);k.port1.start();const En=setTimeout(()=>{pt(new Error("unsupported_event"))},w);fe={messageChannel:k,onMessage($r){const zo=$r;if(zo.data.eventId===Lt)switch(zo.data.status){case"ack":clearTimeout(En),J=setTimeout(()=>{pt(new Error("timeout"))},3e3);break;case"done":clearTimeout(J),Ze(zo.data.response);break;default:clearTimeout(En),clearTimeout(J),pt(new Error("invalid_response"))}}},S.handlers.add(fe),k.port1.addEventListener("message",fe.onMessage),S.target.postMessage({eventType:m,eventId:Lt,data:_},[k.port2])}).finally(()=>{fe&&S.removeMessageHandler(fe)})})()}}function Fi(){return window}function sc(){return typeof Fi().WorkerGlobalScope<"u"&&"function"==typeof Fi().importScripts}function wh(){return(wh=(0,l.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const sl="firebaseLocalStorageDb",oc="firebaseLocalStorage",xu="fbase_key";class Ms{constructor(m){this.request=m}toPromise(){return new Promise((m,_)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function Ch(b,m){return b.transaction([oc],m?"readwrite":"readonly").objectStore(oc)}function Bn(){const b=indexedDB.open(sl,1);return new Promise((m,_)=>{b.addEventListener("error",()=>{_(b.error)}),b.addEventListener("upgradeneeded",()=>{const w=b.result;try{w.createObjectStore(oc,{keyPath:xu})}catch(S){_(S)}}),b.addEventListener("success",(0,l.Z)(function*(){const w=b.result;w.objectStoreNames.contains(oc)?m(w):(w.close(),yield function om(){const b=indexedDB.deleteDatabase(sl);return new Ms(b).toPromise()}(),m(yield Bn()))}))})}function am(b,m,_){return Eh.apply(this,arguments)}function Eh(){return(Eh=(0,l.Z)(function*(b,m,_){const w=Ch(b,!0).put({[xu]:m,value:_});return new Ms(w).toPromise()})).apply(this,arguments)}function lm(){return(lm=(0,l.Z)(function*(b,m){const _=Ch(b,!1).get(m),w=yield new Ms(_).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function N0(b,m){const _=Ch(b,!0).delete(m);return new Ms(_).toPromise()}const _y=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,l.Z)(function*(){return _.db||(_.db=yield Bn()),_.db})()}_withRetries(_){var w=this;return(0,l.Z)(function*(){let S=0;for(;;)try{const k=yield w._openDb();return yield _(k)}catch(k){if(S++>3)throw k;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,l.Z)(function*(){return sc()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,l.Z)(function*(){_.receiver=im._getInstance(function Ea(){return sc()?self:null}()),_.receiver._subscribe("keyChanged",function(){var w=(0,l.Z)(function*(S,k){return{keyProcessed:(yield _._poll()).includes(k.key)}});return function(S,k){return w.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var w=(0,l.Z)(function*(S,k){return["keyChanged"]});return function(S,k){return w.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,l.Z)(function*(){var w,S;if(_.activeServiceWorker=yield function bh(){return wh.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new Ca(_.activeServiceWorker);const k=yield _.sender._send("ping",{},800);!k||(null===(w=k[0])||void 0===w?void 0:w.fulfilled)&&(null===(S=k[0])||void 0===S?void 0:S.value.includes("keyChanged"))&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var w=this;return(0,l.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function sm(){var b;return(null===(b=navigator?.serviceWorker)||void 0===b?void 0:b.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:_},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const _=yield Bn();return yield am(_,wa,"1"),yield N0(_,wa),!0}catch{}return!1})()}_withPendingWrite(_){var w=this;return(0,l.Z)(function*(){w.pendingWrites++;try{yield _()}finally{w.pendingWrites--}})()}_set(_,w){var S=this;return(0,l.Z)(function*(){return S._withPendingWrite((0,l.Z)(function*(){return yield S._withRetries(k=>am(k,_,w)),S.localCache[_]=w,S.notifyServiceWorker(_)}))})()}_get(_){var w=this;return(0,l.Z)(function*(){const S=yield w._withRetries(k=>function bS(b,m){return lm.apply(this,arguments)}(k,_));return w.localCache[_]=S,S})()}_remove(_){var w=this;return(0,l.Z)(function*(){return w._withPendingWrite((0,l.Z)(function*(){return yield w._withRetries(S=>N0(S,_)),delete w.localCache[_],w.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,l.Z)(function*(){const w=yield _._withRetries(J=>{const fe=Ch(J,!1).getAll();return new Ms(fe).toPromise()});if(!w)return[];if(0!==_.pendingWrites)return[];const S=[],k=new Set;for(const{fbase_key:J,value:fe}of w)k.add(J),JSON.stringify(_.localCache[J])!==JSON.stringify(fe)&&(_.notifyListeners(J,fe),S.push(J));for(const J of Object.keys(_.localCache))_.localCache[J]&&!k.has(J)&&(_.notifyListeners(J,null),S.push(J));return S})()}notifyListeners(_,w){this.localCache[_]=w;const S=this.listeners[_];if(S)for(const k of Array.from(S))k(w)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(w)}_removeListener(_,w){this.listeners[_]&&(this.listeners[_].delete(w),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})();function wS(b,m){return ht(b,"POST","/v2/accounts/mfaSignIn:start",Ke(b,m))}const Ou=1e12;class Rr{constructor(m){this.auth=m,this.counter=Ou,this._widgets=new Map}render(m,_){const w=this.counter;return this._widgets.set(w,new Ys(m,this.auth.name,_||{})),this.counter++,w}reset(m){var _;const w=m||Ou;null===(_=this._widgets.get(w))||void 0===_||_.delete(),this._widgets.delete(w)}getResponse(m){var _;return(null===(_=this._widgets.get(m||Ou))||void 0===_?void 0:_.getResponse())||""}execute(m){var _=this;return(0,l.Z)(function*(){var w;return null===(w=_._widgets.get(m||Ou))||void 0===w||w.execute(),""})()}}class Ys{constructor(m,_,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof m?document.getElementById(m):m;ae(S,"argument-error",{appName:_}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function yy(b){const m=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<b;w++)m.push(_.charAt(Math.floor(Math.random()*_.length)));return m.join("")}(50);const{callback:m,"expired-callback":_}=this.params;if(m)try{m(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ac=hi("rcb"),Pu=new we(3e4,6e4);class V0{constructor(){var m;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(m=Fi().grecaptcha)||void 0===m||!m.render)}load(m,_=""){return ae(function B0(b){return b.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b)}(_),m,"argument-error"),this.shouldResolveImmediately(_)&&Ft(Fi().grecaptcha)?Promise.resolve(Fi().grecaptcha):new Promise((w,S)=>{const k=Fi().setTimeout(()=>{S(Te(m,"network-request-failed"))},Pu.get());Fi()[ac]=()=>{Fi().clearTimeout(k),delete Fi()[ac];const fe=Fi().grecaptcha;if(!fe||!Ft(fe))return void S(Te(m,"internal-error"));const Ze=fe.render;fe.render=(pt,Lt)=>{const En=Ze(pt,Lt);return this.counter++,En},this.hostLanguage=_,w(fe)},sn(`https://www.google.com/recaptcha/api.js??${(0,z.xO)({onload:ac,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(k),S(Te(m,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){var _;return!(null===(_=Fi().grecaptcha)||void 0===_||!_.render)&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class CS{load(m){return(0,l.Z)(function*(){return new Rr(m)})()}clearedOneInstance(){}}const U0="recaptcha",vy={theme:"light",type:"image"};class Xr{constructor(m,_=Object.assign({},vy),w){this.parameters=_,this.type=U0,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ti(w),this.isInvisible="invisible"===this.parameters.size,ae(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof m?document.getElementById(m):m;ae(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new CS:new V0,this.validateStartingState()}verify(){var m=this;return(0,l.Z)(function*(){m.assertNotDestroyed();const _=yield m.render(),w=m.getAssertedRecaptcha();return w.getResponse(_)||new Promise(k=>{const J=fe=>{!fe||(m.tokenChangeListeners.delete(J),k(fe))};m.tokenChangeListeners.add(J),m.isInvisible&&w.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){ae(!this.parameters.sitekey,this.auth,"argument-error"),ae(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ae(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return _=>{if(this.tokenChangeListeners.forEach(w=>w(_)),"function"==typeof m)m(_);else if("string"==typeof m){const w=Fi()[m];"function"==typeof w&&w(_)}}}assertNotDestroyed(){ae(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,l.Z)(function*(){if(yield m.init(),!m.widgetId){let _=m.container;if(!m.isInvisible){const w=document.createElement("div");_.appendChild(w),_=w}m.widgetId=m.getAssertedRecaptcha().render(_,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,l.Z)(function*(){ae(on()&&!sc(),m.auth,"internal-error"),yield function um(){let b=null;return new Promise(m=>{"complete"!==document.readyState?(b=()=>m(),window.addEventListener("load",b)):m()}).catch(m=>{throw b&&window.removeEventListener("load",b),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const _=yield function oe(b){return ie.apply(this,arguments)}(m.auth);ae(_,m.auth,"internal-error"),m.parameters.sitekey=_})()}getAssertedRecaptcha(){return ae(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Da{constructor(m,_){this.verificationId=m,this.onConfirmation=_}confirm(m){const _=si._fromVerification(this.verificationId,m);return this.onConfirmation(_)}}function ES(b,m,_){return Dh.apply(this,arguments)}function Dh(){return(Dh=(0,l.Z)(function*(b,m,_){const w=ti(b),S=yield lc(w,m,(0,z.m9)(_));return new Da(S,k=>Ro(w,k))})).apply(this,arguments)}function H0(b,m,_){return dm.apply(this,arguments)}function dm(){return(dm=(0,l.Z)(function*(b,m,_){const w=(0,z.m9)(b);yield Oe(!1,w,"phone");const S=yield lc(w.auth,m,(0,z.m9)(_));return new Da(S,k=>Cu(w,k))})).apply(this,arguments)}function Nu(b,m,_){return Ih.apply(this,arguments)}function Ih(){return(Ih=(0,l.Z)(function*(b,m,_){const w=(0,z.m9)(b),S=yield lc(w.auth,m,(0,z.m9)(_));return new Da(S,k=>sy(w,k))})).apply(this,arguments)}function lc(b,m,_){return hm.apply(this,arguments)}function hm(){return(hm=(0,l.Z)(function*(b,m,_){var w;const S=yield _.verify();try{let k;if(ae("string"==typeof S,b,"argument-error"),ae(_.type===U0,b,"argument-error"),k="string"==typeof m?{phoneNumber:m}:m,"session"in k){const J=k.session;if("phoneNumber"in k)return ae("enroll"===J.type,b,"internal-error"),(yield gh(b,{idToken:J.credential,phoneEnrollmentInfo:{phoneNumber:k.phoneNumber,recaptchaToken:S}})).phoneSessionInfo.sessionInfo;{ae("signin"===J.type,b,"internal-error");const fe=(null===(w=k.multiFactorHint)||void 0===w?void 0:w.uid)||k.multiFactorUid;return ae(fe,b,"missing-multi-factor-info"),(yield wS(b,{mfaPendingCredential:J.credential,mfaEnrollmentId:fe,phoneSignInInfo:{recaptchaToken:S}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:J}=yield pa(b,{phoneNumber:k.phoneNumber,recaptchaToken:S});return J}}finally{_._reset()}})).apply(this,arguments)}function Ln(b,m){return As.apply(this,arguments)}function As(){return(As=(0,l.Z)(function*(b,m){yield ya((0,z.m9)(b),m)})).apply(this,arguments)}let bt=(()=>{class b{constructor(_){this.providerId=b.PROVIDER_ID,this.auth=ti(_)}verifyPhoneNumber(_,w){return lc(this.auth,_,(0,z.m9)(w))}static credential(_,w){return si._fromVerification(_,w)}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:w,temporaryProof:S}=_;return w&&S?si._fromTokenResponse(w,S):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function Ot(b,m){return m?ei(m):(ae(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class Li extends F{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return Ws(m,this._buildIdpRequest())}_linkToIdToken(m,_){return Ws(m,this._buildIdpRequest(_))}_getReauthenticationResolver(m){return Ws(m,this._buildIdpRequest())}_buildIdpRequest(m){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(_.idToken=m),_}}function Fu(b){return Ji(b.auth,new Li(b),b.bypassAuthState)}function Lu(b){const{auth:m,user:_}=b;return ae(_,m,"internal-error"),Ka(_,new Li(b),b.bypassAuthState)}function Vi(b){return Th.apply(this,arguments)}function Th(){return(Th=(0,l.Z)(function*(b){const{auth:m,user:_}=b;return ae(_,m,"internal-error"),ya(_,new Li(b),b.bypassAuthState)})).apply(this,arguments)}class Sh{constructor(m,_,w,S,k=!1){this.auth=m,this.resolver=w,this.user=S,this.bypassAuthState=k,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var m=this;return new Promise(function(){var _=(0,l.Z)(function*(w,S){m.pendingPromise={resolve:w,reject:S};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(k){m.reject(k)}});return function(w,S){return _.apply(this,arguments)}}())}onAuthEvent(m){var _=this;return(0,l.Z)(function*(){const{urlResponse:w,sessionId:S,postBody:k,tenantId:J,error:fe,type:Ze}=m;if(fe)return void _.reject(fe);const pt={auth:_.auth,requestUri:w,sessionId:S,tenantId:J||void 0,postBody:k||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(Ze)(pt))}catch(Lt){_.reject(Lt)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return Fu;case"linkViaPopup":case"linkViaRedirect":return Vi;case"reauthViaPopup":case"reauthViaRedirect":return Lu;default:Ie(this.auth,"internal-error")}}resolve(m){kt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){kt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const cc=new we(2e3,1e4);function al(b,m,_){return Vu.apply(this,arguments)}function Vu(){return(Vu=(0,l.Z)(function*(b,m,_){const w=ti(b);it(b,m,In);const S=Ot(w,_);return new Ia(w,"signInViaPopup",m,S).executeNotNull()})).apply(this,arguments)}function Bi(b,m,_){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,l.Z)(function*(b,m,_){const w=(0,z.m9)(b);it(w.auth,m,In);const S=Ot(w.auth,_);return new Ia(w.auth,"reauthViaPopup",m,S,w).executeNotNull()})).apply(this,arguments)}function Et(b,m,_){return uc.apply(this,arguments)}function uc(){return(uc=(0,l.Z)(function*(b,m,_){const w=(0,z.m9)(b);it(w.auth,m,In);const S=Ot(w.auth,_);return new Ia(w.auth,"linkViaPopup",m,S,w).executeNotNull()})).apply(this,arguments)}let Ia=(()=>{class b extends Sh{constructor(_,w,S,k,J){super(_,w,k,J),this.provider=S,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var _=this;return(0,l.Z)(function*(){const w=yield _.execute();return ae(w,_.auth,"internal-error"),w})()}onExecution(){var _=this;return(0,l.Z)(function*(){kt(1===_.filter.length,"Popup operations only handle one event");const w=rl();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],w),_.authWindow.associatedEvent=w,_.resolver._originValidation(_.auth).catch(S=>{_.reject(S)}),_.resolver._isIframeWebStorageSupported(_.auth,S=>{S||_.reject(Te(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(Te(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const _=()=>{var w,S;this.pollId=null!==(S=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==S&&S.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Te(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(_,cc.get())};_()}}return b.currentPopupAction=null,b})();const ll=new Map;class xi extends Sh{constructor(m,_,w=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,w),this.eventId=null}execute(){var m=()=>super.execute,_=this;return(0,l.Z)(function*(){let w=ll.get(_.auth._key());if(!w){try{const k=(yield function Ah(b,m){return hs.apply(this,arguments)}(_.resolver,_.auth))?yield m().call(_):null;w=()=>Promise.resolve(k)}catch(S){w=()=>Promise.reject(S)}ll.set(_.auth._key(),w)}return _.bypassAuthState||ll.set(_.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(m){var _=()=>super.onAuthEvent,w=this;return(0,l.Z)(function*(){if("signInViaRedirect"===m.type)return _().call(w,m);if("unknown"!==m.type){if(m.eventId){const S=yield w.auth._redirectUserForId(m.eventId);if(S)return w.user=S,_().call(w,m);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function hs(){return(hs=(0,l.Z)(function*(b,m){const _=Jr(m),w=ho(b);if(!(yield w._isAvailable()))return!1;const S="true"===(yield w._get(_));return yield w._remove(_),S})).apply(this,arguments)}function Bu(b,m){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,l.Z)(function*(b,m){return ho(b)._set(Jr(m),"true")})).apply(this,arguments)}function dc(){ll.clear()}function xh(b,m){ll.set(b._key(),m)}function ho(b){return ei(b._redirectPersistence)}function Jr(b){return Mi("pendingRedirect",b.config.apiKey,b.name)}function hc(b,m,_){return function by(b,m,_){return jr.apply(this,arguments)}(b,m,_)}function jr(){return(jr=(0,l.Z)(function*(b,m,_){const w=ti(b);it(b,m,In),yield w._initializationPromise;const S=Ot(w,_);return yield Bu(S,w),S._openRedirect(w,m,"signInViaRedirect")})).apply(this,arguments)}function xs(b,m,_){return function fs(b,m,_){return ps.apply(this,arguments)}(b,m,_)}function ps(){return(ps=(0,l.Z)(function*(b,m,_){const w=(0,z.m9)(b);it(w.auth,m,In),yield w.auth._initializationPromise;const S=Ot(w.auth,_);yield Bu(S,w.auth);const k=yield Hi(w);return S._openRedirect(w.auth,m,"reauthViaRedirect",k)})).apply(this,arguments)}function pr(b,m,_){return function Uu(b,m,_){return Hu.apply(this,arguments)}(b,m,_)}function Hu(){return(Hu=(0,l.Z)(function*(b,m,_){const w=(0,z.m9)(b);it(w.auth,m,In),yield w.auth._initializationPromise;const S=Ot(w.auth,_);yield Oe(!1,w,m.providerId),yield Bu(S,w.auth);const k=yield Hi(w);return S._openRedirect(w.auth,m,"linkViaRedirect",k)})).apply(this,arguments)}function pi(b,m){return wr.apply(this,arguments)}function wr(){return(wr=(0,l.Z)(function*(b,m){return yield ti(b)._initializationPromise,es(b,m,!1)})).apply(this,arguments)}function es(b,m){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,l.Z)(function*(b,m,_=!1){const w=ti(b),S=Ot(w,m),J=yield new xi(w,S,_).execute();return J&&!_&&(delete J.user._redirectEventId,yield w._persistUserIfCurrent(J.user),yield w._setRedirectUser(null,m)),J})).apply(this,arguments)}function Hi(b){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,l.Z)(function*(b){const m=rl(`${b.uid}:::`);return b._redirectEventId=m,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),m})).apply(this,arguments)}class kh{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let _=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(m,w)&&(_=!0,this.sendToConsumer(m,w),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function zi(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ks(b);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=m,_=!0)),_}sendToConsumer(m,_){var w;if(m.error&&!Ks(m)){const S=(null===(w=m.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";_.onError(Te(this.auth,S))}else _.onAuthEvent(m)}isEventForConsumer(m,_){const w=null===_.eventId||!!m.eventId&&m.eventId===_.eventId;return _.filter.includes(m.type)&&w}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(fo(m))}saveEventToCache(m){this.cachedEventUids.add(fo(m)),this.lastProcessedEventTime=Date.now()}}function fo(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(m=>m).join("-")}function Ks({type:b,error:m}){return"unknown"===b&&"auth/no-auth-event"===m?.code}function Qs(b){return Rh.apply(this,arguments)}function Rh(){return(Rh=(0,l.Z)(function*(b,m={}){return ht(b,"GET","/v1/projects",m)})).apply(this,arguments)}const Sa=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pm=/^https?/;function cl(){return(cl=(0,l.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:m}=yield Qs(b);for(const _ of m)try{if(z0(_))return}catch{}Ie(b,"unauthorized-domain")})).apply(this,arguments)}function z0(b){const m=vt(),{protocol:_,hostname:w}=new URL(m);if(b.startsWith("chrome-extension://")){const J=new URL(b);return""===J.hostname&&""===w?"chrome-extension:"===_&&b.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===_&&J.hostname===w}if(!pm.test(_))return!1;if(Sa.test(b))return w===b;const S=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(w)}const Oh=new we(3e4,6e4);function wn(){const b=Fi().___jsl;if(b?.H)for(const m of Object.keys(b.H))if(b.H[m].r=b.H[m].r||[],b.H[m].L=b.H[m].L||[],b.H[m].r=[...b.H[m].L],b.CP)for(let _=0;_<b.CP.length;_++)b.CP[_]=null}let Ph=null;function ul(b){return Ph=Ph||function zu(b){return new Promise((m,_)=>{var w,S,k;function J(){wn(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{wn(),_(Te(b,"network-request-failed"))},timeout:Oh.get()})}if(null!==(S=null===(w=Fi().gapi)||void 0===w?void 0:w.iframes)&&void 0!==S&&S.Iframe)m(gapi.iframes.getContext());else{if(null===(k=Fi().gapi)||void 0===k||!k.load){const fe=hi("iframefcb");return Fi()[fe]=()=>{gapi.load?J():_(Te(b,"network-request-failed"))},sn(`https://apis.google.com/js/api.js?onload=${fe}`).catch(Ze=>_(Ze))}J()}}).catch(m=>{throw Ph=null,m})}(b),Ph}const mm=new we(5e3,15e3),Fh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Lh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Rs(b){const m=b.config;ae(m.authDomain,b,"auth-domain-config-required");const _=m.emulator?Ne(m,"emulator/auth/iframe"):`https://${b.config.authDomain}/__/auth/iframe`,w={apiKey:m.apiKey,appName:b.name,v:N.SDK_VERSION},S=Lh.get(b.config.apiHost);S&&(w.eid=S);const k=b._getFrameworks();return k.length&&(w.fw=k.join(",")),`${_}?${(0,z.xO)(w).slice(1)}`}function er(){return er=(0,l.Z)(function*(b){const m=yield ul(b),_=Fi().gapi;return ae(_,b,"internal-error"),m.open({where:document.body,url:Rs(b),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Fh,dontclear:!0},w=>new Promise(function(){var S=(0,l.Z)(function*(k,J){yield w.restyle({setHideOnLeave:!1});const fe=Te(b,"network-request-failed"),Ze=Fi().setTimeout(()=>{J(fe)},mm.get());function pt(){Fi().clearTimeout(Ze),k(w)}w.ping(pt).then(pt,()=>{J(fe)})});return function(k,J){return S.apply(this,arguments)}}()))}),er.apply(this,arguments)}const Uo={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Bh{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const $u=encodeURIComponent("fac");function Ma(b,m,_,w,S,k){return Os.apply(this,arguments)}function Os(){return(Os=(0,l.Z)(function*(b,m,_,w,S,k){ae(b.config.authDomain,b,"auth-domain-config-required"),ae(b.config.apiKey,b,"invalid-api-key");const J={apiKey:b.config.apiKey,appName:b.name,authType:_,redirectUrl:w,v:N.SDK_VERSION,eventId:S};if(m instanceof In){m.setDefaultLanguage(b.languageCode),J.providerId=m.providerId||"",(0,z.xb)(m.getCustomParameters())||(J.customParameters=JSON.stringify(m.getCustomParameters()));for(const[Lt,En]of Object.entries(k||{}))J[Lt]=En}if(m instanceof _a){const Lt=m.getScopes().filter(En=>""!==En);Lt.length>0&&(J.scopes=Lt.join(","))}b.tenantId&&(J.tid=b.tenantId);const fe=J;for(const Lt of Object.keys(fe))void 0===fe[Lt]&&delete fe[Lt];const Ze=yield b._getAppCheckToken(),pt=Ze?`#${$u}=${encodeURIComponent(Ze)}`:"";return`${qt(b)}?${(0,z.xO)(fe).slice(1)}${pt}`})).apply(this,arguments)}function qt({config:b}){return b.emulator?Ne(b,"emulator/auth/handler"):`https://${b.authDomain}/__/auth/handler`}const Ps="webStorageSupport",Ho=class vm{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Lo,this._completeRedirectFn=es,this._overrideRedirectResult=xh}_openPopup(m,_,w,S){var k=this;return(0,l.Z)(function*(){var J;kt(null===(J=k.eventManagers[m._key()])||void 0===J?void 0:J.manager,"_initialize() not called before _openPopup()");const fe=yield Ma(m,_,w,vt(),S);return function _m(b,m,_,w=500,S=600){const k=Math.max((window.screen.availHeight-S)/2,0).toString(),J=Math.max((window.screen.availWidth-w)/2,0).toString();let fe="";const Ze=Object.assign(Object.assign({},Uo),{width:w.toString(),height:S.toString(),top:k,left:J}),pt=(0,z.z$)().toLowerCase();_&&(fe=M(pt)?"_blank":_),R(pt)&&(m=m||"http://localhost",Ze.scrollbars="yes");const Lt=Object.entries(Ze).reduce(($r,[zo,po])=>`${$r}${zo}=${po},`,"");if(function lt(b=(0,z.z$)()){var m;return De(b)&&!(null===(m=window.navigator)||void 0===m||!m.standalone)}(pt)&&"_self"!==fe)return function ym(b,m){const _=document.createElement("a");_.href=b,_.target=m;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(w)}(m||"",fe),new Bh(null);const En=window.open(m||"",fe,Lt);ae(En,b,"popup-blocked");try{En.focus()}catch{}return new Bh(En)}(m,fe,rl())})()}_openRedirect(m,_,w,S){var k=this;return(0,l.Z)(function*(){return yield k._originValidation(m),function rm(b){Fi().location.href=b}(yield Ma(m,_,w,vt(),S)),new Promise(()=>{})})()}_initialize(m){const _=m._key();if(this.eventManagers[_]){const{manager:S,promise:k}=this.eventManagers[_];return S?Promise.resolve(S):(kt(k,"If manager is not set, promise should be"),k)}const w=this.initAndGetManager(m);return this.eventManagers[_]={promise:w},w.catch(()=>{delete this.eventManagers[_]}),w}initAndGetManager(m){var _=this;return(0,l.Z)(function*(){const w=yield function j0(b){return er.apply(this,arguments)}(m),S=new kh(m);return w.register("authEvent",k=>(ae(k?.authEvent,m,"invalid-auth-event"),{status:S.onEvent(k.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[m._key()]={manager:S},_.iframes[m._key()]=w,S})()}_isIframeWebStorageSupported(m,_){this.iframes[m._key()].send(Ps,{type:Ps},S=>{var k;const J=null===(k=S?.[0])||void 0===k?void 0:k[Ps];void 0!==J&&_(!!J),Ie(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const _=m._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function wy(b){return cl.apply(this,arguments)}(m)),this.originValidationPromises[_]}get _shouldInitProactively(){return zt()||x()||De()}};class fc extends class Dy{constructor(m){this.factorId=m}_process(m,_,w){switch(_.type){case"enroll":return this._finalizeEnroll(m,_.credential,w);case"signin":return this._finalizeSignIn(m,_.credential);default:return et("unexpected MultiFactorSessionType")}}}{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new fc(m)}_finalizeEnroll(m,_,w){return function _h(b,m){return ht(b,"POST","/v2/accounts/mfaEnrollment:finalize",Ke(b,m))}(m,{idToken:_,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,_){return function ur(b,m){return ht(b,"POST","/v2/accounts/mfaSignIn:finalize",Ke(b,m))}(m,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Uh=(()=>{class b{constructor(){}static assertion(_){return fc._fromCredential(_)}}return b.FACTOR_ID="phone",b})();var mc="@firebase/auth";class gc{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var _=this;return(0,l.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const _=this.auth.onIdTokenChanged(w=>{m(w?.stsTokenManager.accessToken||null)});this.internalListeners.set(m,_),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const _=this.internalListeners.get(m);!_||(this.internalListeners.delete(m),_(),this.updateProactiveRefresh())}assertAuthConfigured(){ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const _c=(0,z.Pz)("authIdTokenMaxAge")||300;let wm=null;const Ty=b=>function(){var m=(0,l.Z)(function*(_){const w=_&&(yield _.getIdTokenResult()),S=w&&((new Date).getTime()-Date.parse(w.issuedAtTime))/1e3;if(S&&S>_c)return;const k=w?.token;wm!==k&&(wm=k,yield fetch(b,{method:k?"POST":"DELETE",headers:k?{Authorization:`Bearer ${k}`}:{}}))});return function(_){return m.apply(this,arguments)}}();function hl(b=(0,N.getApp)()){const m=(0,N._getProvider)(b,"auth");if(m.isInitialized())return m.getImmediate();const _=function ls(b,m){const _=(0,N._getProvider)(b,"auth");if(_.isInitialized()){const S=_.getImmediate(),k=_.getOptions();if((0,z.vZ)(k,m??{}))return S;Ie(S,"already-initialized")}return _.initialize({options:m})}(b,{popupRedirectResolver:Ho,persistence:[_y,nm,Lo]}),w=(0,z.Pz)("authTokenSyncURL");if(w){const k=Ty(w);(function Jl(b,m,_){(0,z.m9)(b).beforeAuthStateChanged(m,_)})(_,k,()=>k(_.currentUser)),function Jp(b,m,_,w){(0,z.m9)(b).onIdTokenChanged(m,_,w)}(_,J=>k(J))}const S=(0,z.q4)("auth");return S&&U(_,`http://${S}`),_}!function Hh(b){(0,N._registerComponent)(new ge.wA("auth",(m,{options:_})=>{const w=m.getProvider("app").getImmediate(),S=m.getProvider("heartbeat"),k=m.getProvider("app-check-internal"),{apiKey:J,authDomain:fe}=w.options;ae(J&&!J.includes(":"),"invalid-api-key",{appName:w.name});const Ze={apiKey:J,authDomain:fe,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ci(b)},pt=new Ur(w,S,k,Ze);return function Qr(b,m){const _=m?.persistence||[],w=(Array.isArray(_)?_:[_]).map(ei);m?.errorMap&&b._updateErrorMap(m.errorMap),b._initializeWithPersistence(w,m?.popupRedirectResolver)}(pt,_),pt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,_,w)=>{m.getProvider("auth-internal").initialize()})),(0,N._registerComponent)(new ge.wA("auth-internal",m=>{const _=ti(m.getProvider("auth").getImmediate());return new gc(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,N.registerVersion)(mc,"0.23.2",function qu(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(b)),(0,N.registerVersion)(mc,"0.23.2","esm2017")}("Browser")},2090:(xt,Le,P)=>{P.d(Le,{$s:()=>ei,BH:()=>Ae,G6:()=>Ne,L:()=>ve,LL:()=>Xt,P0:()=>gt,Pz:()=>Te,Sg:()=>it,UG:()=>et,US:()=>ge,ZB:()=>ee,ZR:()=>ht,aH:()=>Ie,b$:()=>on,eu:()=>Fe,hl:()=>Re,jU:()=>kt,m9:()=>Mi,ne:()=>Nt,pd:()=>Mn,q4:()=>St,r3:()=>ar,ru:()=>vt,tV:()=>Z,uI:()=>ae,vZ:()=>li,w1:()=>Ar,xO:()=>Zi,xb:()=>Vr,z$:()=>Xe,zI:()=>Je,zd:()=>ii});const le=function(G){const j=[];let R=0;for(let x=0;x<G.length;x++){let M=G.charCodeAt(x);M<128?j[R++]=M:M<2048?(j[R++]=M>>6|192,j[R++]=63&M|128):55296==(64512&M)&&x+1<G.length&&56320==(64512&G.charCodeAt(x+1))?(M=65536+((1023&M)<<10)+(1023&G.charCodeAt(++x)),j[R++]=M>>18|240,j[R++]=M>>12&63|128,j[R++]=M>>6&63|128,j[R++]=63&M|128):(j[R++]=M>>12|224,j[R++]=M>>6&63|128,j[R++]=63&M|128)}return j},ge={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(G,j){if(!Array.isArray(G))throw Error("encodeByteArray takes an array as a parameter");this.init_();const R=j?this.byteToCharMapWebSafe_:this.byteToCharMap_,x=[];for(let M=0;M<G.length;M+=3){const X=G[M],Ce=M+1<G.length,rt=Ce?G[M+1]:0,Ct=M+2<G.length,De=Ct?G[M+2]:0;let an=(15&rt)<<2|De>>6,zt=63&De;Ct||(zt=64,Ce||(an=64)),x.push(R[X>>2],R[(3&X)<<4|rt>>4],R[an],R[zt])}return x.join("")},encodeString(G,j){return this.HAS_NATIVE_SUPPORT&&!j?btoa(G):this.encodeByteArray(le(G),j)},decodeString(G,j){return this.HAS_NATIVE_SUPPORT&&!j?atob(G):function(G){const j=[];let R=0,x=0;for(;R<G.length;){const M=G[R++];if(M<128)j[x++]=String.fromCharCode(M);else if(M>191&&M<224){const X=G[R++];j[x++]=String.fromCharCode((31&M)<<6|63&X)}else if(M>239&&M<365){const Ct=((7&M)<<18|(63&G[R++])<<12|(63&G[R++])<<6|63&G[R++])-65536;j[x++]=String.fromCharCode(55296+(Ct>>10)),j[x++]=String.fromCharCode(56320+(1023&Ct))}else{const X=G[R++],Ce=G[R++];j[x++]=String.fromCharCode((15&M)<<12|(63&X)<<6|63&Ce)}}return j.join("")}(this.decodeStringToByteArray(G,j))},decodeStringToByteArray(G,j){this.init_();const R=j?this.charToByteMapWebSafe_:this.charToByteMap_,x=[];for(let M=0;M<G.length;){const X=R[G.charAt(M++)],rt=M<G.length?R[G.charAt(M)]:0;++M;const De=M<G.length?R[G.charAt(M)]:64;++M;const lt=M<G.length?R[G.charAt(M)]:64;if(++M,null==X||null==rt||null==De||null==lt)throw new re;x.push(X<<2|rt>>4),64!==De&&(x.push(rt<<4&240|De>>2),64!==lt&&x.push(De<<6&192|lt))}return x},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let G=0;G<this.ENCODED_VALS.length;G++)this.byteToCharMap_[G]=this.ENCODED_VALS.charAt(G),this.charToByteMap_[this.byteToCharMap_[G]]=G,this.byteToCharMapWebSafe_[G]=this.ENCODED_VALS_WEBSAFE.charAt(G),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[G]]=G,G>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(G)]=G,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(G)]=G)}}};class re extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ve=function(G){return function(G){const j=le(G);return ge.encodeByteArray(j,!0)}(G).replace(/\./g,"")},Z=function(G){try{return ge.decodeString(G,!0)}catch(j){console.error("base64Decode failed: ",j)}return null};function ee(G,j){if(!(j instanceof Object))return j;switch(j.constructor){case Date:return new Date(j.getTime());case Object:void 0===G&&(G={});break;case Array:G=[];break;default:return j}for(const R in j)!j.hasOwnProperty(R)||!Ge(R)||(G[R]=ee(G[R],j[R]));return G}function Ge(G){return"__proto__"!==G}const _e=()=>{try{return function Me(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const G=process.env.__FIREBASE_DEFAULTS__;return G?JSON.parse(G):void 0})()||(()=>{if(typeof document>"u")return;let G;try{G=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const j=G&&Z(G[1]);return j&&JSON.parse(j)})()}catch(G){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${G}`)}},St=G=>{var j,R;return null===(R=null===(j=_e())||void 0===j?void 0:j.emulatorHosts)||void 0===R?void 0:R[G]},gt=G=>{const j=St(G);if(!j)return;const R=j.lastIndexOf(":");if(R<=0||R+1===j.length)throw new Error(`Invalid host ${j} with no separate hostname and port!`);const x=parseInt(j.substring(R+1),10);return"["===j[0]?[j.substring(1,R-1),x]:[j.substring(0,R),x]},Ie=()=>{var G;return null===(G=_e())||void 0===G?void 0:G.config},Te=G=>{var j;return null===(j=_e())||void 0===j?void 0:j[`_${G}`]};class Ae{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((j,R)=>{this.resolve=j,this.reject=R})}wrapCallback(j){return(R,x)=>{R?this.reject(R):this.resolve(x),"function"==typeof j&&(this.promise.catch(()=>{}),1===j.length?j(R):j(R,x))}}}function it(G,j){if(G.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const x=j||"demo-project",M=G.iat||0,X=G.sub||G.user_id;if(!X)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ce=Object.assign({iss:`https://securetoken.google.com/${x}`,aud:x,iat:M,exp:M+3600,auth_time:M,sub:X,user_id:X,firebase:{sign_in_provider:"custom",identities:{}}},G);return[ve(JSON.stringify({alg:"none",type:"JWT"})),ve(JSON.stringify(Ce)),""].join(".")}function Xe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ae(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xe())}function et(){var G;const j=null===(G=_e())||void 0===G?void 0:G.forceEnvironment;if("node"===j)return!0;if("browser"===j)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function kt(){return"object"==typeof self&&self.self===self}function vt(){const G="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof G&&void 0!==G.id}function on(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ar(){const G=Xe();return G.indexOf("MSIE ")>=0||G.indexOf("Trident/")>=0}function Ne(){return!et()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Re(){try{return"object"==typeof indexedDB}catch{return!1}}function Fe(){return new Promise((G,j)=>{try{let R=!0;const x="validate-browser-context-for-indexeddb-analytics-module",M=self.indexedDB.open(x);M.onsuccess=()=>{M.result.close(),R||self.indexedDB.deleteDatabase(x),G(!0)},M.onupgradeneeded=()=>{R=!1},M.onerror=()=>{var X;j((null===(X=M.error)||void 0===X?void 0:X.message)||"")}}catch(R){j(R)}})}function Je(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ht extends Error{constructor(j,R,x){super(R),this.code=j,this.customData=x,this.name="FirebaseError",Object.setPrototypeOf(this,ht.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xt.prototype.create)}}class Xt{constructor(j,R,x){this.service=j,this.serviceName=R,this.errors=x}create(j,...R){const x=R[0]||{},M=`${this.service}/${j}`,X=this.errors[j],Ce=X?function Dt(G,j){return G.replace(Ht,(R,x)=>{const M=j[x];return null!=M?String(M):`<${x}?>`})}(X,x):"Error";return new ht(M,`${this.serviceName}: ${Ce} (${M}).`,x)}}const Ht=/\{\$([^}]+)}/g;function ar(G,j){return Object.prototype.hasOwnProperty.call(G,j)}function Vr(G){for(const j in G)if(Object.prototype.hasOwnProperty.call(G,j))return!1;return!0}function li(G,j){if(G===j)return!0;const R=Object.keys(G),x=Object.keys(j);for(const M of R){if(!x.includes(M))return!1;const X=G[M],Ce=j[M];if(xn(X)&&xn(Ce)){if(!li(X,Ce))return!1}else if(X!==Ce)return!1}for(const M of x)if(!R.includes(M))return!1;return!0}function xn(G){return null!==G&&"object"==typeof G}function Zi(G){const j=[];for(const[R,x]of Object.entries(G))Array.isArray(x)?x.forEach(M=>{j.push(encodeURIComponent(R)+"="+encodeURIComponent(M))}):j.push(encodeURIComponent(R)+"="+encodeURIComponent(x));return j.length?"&"+j.join("&"):""}function ii(G){const j={};return G.replace(/^\?/,"").split("&").forEach(x=>{if(x){const[M,X]=x.split("=");j[decodeURIComponent(M)]=decodeURIComponent(X)}}),j}function Mn(G){const j=G.indexOf("?");if(!j)return"";const R=G.indexOf("#",j);return G.substring(j,R>0?R:void 0)}function Nt(G,j){const R=new It(G,j);return R.subscribe.bind(R)}class It{constructor(j,R){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=R,this.task.then(()=>{j(this)}).catch(x=>{this.error(x)})}next(j){this.forEachObserver(R=>{R.next(j)})}error(j){this.forEachObserver(R=>{R.error(j)}),this.close(j)}complete(){this.forEachObserver(j=>{j.complete()}),this.close()}subscribe(j,R,x){let M;if(void 0===j&&void 0===R&&void 0===x)throw new Error("Missing Observer.");M=function fn(G,j){if("object"!=typeof G||null===G)return!1;for(const R of j)if(R in G&&"function"==typeof G[R])return!0;return!1}(j,["next","error","complete"])?j:{next:j,error:R,complete:x},void 0===M.next&&(M.next=qn),void 0===M.error&&(M.error=qn),void 0===M.complete&&(M.complete=qn);const X=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?M.error(this.finalError):M.complete()}catch{}}),this.observers.push(M),X}unsubscribeOne(j){void 0===this.observers||void 0===this.observers[j]||(delete this.observers[j],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(j){if(!this.finalized)for(let R=0;R<this.observers.length;R++)this.sendOne(R,j)}sendOne(j,R){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[j])try{R(this.observers[j])}catch(x){typeof console<"u"&&console.error&&console.error(x)}})}close(j){this.finalized||(this.finalized=!0,void 0!==j&&(this.finalError=j),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qn(){}function ei(G,j=1e3,R=2){const x=j*Math.pow(R,G),M=Math.round(.5*x*(Math.random()-.5)*2);return Math.min(144e5,x+M)}function Mi(G){return G&&G._delegate?G._delegate:G}},7214:(xt,Le,P)=>{var l=P(4650);let z=null;function N(){return z}const re=new l.OlP("DocumentToken");let ye=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function ve(){return(0,l.LFG)(q)}()},providedIn:"platform"}),n})();const Z=new l.OlP("Location Initialized");let q=(()=>{class n extends ye{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return N().getBaseHref(this._doc)}onPopState(t){const i=N().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=N().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,i,r){ee()?this._history.pushState(t,i,r):this.location.hash=r}replaceState(t,i,r){ee()?this._history.replaceState(t,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(re))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Ge(){return new q((0,l.LFG)(re))}()},providedIn:"platform"}),n})();function ee(){return!!window.history.pushState}function Me(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function xe(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function dt(n){return n&&"?"!==n[0]?"?"+n:n}let Ee=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(St)},providedIn:"root"}),n})();const _e=new l.OlP("appBaseHref");let St=(()=>{class n extends Ee{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,l.f3M)(re).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Me(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+dt(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,s){const u=this.prepareExternalUrl(r+dt(s));this._platformLocation.pushState(t,i,u)}replaceState(t,i,r,s){const u=this.prepareExternalUrl(r+dt(s));this._platformLocation.replaceState(t,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ye),l.LFG(_e,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),gt=(()=>{class n extends Ee{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=Me(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,s){let u=this.prepareExternalUrl(r+dt(s));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(t,i,u)}replaceState(t,i,r,s){let u=this.prepareExternalUrl(r+dt(s));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ye),l.LFG(_e,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Ie=(()=>{class n{constructor(t){this._subject=new l.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._baseHref=xe(it(i)),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+dt(i))}normalize(t){return n.stripTrailingSlash(function Ae(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,it(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+dt(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+dt(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=dt,n.joinWithSlash=Me,n.stripTrailingSlash=xe,n.\u0275fac=function(t){return new(t||n)(l.LFG(Ee))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Te(){return new Ie((0,l.LFG)(Ee))}()},providedIn:"root"}),n})();function it(n){return n.replace(/\/index.html$/,"")}function Ai(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,s]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}let un=(()=>{class n{constructor(t,i,r,s){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,l.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,l.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),t.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!0)):Object.keys(t).forEach(i=>this._toggleClass(i,!!t[i])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!1)):Object.keys(t).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(t,i){(t=t.trim())&&t.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.ZZ4),l.Y36(l.aQg),l.Y36(l.SBq),l.Y36(l.Qsj))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class ti{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ri=(()=>{class n{constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,s,u)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new ti(r.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)i.remove(null===s?void 0:s);else if(null!==s){const h=i.get(s);i.move(h,u),ls(h,r)}});for(let r=0,s=i.length;r<s;r++){const h=i.get(r).context;h.index=r,h.count=s,h.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{ls(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function ls(n,e){n.context.$implicit=e.item}let U=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new Q,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){ke("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){ke("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Q{constructor(){this.$implicit=null,this.ngIf=null}}function ke(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,l.AaK)(e)}'.`)}class qe{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let Mt=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const i=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),F=(()=>{class n{constructor(t,i,r){this.ngSwitch=r,r._addCase(),this._view=new qe(t,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(Mt,9))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),Y=(()=>{class n{constructor(t,i,r){r._addDefault(new qe(t,i))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(Mt,9))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngSwitchDefault",""]],standalone:!0}),n})(),Qt=(()=>{class n{constructor(t,i,r){this._ngEl=t,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,i){const[r,s]=t.split("."),u=-1===r.indexOf("-")?void 0:l.JOm.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,s?`${i}${s}`:i,u):this._renderer.removeStyle(this._ngEl.nativeElement,r,u)}_applyChanges(t){t.forEachRemovedItem(i=>this._setStyle(i.key,null)),t.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),t.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.aQg),l.Y36(l.Qsj))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})();class Qi{createSubscription(e,t){return e.subscribe({next:t,error:i=>{throw i}})}dispose(e){e.unsubscribe()}}class Es{createSubscription(e,t){return e.then(t,i=>{throw i})}dispose(e){}}const sh=new Es,hu=new Qi;let $l=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,i=>this._updateLatestValue(t,i))}_selectStrategy(t){if((0,l.QGY)(t))return sh;if((0,l.F4k)(t))return hu;throw function kn(n,e){return new l.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,i){t===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.sBO,16))},n.\u0275pipe=l.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})(),co=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const Wa="browser";function vu(n){return n===Wa}function Ds(n){return"server"===n}let _a=(()=>{class n{}return n.\u0275prov=(0,l.Yz7)({token:n,providedIn:"root",factory:()=>new Wl((0,l.LFG)(re),window)}),n})();class Wl{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function xr(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const u=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(u)return u}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=xo(this.window.history)||xo(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function xo(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Ya{}class Xp extends class hy extends class ge{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function de(n){z||(z=n)}(new Xp)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function ph(){return Tu=Tu||document.querySelector("base"),Tu?Tu.getAttribute("href"):null}();return null==t?null:function Jp(n){Su=Su||document.createElement("a"),Su.setAttribute("href",n);const e=Su.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Tu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Ai(document.cookie,e)}}let Su,Tu=null;const Jl=new l.OlP("TRANSITION_ID"),fy=[{provide:l.ip1,useFactory:function em(n,e,t){return()=>{t.get(l.CZH).donePromise.then(()=>{const i=N(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[Jl,re,l.zs3],multi:!0}];let P0=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const No=new l.OlP("EventManagerPlugins");let Fo=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>r.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const u=r[s];if(u.supports(t))return this._eventNameToPlugin.set(t,u),u}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(No),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class Ts{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=N().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let mh=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),nl=(()=>{class n extends mh{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,r){t.forEach(s=>{const u=this._doc.createElement("style");u.textContent=s,r.push(i.appendChild(u))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach(gh),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(t,r,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(gh))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(re))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function gh(n){N().remove(n)}const _h={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ss=/%COMP%/g;function ic(n,e,t){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?ic(n,r,t):(r=r.replace(Ss,n),t.push(r))}return t}function yh(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let rc=(()=>{class n{constructor(t,i,r){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new vh(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case l.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new my(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(t),r}case 1:case l.ifc.ShadowDom:return new im(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const r=ic(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Fo),l.LFG(nl),l.LFG(l.AFp))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class vh{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(_h[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Lo(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(Lo(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const s=_h[r];s?e.setAttributeNS(s,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=_h[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(l.JOm.DashCase|l.JOm.Important)?e.style.setProperty(t,i,r&l.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&l.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,yh(i)):this.eventManager.addEventListener(e,t,yh(i))}}function Lo(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class my extends vh{constructor(e,t,i,r){super(e),this.component=i;const s=ic(r+"-"+i.id,i.styles,[]);t.addStyles(s),this.contentAttr=function Mu(n){return"_ngcontent-%COMP%".replace(Ss,n)}(r+"-"+i.id),this.hostAttr=function wa(n){return"_nghost-%COMP%".replace(Ss,n)}(r+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class im extends vh{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=ic(r.id,r.styles,[]);for(let u=0;u<s.length;u++){const h=document.createElement("style");h.textContent=s[u],this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let rl=(()=>{class n extends Ts{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(re))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Ca=["alt","control","meta","shift"],Fi={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},rm={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let sc=(()=>{class n extends Ts{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const s=n.parseEventName(i),u=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>N().onAndCancel(t,s.domEventName,u))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let u="",h=i.indexOf("code");if(h>-1&&(i.splice(h,1),u="code."),Ca.forEach(y=>{const E=i.indexOf(y);E>-1&&(i.splice(E,1),u+=y+".")}),u+=s,0!=i.length||0===s.length)return null;const p={};return p.domEventName=r,p.fullKey=u,p}static matchEventFullKeyCode(t,i){let r=Fi[t.key]||t.key,s="";return i.indexOf("code.")>-1&&(r=t.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Ca.forEach(u=>{u!==r&&(0,rm[u])(t)&&(s+=u+".")}),s+=r,s===i)}static eventCallback(t,i,r){return s=>{n.matchEventFullKeyCode(s,t)&&r.runGuarded(()=>i(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(re))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Ch=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:Wa},{provide:l.g9A,useValue:function ol(){Xp.makeCurrent()},multi:!0},{provide:re,useFactory:function xu(){return(0,l.RDi)(document),document},deps:[]}]),om=new l.OlP(""),Bn=[{provide:l.rWj,useClass:class ec{addToWindow(e){l.dqk.getAngularTestability=(i,r=!0)=>{const s=e.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},l.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(i=>{const r=l.dqk.getAllAngularTestabilities();let s=r.length,u=!1;const h=function(p){u=u||p,s--,0==s&&i(u)};r.forEach(function(p){p.whenStable(h)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?N().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:l.lri,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]}],am=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function oc(){return new l.qLn},deps:[]},{provide:No,useClass:rl,multi:!0,deps:[re,l.R0b,l.Lbi]},{provide:No,useClass:sc,multi:!0,deps:[re]},{provide:rc,useClass:rc,deps:[Fo,nl,l.AFp]},{provide:l.FYo,useExisting:rc},{provide:mh,useExisting:nl},{provide:nl,useClass:nl,deps:[re]},{provide:Fo,useClass:Fo,deps:[No,l.R0b]},{provide:Ya,useClass:P0,deps:[]},[]];let Eh=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:l.AFp,useValue:t.appId},{provide:Jl,useExisting:l.AFp},fy]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(om,12))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[...am,...Bn],imports:[co,l.hGG]}),n})(),gy=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(re))},n.\u0275prov=l.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function F0(){return new gy((0,l.LFG)(re))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let Nu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(t){let i=null;return i=t?new(t||n):l.LFG(lc),i},providedIn:"root"}),n})(),lc=(()=>{class n extends Nu{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case l.q3G.NONE:return i;case l.q3G.HTML:return(0,l.qzn)(i,"HTML")?(0,l.z3N)(i):(0,l.EiD)(this._doc,String(i)).toString();case l.q3G.STYLE:return(0,l.qzn)(i,"Style")?(0,l.z3N)(i):i;case l.q3G.SCRIPT:if((0,l.qzn)(i,"Script"))return(0,l.z3N)(i);throw new Error("unsafe value used in a script context");case l.q3G.URL:return(0,l.qzn)(i,"URL")?(0,l.z3N)(i):(0,l.mCW)(String(i));case l.q3G.RESOURCE_URL:if((0,l.qzn)(i,"ResourceURL"))return(0,l.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,l.JVY)(t)}bypassSecurityTrustStyle(t){return(0,l.L6k)(t)}bypassSecurityTrustScript(t){return(0,l.eBb)(t)}bypassSecurityTrustUrl(t){return(0,l.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,l.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(re))},n.\u0275prov=l.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function Ih(n){return new lc(n.get(re))}(l.LFG(l.zs3)),i},providedIn:"root"}),n})();var Ln=P(8996),As=P(3269);function bt(...n){const e=(0,As.yG)(n);return(0,Ln.D)(n,e)}var Ot=P(7579);class Li extends Ot.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}const Lu=(0,P(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Vi=P(9751);const{isArray:Th}=Array,{getPrototypeOf:Sh,prototype:cc,keys:al}=Object;function Vu(n){if(1===n.length){const e=n[0];if(Th(e))return{args:e,keys:null};if(function Bi(n){return n&&"object"==typeof n&&Sh(n)===cc}(e)){const t=al(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}var Vo=P(4671),Et=P(4004);const{isArray:uc}=Array;function Mh(n){return(0,Et.U)(e=>function Ia(n,e){return uc(e)?n(...e):n(e)}(n,e))}function ll(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}var xi=P(5403),Ah=P(9672);function hs(...n){const e=(0,As.yG)(n),t=(0,As.jO)(n),{args:i,keys:r}=Vu(n);if(0===i.length)return(0,Ln.D)([],e);const s=new Vi.y(function Bu(n,e,t=Vo.y){return i=>{Bo(e,()=>{const{length:r}=n,s=new Array(r);let u=r,h=r;for(let p=0;p<r;p++)Bo(e,()=>{const y=(0,Ln.D)(n[p],e);let E=!1;y.subscribe((0,xi.x)(i,I=>{s[p]=I,E||(E=!0,h--),h||i.next(t(s.slice()))},()=>{--u||i.complete()}))},i)},i)}}(i,e,r?u=>ll(r,u):Vo.y));return t?s.pipe(Mh(t)):s}function Bo(n,e,t){n?(0,Ah.f)(t,n,e):e()}var dc=P(8189);function ho(...n){return function xh(){return(0,dc.J)(1)}()((0,Ln.D)(n,(0,As.yG)(n)))}var Jr=P(8421);function hc(n){return new Vi.y(e=>{(0,Jr.Xf)(n()).subscribe(e)})}var by=P(9635),jr=P(576);function xs(n,e){const t=(0,jr.m)(n)?n:()=>n,i=r=>r.error(t());return new Vi.y(e?r=>e.schedule(i,0,r):i)}var fs=P(515),ps=P(727),pr=P(4482);function Uu(){return(0,pr.e)((n,e)=>{let t=null;n._refCount++;const i=(0,xi.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,s=t;t=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class Hu extends Vi.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,pr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ps.w0;const t=this.getSubject();e.add(this.source.subscribe((0,xi.x)(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ps.w0.EMPTY)}return e}refCount(){return Uu()(this)}}function pi(n,e){return(0,pr.e)((t,i)=>{let r=null,s=0,u=!1;const h=()=>u&&!r&&i.complete();t.subscribe((0,xi.x)(i,p=>{r?.unsubscribe();let y=0;const E=s++;(0,Jr.Xf)(n(p,E)).subscribe(r=(0,xi.x)(i,I=>i.next(e?e(p,I,E,y++):I),()=>{r=null,h()}))},()=>{u=!0,h()}))})}function wr(n){return n<=0?()=>fs.E:(0,pr.e)((e,t)=>{let i=0;e.subscribe((0,xi.x)(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function es(...n){const e=(0,As.yG)(n);return(0,pr.e)((t,i)=>{(e?ho(n,t,e):ho(n,t)).subscribe(i)})}function Ui(n,e){return(0,pr.e)((t,i)=>{let r=0;t.subscribe((0,xi.x)(i,s=>n.call(e,s,r++)&&i.next(s)))})}var Hi=P(5577);function Ta(n){return(0,pr.e)((e,t)=>{let i=!1;e.subscribe((0,xi.x)(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function fm(n=kh){return(0,pr.e)((e,t)=>{let i=!1;e.subscribe((0,xi.x)(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function kh(){return new Lu}function fo(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Ui((r,s)=>n(r,s,i)):Vo.y,wr(1),t?Ta(e):fm(()=>new Lu))}function Ks(n,e){return(0,jr.m)(e)?(0,Hi.z)(n,e,1):(0,Hi.z)(n,1)}var zi=P(8505);function Qs(n){return(0,pr.e)((e,t)=>{let s,i=null,r=!1;i=e.subscribe((0,xi.x)(t,void 0,void 0,u=>{s=(0,Jr.Xf)(n(u,Qs(n)(e))),i?(i.unsubscribe(),i=null,s.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(t))})}function Rh(n,e,t,i,r){return(s,u)=>{let h=t,p=e,y=0;s.subscribe((0,xi.x)(u,E=>{const I=y++;p=h?n(p,E,I):(h=!0,E),i&&u.next(p)},r&&(()=>{h&&u.next(p),u.complete()})))}}function Sa(n,e){return(0,pr.e)(Rh(n,e,arguments.length>=2,!0))}function pm(n){return n<=0?()=>fs.E:(0,pr.e)((e,t)=>{let i=[];e.subscribe((0,xi.x)(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function wy(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Ui((r,s)=>n(r,s,i)):Vo.y,pm(1),t?Ta(e):fm(()=>new Lu))}function cl(n,e=!1){return(0,pr.e)((t,i)=>{let r=0;t.subscribe((0,xi.x)(i,s=>{const u=n(s,r++);(u||e)&&i.next(s),!u&&i.complete()}))})}function Oh(n){return(0,pr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const wn="primary",zu=Symbol("RouteTitle");class Ph{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function ul(n){return new Ph(n)}function mm(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const u=i[s],h=n[s];if(u.startsWith(":"))r[u.substring(1)]=h;else if(u!==h.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function ks(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let s=0;s<t.length;s++)if(r=t[s],!Fh(n[r],e[r]))return!1;return!0}function Fh(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,s)=>i[s]===r)}return n===e}function Lh(n){return Array.prototype.concat.apply([],n)}function Rs(n){return n.length>0?n[n.length-1]:null}function er(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Uo(n){return(0,l.CqO)(n)?n:(0,l.QGY)(n)?(0,Ln.D)(Promise.resolve(n)):bt(n)}const Cy={exact:function ym(n,e,t){if(!Ho(n.segments,e.segments)||!Ma(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!ym(n.children[i],e.children[i],t))return!1;return!0},subset:Cr},gm={exact:function _m(n,e){return ks(n,e)},subset:function Ey(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Fh(n[t],e[t]))},ignored:()=>!0};function Bh(n,e,t){return Cy[t.paths](n.root,e.root,t.matrixParams)&&gm[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Cr(n,e,t){return $u(n,e,e.segments,t)}function $u(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!Ho(r,t)||e.hasChildren()||!Ma(r,t,i))}if(n.segments.length===t.length){if(!Ho(n.segments,t)||!Ma(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!Cr(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(Ho(n.segments,r)&&Ma(n.segments,r,i)&&n.children[wn])&&$u(n.children[wn],e,s,i)}}function Ma(n,e,t){return e.every((i,r)=>gm[t](n[r].parameters,i.parameters))}class Os{constructor(e,t,i){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ul(this.queryParams)),this._queryParamMap}toString(){return Iy.serialize(this)}}class qt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,er(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return dl(this)}}class Ps{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=ul(this.parameters)),this._parameterMap}toString(){return bm(this)}}function Ho(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let fc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return new Uh},providedIn:"root"}),n})();class Uh{parse(e){const t=new S(e);return new Os(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Aa(e.root,!0)}`,i=function wm(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${mc(t)}=${mc(r)}`).join("&"):`${mc(t)}=${mc(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function Gu(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Iy=new Uh;function dl(n){return n.segments.map(e=>bm(e)).join("/")}function Aa(n,e){if(!n.hasChildren())return dl(n);if(e){const t=n.children[wn]?Aa(n.children[wn],!1):"",i=[];return er(n.children,(r,s)=>{s!==wn&&i.push(`${s}:${Aa(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function Dy(n,e){let t=[];return er(n.children,(i,r)=>{r===wn&&(t=t.concat(e(i,r)))}),er(n.children,(i,r)=>{r!==wn&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===wn?[Aa(n.children[wn],!1)]:[`${r}:${Aa(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[wn]?`${dl(n)}/${t[0]}`:`${dl(n)}/(${t.join("//")})`}}function pc(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function mc(n){return pc(n).replace(/%3B/gi,";")}function gc(n){return pc(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function qu(n){return decodeURIComponent(n)}function Hh(n){return qu(n.replace(/\+/g,"%20"))}function bm(n){return`${gc(n.path)}${function _c(n){return Object.keys(n).map(e=>`;${gc(e)}=${gc(n[e])}`).join("")}(n.parameters)}`}const Ty=/^[^\/()?;=#]+/;function hl(n){const e=n.match(Ty);return e?e[0]:""}const b=/^[^=?&#]+/,_=/^[^&#]+/;class S{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new qt([],{}):new qt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[wn]=new qt(e,t)),i}parseSegment(){const e=hl(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new l.vHH(4009,!1);return this.capture(e),new Ps(qu(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=hl(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=hl(this.remaining);r&&(i=r,this.capture(i))}e[qu(t)]=qu(i)}parseQueryParam(e){const t=function m(n){const e=n.match(b);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const u=function w(n){const e=n.match(_);return e?e[0]:""}(this.remaining);u&&(i=u,this.capture(i))}const r=Hh(t),s=Hh(i);if(e.hasOwnProperty(r)){let u=e[r];Array.isArray(u)||(u=[u],e[r]=u),u.push(s)}else e[r]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=hl(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new l.vHH(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=wn);const u=this.parseChildren();t[s]=1===Object.keys(u).length?u[wn]:new qt([],u),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new l.vHH(4011,!1)}}function k(n){return n.segments.length>0?new qt([],{[wn]:n}):n}function J(n){const e={};for(const i of Object.keys(n.children)){const s=J(n.children[i]);(s.segments.length>0||s.hasChildren())&&(e[i]=s)}return function fe(n){if(1===n.numberOfChildren&&n.children[wn]){const e=n.children[wn];return new qt(n.segments.concat(e.segments),e.children)}return n}(new qt(n.segments,e))}function Ze(n){return n instanceof Os}function zo(n,e,t,i,r){if(0===t.length)return mo(e.root,e.root,e.root,i,r);const s=function Wu(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new zh(!0,0,n);let e=0,t=!1;const i=n.reduce((r,s,u)=>{if("object"==typeof s&&null!=s){if(s.outlets){const h={};return er(s.outlets,(p,y)=>{h[y]="string"==typeof p?p.split("/"):p}),[...r,{outlets:h}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===u?(s.split("/").forEach((h,p)=>{0==p&&"."===h||(0==p&&""===h?t=!0:".."===h?e++:""!=h&&r.push(h))}),r):[...r,s]},[]);return new zh(t,e,i)}(t);return s.toRoot()?mo(e.root,e.root,new qt([],{}),i,r):function u(p){const y=function go(n,e,t,i){if(n.isAbsolute)return new $o(e.root,!0,0);if(-1===i)return new $o(t,t===e.root,0);return function Zu(n,e,t){let i=n,r=e,s=t;for(;s>r;){if(s-=r,i=i.parent,!i)throw new l.vHH(4005,!1);r=i.segments.length}return new $o(i,!1,r-s)}(t,i+(po(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,e,n.snapshot?._urlSegment,p),E=y.processChildren?Yu(y.segmentGroup,y.index,s.commands):vc(y.segmentGroup,y.index,s.commands);return mo(e.root,y.segmentGroup,E,i,r)}(n.snapshot?._lastPathIndex)}function po(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function jo(n){return"object"==typeof n&&null!=n&&n.outlets}function mo(n,e,t,i,r){let u,s={};i&&er(i,(p,y)=>{s[y]=Array.isArray(p)?p.map(E=>`${E}`):`${p}`}),u=n===e?t:yc(n,e,t);const h=k(J(u));return new Os(h,s,r)}function yc(n,e,t){const i={};return er(n.children,(r,s)=>{i[s]=r===e?t:yc(r,e,t)}),new qt(n.segments,i)}class zh{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&po(i[0]))throw new l.vHH(4003,!1);const r=i.find(jo);if(r&&r!==Rs(i))throw new l.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class $o{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function vc(n,e,t){if(n||(n=new qt([],{})),0===n.segments.length&&n.hasChildren())return Yu(n,e,t);const i=function Em(n,e,t){let i=0,r=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return s;const u=n.segments[r],h=t[i];if(jo(h))break;const p=`${h}`,y=i<t.length-1?t[i+1]:null;if(r>0&&void 0===p)break;if(p&&y&&"object"==typeof y&&void 0===y.outlets){if(!Ay(p,y,u))return s;i+=2}else{if(!Ay(p,{},u))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new qt(n.segments.slice(0,i.pathIndex),{});return s.children[wn]=new qt(n.segments.slice(i.pathIndex),n.children),Yu(s,0,r)}return i.match&&0===r.length?new qt(n.segments,{}):i.match&&!n.hasChildren()?Sy(n,e,t):i.match?Yu(n,0,r):Sy(n,e,t)}function Yu(n,e,t){if(0===t.length)return new qt(n.segments,{});{const i=function Cm(n){return jo(n[0])?n[0].outlets:{[wn]:n}}(t),r={};return er(i,(s,u)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[u]=vc(n.children[u],e,s))}),er(n.children,(s,u)=>{void 0===i[u]&&(r[u]=s)}),new qt(n.segments,r)}}function Sy(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const s=t[r];if(jo(s)){const p=$0(s.outlets);return new qt(i,p)}if(0===r&&po(t[0])){i.push(new Ps(n.segments[e].path,My(t[0]))),r++;continue}const u=jo(s)?s.outlets[wn]:`${s}`,h=r<t.length-1?t[r+1]:null;u&&h&&po(h)?(i.push(new Ps(u,My(h))),r+=2):(i.push(new Ps(u,{})),r++)}return new qt(i,{})}function $0(n){const e={};return er(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=Sy(new qt([],{}),0,t))}),e}function My(n){const e={};return er(n,(t,i)=>e[i]=`${t}`),e}function Ay(n,e,t){return n==t.path&&ks(e,t.parameters)}class _o{constructor(e,t){this.id=e,this.url=t}}class Dm extends _o{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Go extends _o{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class bc extends _o{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class xy extends _o{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ky extends _o{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ry extends _o{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Oy extends _o{constructor(e,t,i,r,s){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class $h extends _o{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class DS extends _o{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class G0{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class IS{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class TS{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class q0{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Py{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Im{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Tm{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class W0{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Ny(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=Ny(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Z0(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return Z0(e,this._root).map(t=>t.value)}}function Ny(n,e){if(n===e.value)return e;for(const t of e.children){const i=Ny(n,t);if(i)return i}return null}function Z0(n,e){if(n===e.value)return[e];for(const t of e.children){const i=Z0(n,t);if(i.length)return i.unshift(e),i}return[]}class xa{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function fl(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Y0 extends W0{constructor(e,t){super(e),this.snapshot=t,Vy(this,e)}toString(){return this.snapshot.toString()}}function Fy(n,e){const t=function Sm(n,e){const u=new Gh([],{},{},"",{},wn,e,null,n.root,-1,{});return new pl("",new xa(u,[]))}(n,e),i=new Li([new Ps("",{})]),r=new Li({}),s=new Li({}),u=new Li({}),h=new Li(""),p=new qo(i,r,u,h,s,wn,e,t.root);return p.snapshot=t.root,new Y0(new xa(p,[]),t)}class qo{constructor(e,t,i,r,s,u,h,p){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=u,this.component=h,this.title=this.data?.pipe((0,Et.U)(y=>y[zu]))??bt(void 0),this._futureSnapshot=p}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Et.U)(e=>ul(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Et.U)(e=>ul(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ly(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],s=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function K0(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class Gh{constructor(e,t,i,r,s,u,h,p,y,E,I,O){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=u,this.component=h,this.title=this.data?.[zu],this.routeConfig=p,this._urlSegment=y,this._lastPathIndex=E,this._correctedLastPathIndex=O??E,this._resolve=I}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ul(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ul(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class pl extends W0{constructor(e,t){super(t),this.url=e,Vy(this,t)}toString(){return Q0(this._root)}}function Vy(n,e){e.value._routerState=n,e.children.forEach(t=>Vy(n,t))}function Q0(n){const e=n.children.length>0?` { ${n.children.map(Q0).join(", ")} } `:"";return`${n.value}${e}`}function By(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,ks(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),ks(e.params,t.params)||n.params.next(t.params),function Nh(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!ks(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),ks(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Uy(n,e){const t=ks(n.params,e.params)&&function vm(n,e){return Ho(n,e)&&n.every((t,i)=>ks(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Uy(n.parent,e.parent))}function Ns(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function Ku(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Ns(n,i,r);return Ns(n,i)})}(n,e,t);return new xa(i,r)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const u=s.route;return u.value._futureSnapshot=e.value,u.children=e.children.map(h=>Ns(n,h)),u}}const i=function MS(n){return new qo(new Li(n.url),new Li(n.params),new Li(n.queryParams),new Li(n.fragment),new Li(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(s=>Ns(n,s));return new xa(i,r)}}const Hy="ngNavigationCancelingError";function X0(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=Ze(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=J0(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function J0(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[Hy]=!0,i.cancellationCode=e,t&&(i.url=t),i}function eC(n){return tC(n)&&Ze(n.url)}function tC(n){return n&&n[Hy]}class nC{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new qh,this.attachRef=null}}let qh=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new nC,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Mm=!1;let zy=(()=>{class n{constructor(t,i,r,s,u){this.parentContexts=t,this.location=i,this.changeDetector=s,this.environmentInjector=u,this.activated=null,this._activatedRoute=null,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.name=r||wn,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.vHH(4012,Mm);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.vHH(4012,Mm);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.vHH(4012,Mm);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new l.vHH(4013,Mm);this._activatedRoute=t;const r=this.location,u=t._futureSnapshot.component,h=this.parentContexts.getOrCreateContext(this.name).children,p=new AS(t,h,r.injector);if(i&&function Am(n){return!!n.resolveComponentFactory}(i)){const y=i.resolveComponentFactory(u);this.activated=r.createComponent(y,r.length,p)}else this.activated=r.createComponent(u,{index:r.length,injector:p,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(qh),l.Y36(l.s_b),l.$8M("name"),l.Y36(l.sBO),l.Y36(l.lqb))},n.\u0275dir=l.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class AS{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===qo?this.route:e===qh?this.childContexts:this.parent.get(e,t)}}let yo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[l.jDz],decls:1,vars:0,template:function(t,i){1&t&&l._UZ(0,"router-outlet")},dependencies:[zy],encapsulation:2}),n})();function Qu(n,e){return n.providers&&!n._injector&&(n._injector=(0,l.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function rC(n){const e=n.children&&n.children.map(rC),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==wn&&(t.component=yo),t}function vo(n){return n.outlet||wn}function Gy(n,e){const t=n.filter(i=>vo(i)===e);return t.push(...n.filter(i=>vo(i)!==e)),t}function Wh(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class PS{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),By(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=fl(t);e.children.forEach(s=>{const u=s.value.outlet;this.deactivateRoutes(s,r[u],i),delete r[u]}),er(r,(s,u)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(r===s)if(r.component){const u=i.getContext(r.outlet);u&&this.deactivateChildRoutes(e,t,u.children)}else this.deactivateChildRoutes(e,t,i);else s&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=fl(e);for(const u of Object.keys(s))this.deactivateRouteAndItsChildren(s[u],r);if(i&&i.outlet){const u=i.outlet.detach(),h=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:u,route:e,contexts:h})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=fl(e);for(const u of Object.keys(s))this.deactivateRouteAndItsChildren(s[u],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=fl(t);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new Im(s.value.snapshot))}),e.children.length&&this.forwardEvent(new q0(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(By(r),r===s)if(r.component){const u=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,u.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const u=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const h=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),u.children.onOutletReAttached(h.contexts),u.attachRef=h.componentRef,u.route=h.route.value,u.outlet&&u.outlet.attach(h.componentRef,h.route.value),By(h.route.value),this.activateChildRoutes(e,null,u.children)}else{const h=Wh(r.snapshot),p=h?.get(l._Vd)??null;u.attachRef=null,u.route=r,u.resolver=p,u.injector=h,u.outlet&&u.outlet.activateWith(r,u.injector),this.activateChildRoutes(e,null,u.children)}}else this.activateChildRoutes(e,null,i)}}class sC{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Zh{constructor(e,t){this.component=e,this.route=t}}function xm(n,e,t){const i=n._root;return Yh(i,e?e._root:null,t,[i.value])}function ml(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||(0,l.Z0I)(n)?e.get(n):n:i}function Yh(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=fl(e);return n.children.forEach(u=>{(function tr(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,u=e?e.value:null,h=t?t.getContext(n.value.outlet):null;if(u&&s.routeConfig===u.routeConfig){const p=function aC(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Ho(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ho(n.url,e.url)||!ks(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Uy(n,e)||!ks(n.queryParams,e.queryParams);default:return!Uy(n,e)}}(u,s,s.routeConfig.runGuardsAndResolvers);p?r.canActivateChecks.push(new sC(i)):(s.data=u.data,s._resolvedData=u._resolvedData),Yh(n,e,s.component?h?h.children:null:t,i,r),p&&h&&h.outlet&&h.outlet.isActivated&&r.canDeactivateChecks.push(new Zh(h.outlet.component,u))}else u&&Kh(e,h,r),r.canActivateChecks.push(new sC(i)),Yh(n,null,s.component?h?h.children:null:t,i,r)})(u,s[u.value.outlet],t,i.concat([u.value]),r),delete s[u.value.outlet]}),er(s,(u,h)=>Kh(u,t.getContext(h),r)),r}function Kh(n,e,t){const i=fl(n),r=n.value;er(i,(s,u)=>{Kh(s,r.component?e?e.children.getContext(u):null:e,t)}),t.canDeactivateChecks.push(new Zh(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function Cc(n){return"function"==typeof n}function Ec(n){return n instanceof Lu||"EmptyError"===n?.name}const Xu=Symbol("INITIAL_VALUE");function Dc(){return pi(n=>hs(n.map(e=>e.pipe(wr(1),es(Xu)))).pipe((0,Et.U)(e=>{for(const t of e)if(!0!==t){if(t===Xu)return Xu;if(!1===t||t instanceof Os)return t}return!0}),Ui(e=>e!==Xu),wr(1)))}function Zy(n){return(0,by.z)((0,zi.b)(e=>{if(Ze(e))throw X0(0,e)}),(0,Et.U)(e=>!0===e))}const ka={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function pC(n,e,t,i,r){const s=Qh(n,e,t);return s.matched?function fC(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?bt(r.map(u=>{const h=ml(u,n);return Uo(function BS(n){return n&&Cc(n.canMatch)}(h)?h.canMatch(e,t):n.runInContext(()=>h(e,t)))})).pipe(Dc(),Zy()):bt(!0)}(i=Qu(e,i),e,t).pipe((0,Et.U)(u=>!0===u?s:{...ka})):bt(s)}function Qh(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...ka}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||mm)(t,n,e);if(!r)return{...ka};const s={};er(r.posParams,(h,p)=>{s[p]=h.path});const u=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:u,positionalParamSegments:r.posParams??{}}}function Ic(n,e,t,i,r="corrected"){if(t.length>0&&function km(n,e,t){return t.some(i=>Xh(n,e,i)&&vo(i)!==wn)}(n,t,i)){const u=new qt(e,function Yy(n,e,t,i){const r={};r[wn]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&vo(s)!==wn){const u=new qt([],{});u._sourceSegment=n,u._segmentIndexShift=e.length,r[vo(s)]=u}return r}(n,e,i,new qt(t,n.children)));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:[]}}if(0===t.length&&function Tc(n,e,t){return t.some(i=>Xh(n,e,i))}(n,t,i)){const u=new qt(n.segments,function zS(n,e,t,i,r,s){const u={};for(const h of i)if(Xh(n,t,h)&&!r[vo(h)]){const p=new qt([],{});p._sourceSegment=n,p._segmentIndexShift="legacy"===s?n.segments.length:e.length,u[vo(h)]=p}return{...r,...u}}(n,e,t,i,n.children,r));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}const s=new qt(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function Xh(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Rm(n,e,t,i){return!!(vo(n)===i||i!==wn&&Xh(e,t,n))&&("**"===n.path||Qh(e,n,t).matched)}function mC(n,e,t){return 0===e.length&&!n.children[t]}const Om=!1;class Jh{constructor(e){this.segmentGroup=e||null}}class Sc{constructor(e){this.urlTree=e}}function ef(n){return xs(new Jh(n))}function gC(n){return xs(new Sc(n))}class GS{constructor(e,t,i,r,s){this.injector=e,this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0}apply(){const e=Ic(this.urlTree.root,[],[],this.config).segmentGroup,t=new qt(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,wn).pipe((0,Et.U)(s=>this.createUrlTree(J(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Qs(s=>{if(s instanceof Sc)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Jh?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,wn).pipe((0,Et.U)(r=>this.createUrlTree(J(r),e.queryParams,e.fragment))).pipe(Qs(r=>{throw r instanceof Jh?this.noMatchError(r):r}))}noMatchError(e){return new l.vHH(4002,Om)}createUrlTree(e,t,i){const r=k(e);return new Os(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe((0,Et.U)(s=>new qt([],s))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return(0,Ln.D)(r).pipe(Ks(s=>{const u=i.children[s],h=Gy(t,s);return this.expandSegmentGroup(e,h,u,s).pipe((0,Et.U)(p=>({segment:p,outlet:s})))}),Sa((s,u)=>(s[u.outlet]=u.segment,s),{}),wy())}expandSegment(e,t,i,r,s,u){return(0,Ln.D)(i).pipe(Ks(h=>this.expandSegmentAgainstRoute(e,t,i,h,r,s,u).pipe(Qs(y=>{if(y instanceof Jh)return bt(null);throw y}))),fo(h=>!!h),Qs((h,p)=>{if(Ec(h))return mC(t,r,s)?bt(new qt([],{})):ef(t);throw h}))}expandSegmentAgainstRoute(e,t,i,r,s,u,h){return Rm(r,t,s,u)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,s,u):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,u):ef(t):ef(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,u){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,u):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?gC(s):this.lineralizeSegments(i,s).pipe((0,Hi.z)(u=>{const h=new qt(u,{});return this.expandSegment(e,h,t,u,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,u){const{matched:h,consumedSegments:p,remainingSegments:y,positionalParamSegments:E}=Qh(t,r,s);if(!h)return ef(t);const I=this.applyRedirectCommands(p,r.redirectTo,E);return r.redirectTo.startsWith("/")?gC(I):this.lineralizeSegments(r,I).pipe((0,Hi.z)(O=>this.expandSegment(e,t,i,O.concat(y),u,!1)))}matchSegmentAgainstRoute(e,t,i,r,s){return"**"===i.path?(e=Qu(i,e),i.loadChildren?(i._loadedRoutes?bt({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(e,i)).pipe((0,Et.U)(h=>(i._loadedRoutes=h.routes,i._loadedInjector=h.injector,new qt(r,{})))):bt(new qt(r,{}))):pC(t,i,r,e).pipe(pi(({matched:u,consumedSegments:h,remainingSegments:p})=>u?this.getChildConfig(e=i._injector??e,i,r).pipe((0,Hi.z)(E=>{const I=E.injector??e,O=E.routes,{segmentGroup:B,slicedSegments:$}=Ic(t,h,p,O),ne=new qt(B.segments,B.children);if(0===$.length&&ne.hasChildren())return this.expandChildren(I,O,ne).pipe((0,Et.U)(nt=>new qt(h,nt)));if(0===O.length&&0===$.length)return bt(new qt(h,{}));const te=vo(i)===s;return this.expandSegment(I,ne,O,$,te?wn:s,!0).pipe((0,Et.U)(ot=>new qt(h.concat(ot.segments),ot.children)))})):ef(t)))}getChildConfig(e,t,i){return t.children?bt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?bt({routes:t._loadedRoutes,injector:t._loadedInjector}):function Wy(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?bt(!0):bt(r.map(u=>{const h=ml(u,n);return Uo(function NS(n){return n&&Cc(n.canLoad)}(h)?h.canLoad(e,t):n.runInContext(()=>h(e,t)))})).pipe(Dc(),Zy())}(e,t,i).pipe((0,Hi.z)(r=>r?this.configLoader.loadChildren(e,t).pipe((0,zi.b)(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function $S(n){return xs(J0(Om,3))}())):bt({routes:[],injector:e})}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return bt(i);if(r.numberOfChildren>1||!r.children[wn])return xs(new l.vHH(4e3,Om));r=r.children[wn]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const s=this.createSegmentGroup(e,t.root,i,r);return new Os(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return er(e,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const h=r.substring(1);i[s]=t[h]}else i[s]=r}),i}createSegmentGroup(e,t,i,r){const s=this.createSegments(e,t.segments,i,r);let u={};return er(t.children,(h,p)=>{u[p]=this.createSegmentGroup(e,h,i,r)}),new qt(s,u)}createSegments(e,t,i,r){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new l.vHH(4001,Om);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}class yC{}class tf{constructor(e,t,i,r,s,u,h,p){this.injector=e,this.rootComponentType=t,this.config=i,this.urlTree=r,this.url=s,this.paramsInheritanceStrategy=u,this.relativeLinkResolution=h,this.urlSerializer=p}recognize(){const e=Ic(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,wn).pipe((0,Et.U)(t=>{if(null===t)return null;const i=new Gh([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},wn,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new xa(i,t),s=new pl(this.url,r);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const t=e.value,i=Ly(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r)}processChildren(e,t,i){return(0,Ln.D)(Object.keys(i.children)).pipe(Ks(r=>{const s=i.children[r],u=Gy(t,r);return this.processSegmentGroup(e,u,s,r)}),Sa((r,s)=>r&&s?(r.push(...s),r):null),cl(r=>null!==r),Ta(null),wy(),(0,Et.U)(r=>{if(null===r)return null;const s=vC(r);return function WS(n){n.sort((e,t)=>e.value.outlet===wn?-1:t.value.outlet===wn?1:e.value.outlet.localeCompare(t.value.outlet))}(s),s}))}processSegment(e,t,i,r,s){return(0,Ln.D)(t).pipe(Ks(u=>this.processSegmentAgainstRoute(u._injector??e,u,i,r,s)),fo(u=>!!u),Qs(u=>{if(Ec(u))return mC(i,r,s)?bt([]):bt(null);throw u}))}processSegmentAgainstRoute(e,t,i,r,s){if(t.redirectTo||!Rm(t,i,r,s))return bt(null);let u;if("**"===t.path){const h=r.length>0?Rs(r).parameters:{},p=bC(i)+r.length;u=bt({snapshot:new Gh(r,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,CC(t),vo(t),t.component??t._loadedComponent??null,t,Qy(i),p,Xy(t),p),consumedSegments:[],remainingSegments:[]})}else u=pC(i,t,r,e).pipe((0,Et.U)(({matched:h,consumedSegments:p,remainingSegments:y,parameters:E})=>{if(!h)return null;const I=bC(i)+p.length;return{snapshot:new Gh(p,E,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,CC(t),vo(t),t.component??t._loadedComponent??null,t,Qy(i),I,Xy(t),I),consumedSegments:p,remainingSegments:y}}));return u.pipe(pi(h=>{if(null===h)return bt(null);const{snapshot:p,consumedSegments:y,remainingSegments:E}=h;e=t._injector??e;const I=t._loadedInjector??e,O=function Ju(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:B,slicedSegments:$}=Ic(i,y,E,O.filter(te=>void 0===te.redirectTo),this.relativeLinkResolution);if(0===$.length&&B.hasChildren())return this.processChildren(I,O,B).pipe((0,Et.U)(te=>null===te?null:[new xa(p,te)]));if(0===O.length&&0===$.length)return bt([new xa(p,[])]);const ne=vo(t)===s;return this.processSegment(I,O,B,$,ne?wn:s).pipe((0,Et.U)(te=>null===te?null:[new xa(p,te)]))}))}}function nf(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function vC(n){const e=[],t=new Set;for(const i of n){if(!nf(i)){e.push(i);continue}const r=e.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=vC(i.children);e.push(new xa(i.value,r))}return e.filter(i=>!t.has(i))}function Qy(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function bC(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function CC(n){return n.data||{}}function Xy(n){return n.resolve||{}}function DC(n){return"string"==typeof n.title||null===n.title}function nv(n){return pi(e=>{const t=n(e);return t?(0,Ln.D)(t).pipe((0,Et.U)(()=>e)):bt(e)})}let IC=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===wn);return i}getResolvedTitleForRoute(t){return t.data[zu]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(TC)},providedIn:"root"}),n})(),TC=(()=>{class n extends IC{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(gy))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class YS{}class ed extends class KS{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Nm=new l.OlP("",{providedIn:"root",factory:()=>({})}),MC=new l.OlP("ROUTES");let AC=(()=>{class n{constructor(t,i){this.injector=t,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return bt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=Uo(t.loadComponent()).pipe((0,zi.b)(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),Oh(()=>{this.componentLoaders.delete(t)})),r=new Hu(i,()=>new Ot.x).pipe(Uu());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return bt({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,Et.U)(h=>{this.onLoadEndListener&&this.onLoadEndListener(i);let p,y,E=!1;Array.isArray(h)?y=h:(p=h.create(t).injector,y=Lh(p.get(MC,[],l.XFs.Self|l.XFs.Optional)));return{routes:y.map(rC),injector:p}}),Oh(()=>{this.childrenLoaders.delete(i)})),u=new Hu(s,()=>new Ot.x).pipe(Uu());return this.childrenLoaders.set(i,u),u}loadModuleFactoryOrRoutes(t){return Uo(t()).pipe((0,Hi.z)(i=>i instanceof l.YKP||Array.isArray(i)?bt(i):(0,Ln.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.zs3),l.LFG(l.Sil))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class xC{}class z1{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function j1(n){throw n}function kC(n,e,t){return e.parse("/")}const QS={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},RC={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function OC(){const n=(0,l.f3M)(fc),e=(0,l.f3M)(qh),t=(0,l.f3M)(Ie),i=(0,l.f3M)(l.zs3),r=(0,l.f3M)(l.Sil),s=(0,l.f3M)(MC,{optional:!0})??[],u=(0,l.f3M)(Nm,{optional:!0})??{},h=(0,l.f3M)(TC),p=(0,l.f3M)(IC,{optional:!0}),y=(0,l.f3M)(xC,{optional:!0}),E=(0,l.f3M)(YS,{optional:!0}),I=new Un(null,n,e,t,i,r,Lh(s));return y&&(I.urlHandlingStrategy=y),E&&(I.routeReuseStrategy=E),I.titleStrategy=p??h,function XS(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(u,I),I}let Un=(()=>{class n{constructor(t,i,r,s,u,h,p){this.rootComponentType=t,this.urlSerializer=i,this.rootContexts=r,this.location=s,this.config=p,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Ot.x,this.errorHandler=j1,this.malformedUriErrorHandler=kC,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>bt(void 0),this.urlHandlingStrategy=new z1,this.routeReuseStrategy=new ed,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=u.get(AC),this.configLoader.onLoadEndListener=O=>this.triggerEvent(new IS(O)),this.configLoader.onLoadStartListener=O=>this.triggerEvent(new G0(O)),this.ngModule=u.get(l.h0i),this.console=u.get(l.c2e);const I=u.get(l.R0b);this.isNgZoneEnabled=I instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(p),this.currentUrlTree=function Vh(){return new Os(new qt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Fy(this.currentUrlTree,this.rootComponentType),this.transitions=new Li({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const i=this.events;return t.pipe(Ui(r=>0!==r.id),(0,Et.U)(r=>({...r,extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),pi(r=>{let s=!1,u=!1;return bt(r).pipe((0,zi.b)(h=>{this.currentNavigation={id:h.id,initialUrl:h.rawUrl,extractedUrl:h.extractedUrl,trigger:h.source,extras:h.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),pi(h=>{const p=this.browserUrlTree.toString(),y=!this.navigated||h.extractedUrl.toString()!==p||p!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||y)&&this.urlHandlingStrategy.shouldProcessUrl(h.rawUrl))return iv(h.source)&&(this.browserUrlTree=h.extractedUrl),bt(h).pipe(pi(I=>{const O=this.transitions.getValue();return i.next(new Dm(I.id,this.serializeUrl(I.extractedUrl),I.source,I.restoredState)),O!==this.transitions.getValue()?fs.E:Promise.resolve(I)}),function _C(n,e,t,i){return pi(r=>function Ky(n,e,t,i,r){return new GS(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe((0,Et.U)(s=>({...r,urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,zi.b)(I=>{this.currentNavigation={...this.currentNavigation,finalUrl:I.urlAfterRedirects},r.urlAfterRedirects=I.urlAfterRedirects}),function EC(n,e,t,i,r,s){return(0,Hi.z)(u=>function qS(n,e,t,i,r,s,u="emptyOnly",h="legacy"){return new tf(n,e,t,i,r,u,h,s).recognize().pipe(pi(p=>null===p?function B1(n){return new Vi.y(e=>e.error(n))}(new yC):bt(p)))}(n,e,t,u.urlAfterRedirects,i.serialize(u.urlAfterRedirects),i,r,s).pipe((0,Et.U)(h=>({...u,targetSnapshot:h}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,zi.b)(I=>{if(r.targetSnapshot=I.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!I.extras.skipLocationChange){const B=this.urlHandlingStrategy.merge(I.urlAfterRedirects,I.rawUrl);this.setBrowserUrl(B,I)}this.browserUrlTree=I.urlAfterRedirects}const O=new ky(I.id,this.serializeUrl(I.extractedUrl),this.serializeUrl(I.urlAfterRedirects),I.targetSnapshot);i.next(O)}));if(y&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:O,extractedUrl:B,source:$,restoredState:ne,extras:te}=h,Ve=new Dm(O,this.serializeUrl(B),$,ne);i.next(Ve);const ot=Fy(B,this.rootComponentType).snapshot;return bt(r={...h,targetSnapshot:ot,urlAfterRedirects:B,extras:{...te,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=h.rawUrl,h.resolve(null),fs.E}),(0,zi.b)(h=>{const p=new Ry(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(p)}),(0,Et.U)(h=>r={...h,guards:xm(h.targetSnapshot,h.currentSnapshot,this.rootContexts)}),function cC(n,e){return(0,Hi.z)(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:u}}=t;return 0===u.length&&0===s.length?bt({...t,guardsResult:!0}):function uC(n,e,t,i){return(0,Ln.D)(n).pipe((0,Hi.z)(r=>function HS(n,e,t,i,r){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?bt(s.map(h=>{const p=Wh(e)??r,y=ml(h,p);return Uo(function VS(n){return n&&Cc(n.canDeactivate)}(y)?y.canDeactivate(n,e,t,i):p.runInContext(()=>y(n,e,t,i))).pipe(fo())})).pipe(Dc()):bt(!0)}(r.component,r.route,t,e,i)),fo(r=>!0!==r,!0))}(u,i,r,n).pipe((0,Hi.z)(h=>h&&function lC(n){return"boolean"==typeof n}(h)?function US(n,e,t,i){return(0,Ln.D)(e).pipe(Ks(r=>ho(function hC(n,e){return null!==n&&e&&e(new TS(n)),bt(!0)}(r.route.parent,i),function dC(n,e){return null!==n&&e&&e(new Py(n)),bt(!0)}(r.route,i),function V1(n,e,t){const i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(u=>function oC(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(u)).filter(u=>null!==u).map(u=>hc(()=>bt(u.guards.map(p=>{const y=Wh(u.node)??t,E=ml(p,y);return Uo(function LS(n){return n&&Cc(n.canActivateChild)}(E)?E.canActivateChild(i,n):y.runInContext(()=>E(i,n))).pipe(fo())})).pipe(Dc())));return bt(s).pipe(Dc())}(n,r.path,t),function qy(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return bt(!0);const r=i.map(s=>hc(()=>{const u=Wh(e)??t,h=ml(s,u);return Uo(function FS(n){return n&&Cc(n.canActivate)}(h)?h.canActivate(e,n):u.runInContext(()=>h(e,n))).pipe(fo())}));return bt(r).pipe(Dc())}(n,r.route,t))),fo(r=>!0!==r,!0))}(i,s,n,e):bt(h)),(0,Et.U)(h=>({...t,guardsResult:h})))})}(this.ngModule.injector,h=>this.triggerEvent(h)),(0,zi.b)(h=>{if(r.guardsResult=h.guardsResult,Ze(h.guardsResult))throw X0(0,h.guardsResult);const p=new Oy(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot,!!h.guardsResult);this.triggerEvent(p)}),Ui(h=>!!h.guardsResult||(this.restoreHistory(h),this.cancelNavigationTransition(h,"",3),!1)),nv(h=>{if(h.guards.canActivateChecks.length)return bt(h).pipe((0,zi.b)(p=>{const y=new $h(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(y)}),pi(p=>{let y=!1;return bt(p).pipe(function Jy(n,e){return(0,Hi.z)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return bt(t);let s=0;return(0,Ln.D)(r).pipe(Ks(u=>function ev(n,e,t,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!DC(r)&&(s[zu]=r.title),function ZS(n,e,t,i){const r=function tv(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return bt({});const s={};return(0,Ln.D)(r).pipe((0,Hi.z)(u=>function rf(n,e,t,i){const r=Wh(e)??i,s=ml(n,r);return Uo(s.resolve?s.resolve(e,t):r.runInContext(()=>s(e,t)))}(n[u],e,t,i).pipe(fo(),(0,zi.b)(h=>{s[u]=h}))),pm(1),function z0(n){return(0,Et.U)(()=>n)}(s),Qs(u=>Ec(u)?fs.E:xs(u)))}(s,n,e,i).pipe((0,Et.U)(u=>(n._resolvedData=u,n.data=Ly(n,t).resolve,r&&DC(r)&&(n.data[zu]=r.title),null)))}(u.route,i,n,e)),(0,zi.b)(()=>s++),pm(1),(0,Hi.z)(u=>s===r.length?bt(t):fs.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,zi.b)({next:()=>y=!0,complete:()=>{y||(this.restoreHistory(p),this.cancelNavigationTransition(p,"",2))}}))}),(0,zi.b)(p=>{const y=new DS(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(y)}))}),nv(h=>{const p=y=>{const E=[];y.routeConfig?.loadComponent&&!y.routeConfig._loadedComponent&&E.push(this.configLoader.loadComponent(y.routeConfig).pipe((0,zi.b)(I=>{y.component=I}),(0,Et.U)(()=>{})));for(const I of y.children)E.push(...p(I));return E};return hs(p(h.targetSnapshot.root)).pipe(Ta(),wr(1))}),nv(()=>this.afterPreactivation()),(0,Et.U)(h=>{const p=function SS(n,e,t){const i=Ns(n,e._root,t?t._root:void 0);return new Y0(i,e)}(this.routeReuseStrategy,h.targetSnapshot,h.currentRouterState);return r={...h,targetRouterState:p}}),(0,zi.b)(h=>{this.currentUrlTree=h.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl),this.routerState=h.targetRouterState,"deferred"===this.urlUpdateStrategy&&(h.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,h),this.browserUrlTree=h.urlAfterRedirects)}),((n,e,t)=>(0,Et.U)(i=>(new PS(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,h=>this.triggerEvent(h)),(0,zi.b)({next(){s=!0},complete(){s=!0}}),Oh(()=>{s||u||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Qs(h=>{if(u=!0,tC(h)){eC(h)||(this.navigated=!0,this.restoreHistory(r,!0));const p=new bc(r.id,this.serializeUrl(r.extractedUrl),h.message,h.cancellationCode);if(i.next(p),eC(h)){const y=this.urlHandlingStrategy.merge(h.url,this.rawUrlTree),E={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||iv(r.source)};this.scheduleNavigation(y,"imperative",null,E,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{this.restoreHistory(r,!0);const p=new xy(r.id,this.serializeUrl(r.extractedUrl),h,r.targetSnapshot??void 0);i.next(p);try{r.resolve(this.errorHandler(h))}catch(y){r.reject(y)}}return fs.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const r={replaceUrl:!0},s=t.state?.navigationId?t.state:null;if(s){const h={...s};delete h.navigationId,delete h.\u0275routerPageId,0!==Object.keys(h).length&&(r.state=h)}const u=this.parseUrl(t.url);this.scheduleNavigation(u,i,s,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(rC),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:s,fragment:u,queryParamsHandling:h,preserveFragment:p}=i,y=r||this.routerState.root,E=p?this.currentUrlTree.fragment:u;let I=null;switch(h){case"merge":I={...this.currentUrlTree.queryParams,...s};break;case"preserve":I=this.currentUrlTree.queryParams;break;default:I=s||null}return null!==I&&(I=this.removeEmptyProps(I)),zo(y,this.currentUrlTree,t,I,E??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=Ze(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,i)}navigate(t,i={skipLocationChange:!1}){return function JS(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new l.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...QS}:!1===i?{...RC}:i,Ze(t))return Bh(this.currentUrlTree,t,r);const s=this.parseUrl(t);return Bh(this.currentUrlTree,s,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const s=t[r];return null!=s&&(i[r]=s),i},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Go(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,i,r,s,u){if(this.disposed)return Promise.resolve(!1);let h,p,y;u?(h=u.resolve,p=u.reject,y=u.promise):y=new Promise((O,B)=>{h=O,p=B});const E=++this.navigationId;let I;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),I=r&&r.\u0275routerPageId?r.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):I=0,this.setTransition({id:E,targetPageId:I,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:h,reject:p,promise:y,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),y.catch(O=>Promise.reject(O))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t),s={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",s):this.location.go(r,"",s)}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===r?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===r&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,i,r){const s=new bc(t.id,this.serializeUrl(t.extractedUrl),i,r);this.triggerEvent(s),t.resolve(!1)}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:function(){return OC()},providedIn:"root"}),n})();function iv(n){return"imperative"!==n}let td=(()=>{class n{constructor(t,i,r){this.router=t,this.route=i,this.locationStrategy=r,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new Ot.x,this.subscription=t.events.subscribe(s=>{s instanceof Go&&this.updateTargetUrlAndHref()})}set preserveFragment(t){this._preserveFragment=(0,l.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,l.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,l.D6c)(t)}get replaceUrl(){return this._replaceUrl}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,i,r,s,u){return!!(0!==t||i||r||s||u||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Un),l.Y36(qo),l.Y36(Ee))},n.\u0275dir=l.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,i){1&t&&l.NdJ("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&l.uIk("target",i.target)("href",i.href,l.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[l.TTD]}),n})();class sv{}let nM=(()=>{class n{constructor(t,i,r,s,u){this.router=t,this.injector=r,this.preloadingStrategy=s,this.loader=u}setUpPreloading(){this.subscription=this.router.events.pipe(Ui(t=>t instanceof Go),Ks(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=(0,l.MMx)(s.providers,t,`Route: ${s.path}`));const u=s._injector??t,h=s._loadedInjector??u;s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent?r.push(this.preloadConfig(u,s)):(s.children||s._loadedRoutes)&&r.push(this.processRoutes(h,s.children??s._loadedRoutes))}return(0,Ln.D)(r).pipe((0,dc.J)())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):bt(null);const s=r.pipe((0,Hi.z)(u=>null===u?bt(void 0):(i._loadedRoutes=u.routes,i._loadedInjector=u.injector,this.processRoutes(u.injector??t,u.routes))));if(i.loadComponent&&!i._loadedComponent){const u=this.loader.loadComponent(i);return(0,Ln.D)([s,u]).pipe((0,dc.J)())}return s})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Un),l.LFG(l.Sil),l.LFG(l.lqb),l.LFG(sv),l.LFG(AC))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const mn=new l.OlP("");let ov=(()=>{class n{constructor(t,i,r={}){this.router=t,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Dm?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Go&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Tm&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.router.triggerEvent(new Tm(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function nd(n,e){return{\u0275kind:n,\u0275providers:e}}function Fm(n){return[{provide:MC,multi:!0,useValue:n}]}function av(){const n=(0,l.f3M)(l.zs3);return e=>{const t=n.get(l.z2F);if(e!==t.components[0])return;const i=n.get(Un),r=n.get(NC);1===n.get(lv)&&i.initialNavigation(),n.get(gl,null,l.XFs.Optional)?.setUpPreloading(),n.get(mn,null,l.XFs.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.unsubscribe())}}const NC=new l.OlP("",{factory:()=>new Ot.x}),lv=new l.OlP("",{providedIn:"root",factory:()=>1});const gl=new l.OlP("");function rM(n){return nd(0,[{provide:gl,useExisting:nM},{provide:sv,useExisting:n}])}const sM=new l.OlP("ROUTER_FORROOT_GUARD"),Y1=[Ie,{provide:fc,useClass:Uh},{provide:Un,useFactory:OC},qh,{provide:qo,useFactory:function PC(n){return n.routerState.root},deps:[Un]},AC];function K1(){return new l.PXZ("Router",Un)}let BC=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[Y1,[],Fm(t),{provide:sM,useFactory:rd,deps:[[Un,new l.FiY,new l.tp0]]},{provide:Nm,useValue:i||{}},i?.useHash?{provide:Ee,useClass:gt}:{provide:Ee,useClass:St},{provide:mn,useFactory:()=>{const n=(0,l.f3M)(Un),e=(0,l.f3M)(_a),t=(0,l.f3M)(Nm);return t.scrollOffset&&e.setOffset(t.scrollOffset),new ov(n,e,t)}},i?.preloadingStrategy?rM(i.preloadingStrategy).\u0275providers:[],{provide:l.PXZ,multi:!0,useFactory:K1},i?.initialNavigation?aM(i):[],[{provide:cv,useFactory:av},{provide:l.tb,multi:!0,useExisting:cv}]]}}static forChild(t){return{ngModule:n,providers:[Fm(t)]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(sM,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[yo]}),n})();function rd(n){return"guarded"}function aM(n){return["disabled"===n.initialNavigation?nd(3,[{provide:l.ip1,multi:!0,useFactory:()=>{const e=(0,l.f3M)(Un);return()=>{e.setUpLocationChangeListener()}}},{provide:lv,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?nd(2,[{provide:lv,useValue:0},{provide:l.ip1,multi:!0,deps:[l.zs3],useFactory:e=>{const t=e.get(Z,Promise.resolve());let i=!1;return()=>t.then(()=>new Promise(s=>{const u=e.get(Un),h=e.get(NC);(function r(s){e.get(Un).events.pipe(Ui(h=>h instanceof Go||h instanceof bc||h instanceof xy),(0,Et.U)(h=>h instanceof Go||h instanceof bc&&(0===h.code||1===h.code)&&null),Ui(h=>null!==h),wr(1)).subscribe(()=>{s()})})(()=>{s(!0),i=!0}),u.afterPreactivation=()=>(s(!0),i||h.closed?bt(void 0):h),u.initialNavigation()}))}}]).\u0275providers:[]]}const cv=new l.OlP("");var be=P(5861);let zC=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n}),n})(),Mc=(()=>{class n extends zC{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})();const Wo=new l.OlP("NgValueAccessor"),cM={provide:Wo,useExisting:(0,l.Gpc)(()=>Oa),multi:!0},$C=new l.OlP("CompositionEventMode");let Oa=(()=>{class n extends zC{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function jC(){const n=N()?N().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36($C,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&l.NdJ("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[l._Bn([cM]),l.qOj]}),n})();function Zo(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function GC(n){return null!=n&&"number"==typeof n.length}const ts=new l.OlP("NgValidators"),Fs=new l.OlP("NgAsyncValidators"),qC=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Pa{static min(e){return function lf(n){return e=>{if(Zo(e.value)||Zo(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function Xs(n){return e=>{if(Zo(e.value)||Zo(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return dv(e)}static requiredTrue(e){return function WC(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function Vm(n){return Zo(n.value)||qC.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function Yo(n){return e=>Zo(e.value)||!GC(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function Bm(n){return e=>GC(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function hv(n){if(!n)return sd;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(Zo(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return zm(e)}static composeAsync(e){return hM(e)}}function dv(n){return Zo(n.value)?{required:!0}:null}function sd(n){return null}function uM(n){return null!=n}function fv(n){return(0,l.QGY)(n)?(0,Ln.D)(n):n}function dM(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function cf(n,e){return e.map(t=>t(n))}function Hm(n){return n.map(e=>function Um(n){return!n.validate}(e)?e:t=>e.validate(t))}function zm(n){if(!n)return null;const e=n.filter(uM);return 0==e.length?null:function(t){return dM(cf(t,e))}}function uf(n){return null!=n?zm(Hm(n)):null}function hM(n){if(!n)return null;const e=n.filter(uM);return 0==e.length?null:function(t){return function HC(...n){const e=(0,As.jO)(n),{args:t,keys:i}=Vu(n),r=new Vi.y(s=>{const{length:u}=t;if(!u)return void s.complete();const h=new Array(u);let p=u,y=u;for(let E=0;E<u;E++){let I=!1;(0,Jr.Xf)(t[E]).subscribe((0,xi.x)(s,O=>{I||(I=!0,y--),h[E]=O},()=>p--,void 0,()=>{(!p||!I)&&(y||s.next(i?ll(i,h):h),s.complete())}))}});return e?r.pipe(Mh(e)):r}(cf(t,e).map(fv)).pipe((0,Et.U)(dM))}}function pv(n){return null!=n?hM(Hm(n)):null}function ZC(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function YC(n){return n._rawValidators}function KC(n){return n._rawAsyncValidators}function jm(n){return n?Array.isArray(n)?n:[n]:[]}function mv(n,e){return Array.isArray(n)?n.includes(e):n===e}function QC(n,e){const t=jm(e);return jm(n).forEach(r=>{mv(t,r)||t.push(r)}),t}function fM(n,e){return jm(e).filter(t=>!mv(n,t))}class gv{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=uf(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=pv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Gr extends gv{get formDirective(){return null}get path(){return null}}class bo extends gv{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class $m{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Gm=(()=>{class n extends $m{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(bo,2))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&l.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[l.qOj]}),n})(),qm=(()=>{class n extends $m{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Gr,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,i){2&t&&l.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[l.qOj]}),n})();const od="VALID",Wm="INVALID",ad="PENDING",yl="DISABLED";function vl(n){return(xc(n)?n.validators:n)||null}function Zm(n){return Array.isArray(n)?uf(n):n||null}function bl(n,e){return(xc(e)?e.asyncValidators:n)||null}function Ym(n){return Array.isArray(n)?pv(n):n||null}function xc(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function bv(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new l.vHH(1e3,"");if(!i[t])throw new l.vHH(1001,"")}function wv(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new l.vHH(1002,"")})}class ld{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=Zm(this._rawValidators),this._composedAsyncValidatorFn=Ym(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===od}get invalid(){return this.status===Wm}get pending(){return this.status==ad}get disabled(){return this.status===yl}get enabled(){return this.status!==yl}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=Zm(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Ym(e)}addValidators(e){this.setValidators(QC(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(QC(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(fM(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(fM(e,this._rawAsyncValidators))}hasValidator(e){return mv(this._rawValidators,e)}hasAsyncValidator(e){return mv(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ad,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=yl,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=od,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===od||this.status===ad)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?yl:od}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ad,this._hasOwnPendingAsyncValidator=!0;const t=fv(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?yl:this.errors?Wm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ad)?ad:this._anyControlsHaveStatus(Wm)?Wm:od}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){xc(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class Ko extends ld{constructor(e,t,i){super(vl(t),bl(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){wv(this,0,e),Object.keys(e).forEach(i=>{bv(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,s)=>{i=t(i,r,s)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class sE extends Ko{}function cd(n,e){Cv(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function aE(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&vM(n,e)})}(n,e),function bM(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function yM(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&vM(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function oE(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Qm(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),qr(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function df(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Cv(n,e){const t=YC(n);null!==e.validator?n.setValidators(ZC(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=KC(n);null!==e.asyncValidator?n.setAsyncValidators(ZC(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();df(e._rawValidators,r),df(e._rawAsyncValidators,r)}function qr(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=YC(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(u=>u!==e.validator);s.length!==r.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const r=KC(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(u=>u!==e.asyncValidator);s.length!==r.length&&(t=!0,n.setAsyncValidators(s))}}}const i=()=>{};return df(e._rawValidators,i),df(e._rawAsyncValidators,i),t}function vM(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Xm(n,e){Cv(n,e)}function dE(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}const DM={provide:Gr,useExisting:(0,l.Gpc)(()=>wl)},ms=(()=>Promise.resolve())();let wl=(()=>{class n extends Gr{constructor(t,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new l.vpe,this.form=new Ko({},uf(t),pv(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){ms.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),cd(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){ms.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){ms.then(()=>{const i=this._findContainer(t.path),r=new Ko({});Xm(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){ms.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){ms.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,dE(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(ts,10),l.Y36(Fs,10))},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,i){1&t&&l.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([DM]),l.qOj]}),n})();function fE(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function pE(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const gs=class extends ld{constructor(e=null,t,i){super(vl(t),bl(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),xc(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=pE(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){fE(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){fE(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){pE(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let ig=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),rg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const Tv=new l.OlP("NgModelWithFormControlWarning"),AM={provide:Gr,useExisting:(0,l.Gpc)(()=>Qo)};let Qo=(()=>{class n extends Gr{constructor(t,i){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.vpe,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(qr(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return cd(i,t),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){Qm(t.control||null,t,!1),function hE(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,dE(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(Qm(i||null,t),(n=>n instanceof gs)(r)&&(cd(r,t),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);Xm(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function lE(n,e){return qr(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Cv(this.form,this),this._oldForm&&qr(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(ts,10),l.Y36(Fs,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,i){1&t&&l.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([AM]),l.qOj,l.TTD]}),n})();const kM={provide:bo,useExisting:(0,l.Gpc)(()=>dd)};let dd=(()=>{class n extends bo{constructor(t,i,r,s,u){super(),this._ngModelWarningConfig=u,this._added=!1,this.update=new l.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function Dv(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(s=>{s.constructor===Oa?t=s:function uE(n){return Object.getPrototypeOf(n.constructor)===Mc}(s)?i=s:r=s}),r||i||t||null}(0,s)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function Ev(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function Km(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(l.Y36(Gr,13),l.Y36(ts,10),l.Y36(Fs,10),l.Y36(Wo,10),l.Y36(Tv,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[l._Bn([kM]),l.qOj,l.TTD]}),n})(),hd=(()=>{class n{constructor(){this._validator=sd}ngOnChanges(t){if(this.inputName in t){const i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):sd,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,features:[l.TTD]}),n})();const LM={provide:ts,useExisting:(0,l.Gpc)(()=>Jo),multi:!0};let Jo=(()=>{class n extends hd{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=l.D6c,this.createValidator=t=>dv}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,i){2&t&&l.uIk("required",i._enabled?"":null)},inputs:{required:"required"},features:[l._Bn([LM]),l.qOj]}),n})(),Pc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[rg]}),n})(),md=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Pc]}),n})(),lg=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Tv,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Pc]}),n})();class Fv extends ld{constructor(e,t,i){super(vl(t),bl(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),t&&(this.controls.splice(r,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){wv(this,0,e),e.forEach((i,r)=>{bv(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,i)=>!!i._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function Lv(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let wE=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,i=null){const r=this._reduceControls(t);let s={};return Lv(i)?s=i:null!==i&&(s.validators=i.validator,s.asyncValidators=i.asyncValidator),new Ko(r,s)}record(t,i=null){const r=this._reduceControls(t);return new sE(r,i)}control(t,i,r){let s={};return this.useNonNullable?(Lv(i)?s=i:(s.validators=i,s.asyncValidators=r),new gs(t,{...s,nonNullable:!0})):new gs(t,i,r)}array(t,i,r){const s=t.map(u=>this._createControl(u));return new Fv(s,i,r)}_reduceControls(t){const i={};return Object.keys(t).forEach(r=>{i[r]=this._createControl(t[r])}),i}_createControl(t){return t instanceof gs||t instanceof ld?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:lg}),n})(),Vv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(wE).nonNullable},providedIn:lg}),n})();var Pt=P(2432),wo=P(259);class ea{constructor(e){return e}}class gd{constructor(){return(0,wo.C6)()}}const bf=new l.OlP("angularfire2._apps"),jM={provide:ea,useFactory:function Bv(n){return n&&1===n.length?n[0]:new ea((0,wo.Mq)())},deps:[[new l.FiY,bf]]},cg={provide:gd,deps:[[new l.FiY,bf]]};function ug(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new ea(i)}}let Uv=(()=>{class n{constructor(t){(0,wo.KN)("angularfire",Pt.q4.full,"core"),(0,wo.KN)("angularfire",Pt.q4.full,"app"),(0,wo.KN)("angular",l.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.Lbi))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[jM,cg]}),n})();function $M(n,...e){return{ngModule:Uv,providers:[{provide:bf,useFactory:ug(n),multi:!0,deps:[l.R0b,l.zs3,Pt.HU,...e]}]}}const EE=(0,Pt.u3)(wo.ZF,!0);var ji=P(6881),Nc=P(4859),vn=P(2090),Fa=P(1877);const dg=new Map,jv={activated:!1,tokenObservers:[]},IE={initialized:!1,enabled:!1};function $i(n){return dg.get(n)||Object.assign({},jv)}function wf(){return IE}class xE{constructor(e,t,i,r,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,be.Z)(function*(){t.stop();try{t.pending=new vn.BH,yield function kE(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new vn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Er=new vn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Wv(n){if(!$i(n).activated)throw Er.create("use-before-activation",{appName:n.name})}function hg(n,e){return nr.apply(this,arguments)}function nr(){return(nr=(0,be.Z)(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},r=t.getImmediate({optional:!0});if(r){const I=yield r.getHeartbeatsHeader();I&&(i["X-Firebase-Client"]=I)}const s={method:"POST",body:JSON.stringify(e),headers:i};let u,h;try{u=yield fetch(n,s)}catch(I){throw Er.create("fetch-network-error",{originalErrorMessage:I?.message})}if(200!==u.status)throw Er.create("fetch-status-error",{httpStatus:u.status});try{h=yield u.json()}catch(I){throw Er.create("fetch-parse-error",{originalErrorMessage:I?.message})}const p=h.ttl.match(/^([\d.]+)(s)$/);if(!p||!p[2]||isNaN(Number(p[1])))throw Er.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${h.ttl}`});const y=1e3*Number(p[1]),E=Date.now();return{token:h.token,expireTimeMillis:E+y,issuedAtTimeMillis:E}})).apply(this,arguments)}function PE(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:e}}}const _d="firebase-app-check-store";let La=null;function FE(){return La||(La=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var r;e(Er.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(_d,{keyPath:"compositeKey"})}}catch(t){e(Er.create("storage-open",{originalErrorMessage:t?.message}))}}),La)}function Df(){return(Df=(0,be.Z)(function*(n,e){const i=(yield FE()).transaction(_d,"readwrite"),s=i.objectStore(_d).put({compositeKey:n,value:e});return new Promise((u,h)=>{s.onsuccess=p=>{u()},i.onerror=p=>{var y;h(Er.create("storage-set",{originalErrorMessage:null===(y=p.target.error)||void 0===y?void 0:y.message}))}})})).apply(this,arguments)}const yd=new Fa.Yd("@firebase/app-check");function Vs(n,e){return(0,vn.hl)()?function LE(n,e){return function QM(n,e){return Df.apply(this,arguments)}(function BE(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{yd.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Kv(){return wf().enabled}function Qv(){return Xv.apply(this,arguments)}function Xv(){return(Xv=(0,be.Z)(function*(){const n=wf();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Jv={error:"UNKNOWN_ERROR"};function If(n){return vn.US.encodeString(JSON.stringify(n),!1)}function mg(n){return gg.apply(this,arguments)}function gg(){return(gg=(0,be.Z)(function*(n,e=!1){const t=n.app;Wv(t);const i=$i(t);let s,r=i.token;if(r&&!El(r)&&(i.token=void 0,r=void 0),!r){const p=yield i.cachedTokenPromise;p&&(El(p)?r=p:yield Vs(t,void 0))}if(!e&&r&&El(r))return{token:r.token};let h,u=!1;if(Kv()){i.exchangeTokenPromise||(i.exchangeTokenPromise=hg(PE(t,yield Qv()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),u=!0);const p=yield i.exchangeTokenPromise;return yield Vs(t,p),i.token=p,{token:p.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),u=!0),r=yield $i(t).exchangeTokenPromise}catch(p){"appCheck/throttled"===p.code?yd.warn(p.message):yd.error(p),s=p}return r?s?h=El(r)?{token:r.token,internalError:s}:Tf(s):(h={token:r.token},i.token=r,yield Vs(t,r)):h=Tf(s),u&&eb(t,h),h})).apply(this,arguments)}function vd(n,e){const t=$i(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function HE(n){const{app:e}=n,t=$i(e);let i=t.tokenRefresher;i||(i=function zE(n){const{app:e}=n;return new xE((0,be.Z)(function*(){let i;if(i=$i(e).token?yield mg(n,!0):yield mg(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const t=$i(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function eb(n,e){const t=$i(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}function El(n){return n.expireTimeMillis-Date.now()>0}function Tf(n){return{token:If(Jv),error:n}}class jE{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=$i(this.app);for(const t of e)vd(this.app,t.next);return Promise.resolve()}}const ib="app-check-internal";!function oD(){(0,ji._registerComponent)(new Nc.wA("app-check",n=>function $E(n,e){return new jE(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(ib).initialize()})),(0,ji._registerComponent)(new Nc.wA(ib,n=>function GE(n){return{getToken:e=>mg(n,e),addTokenListener:e=>function yg(n,e,t,i){const{app:r}=n,s=$i(r);if(s.tokenObservers=[...s.tokenObservers,{next:t,error:i,type:e}],s.token&&El(s.token)){const h=s.token;Promise.resolve().then(()=>{t({token:h.token}),HE(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>HE(n))}(n,"INTERNAL",e),removeTokenListener:e=>vd(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ji.registerVersion)("@firebase/app-check","0.7.0")}();class Dl{constructor(){return(0,Pt.vb)("app-check")}}typeof window<"u"&&window;var sb=P(1389);function uA(n){return new Vi.y(function(e){return{unsubscribe:(0,sb.x)(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e))}})}class Lc{constructor(e){return e}}class mi{constructor(){return(0,Pt.vb)("auth")}}const wg=new l.OlP("angularfire2.auth-instances");function dA(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new Lc(i)}}const uD={provide:mi,deps:[[new l.FiY,wg]]},dD={provide:Lc,useFactory:function cD(n,e){const t=(0,Pt.JM)("auth",n,e);return t&&new Lc(t)},deps:[[new l.FiY,wg],ea]};let hD=(()=>{class n{constructor(){(0,wo.KN)("angularfire",Pt.q4.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[dD,uD]}),n})();function fD(n,...e){return{ngModule:hD,providers:[{provide:wg,useFactory:dA(n),multi:!0,deps:[l.R0b,l.zs3,Pt.HU,gd,[new l.FiY,Dl],...e]}]}}const hA=(0,Pt.u3)(uA,!0),Af=(0,Pt.u3)(sb.o,!0),pD=(0,Pt.u3)(sb.a9,!0);var wt,SA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Co={},xf=xf||{},_n=SA||self;function kf(){}function Tg(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Rf(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var lb="closure_uid_"+(1e9*Math.random()>>>0),AA=0;function xA(n,e,t){return n.call.apply(n.bind,arguments)}function kA(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function Wr(n,e,t){return(Wr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?xA:kA).apply(null,arguments)}function Of(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function mr(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(i,r,s){for(var u=Array(arguments.length-2),h=2;h<arguments.length;h++)u[h-2]=arguments[h];return e.prototype[r].apply(i,u)}}function Il(){this.s=this.s,this.o=this.o}Il.prototype.s=!1,Il.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),0)&&function MA(n){Object.prototype.hasOwnProperty.call(n,lb)&&n[lb]||(n[lb]=++AA)}(this)},Il.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const cb=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function ub(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function gD(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(Tg(i)){const r=n.length||0,s=i.length||0;n.length=r+s;for(let u=0;u<s;u++)n[r+u]=i[u]}else n.push(i)}}function Zr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Zr.prototype.h=function(){this.defaultPrevented=!0};var db=function(){if(!_n.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{_n.addEventListener("test",kf,e),_n.removeEventListener("test",kf,e)}catch{}return n}();function Cd(n){return/^[\s\xa0]*$/.test(n)}var hb=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Pf(n,e){return n<e?-1:n>e?1:0}function Sg(){var n=_n.navigator;return n&&(n=n.userAgent)?n:""}function na(n){return-1!=Sg().indexOf(n)}function Nf(n){return Nf[" "](n),n}function _D(n,e,t){return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}Nf[" "]=kf;var Ag,n,yD=na("Opera"),Eo=na("Trident")||na("MSIE"),fb=na("Edge"),pb=fb||Eo,OA=na("Gecko")&&!(-1!=Sg().toLowerCase().indexOf("webkit")&&!na("Edge"))&&!(na("Trident")||na("MSIE"))&&!na("Edge"),vD=-1!=Sg().toLowerCase().indexOf("webkit")&&!na("Edge");function Mg(){var n=_n.document;return n?n.documentMode:void 0}e:{var Ff="",mb=(n=Sg(),OA?/rv:([^\);]+)(\)|;)/.exec(n):fb?/Edge\/([\d\.]+)/.exec(n):Eo?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):vD?/WebKit\/(\S+)/.exec(n):yD?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(mb&&(Ff=mb?mb[1]:""),Eo){var xg=Mg();if(null!=xg&&xg>parseFloat(Ff)){Ag=String(xg);break e}}Ag=Ff}var gb={},wD=_n.document&&Eo&&(Mg()||parseInt(Ag,10))||void 0;function Lf(n,e){if(Zr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(OA){e:{try{Nf(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:PA[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Lf.$.h.call(this)}}mr(Lf,Zr);var PA={2:"touch",3:"pen",4:"mouse"};Lf.prototype.h=function(){Lf.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Vf="closure_listenable_"+(1e6*Math.random()|0),NA=0;function CD(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.la=r,this.key=++NA,this.fa=this.ia=!1}function yb(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function Rg(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function ED(n){const e={};for(const t in n)e[t]=n[t];return e}const DD="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function FA(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let s=0;s<DD.length;s++)t=DD[s],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function vb(n){this.src=n,this.g={},this.h=0}function bb(n,e){var t=e.type;if(t in n.g){var s,i=n.g[t],r=cb(i,e);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(yb(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function wb(n,e,t,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.fa&&s.listener==e&&s.capture==!!t&&s.la==i)return r}return-1}vb.prototype.add=function(n,e,t,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var u=wb(n,e,i,r);return-1<u?(e=n[u],t||(e.ia=!1)):((e=new CD(e,this.src,s,!!i,r)).ia=t,n.push(e)),e};var Og="closure_lm_"+(1e6*Math.random()|0),Cb={};function Eb(n,e,t,i,r){if(i&&i.once)return TD(n,e,t,i,r);if(Array.isArray(e)){for(var s=0;s<e.length;s++)Eb(n,e[s],t,i,r);return null}return t=Ng(t),n&&n[Vf]?n.O(e,t,Rf(i)?!!i.capture:!!i,r):ID(n,e,t,!1,i,r)}function ID(n,e,t,i,r,s){if(!e)throw Error("Invalid event type");var u=Rf(r)?!!r.capture:!!r,h=Vc(n);if(h||(n[Og]=h=new vb(n)),(t=h.add(e,t,i,u,s)).proxy)return t;if(i=function LA(){const e=VA;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)db||(r=u),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(MD(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function TD(n,e,t,i,r){if(Array.isArray(e)){for(var s=0;s<e.length;s++)TD(n,e[s],t,i,r);return null}return t=Ng(t),n&&n[Vf]?n.P(e,t,Rf(i)?!!i.capture:!!i,r):ID(n,e,t,!0,i,r)}function SD(n,e,t,i,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)SD(n,e[s],t,i,r);else i=Rf(i)?!!i.capture:!!i,t=Ng(t),n&&n[Vf]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=wb(s=n.g[e],t,i,r))&&(yb(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=Vc(n))&&(e=n.g[e.toString()],n=-1,e&&(n=wb(e,t,i,r)),(t=-1<n?e[n]:null)&&Db(t))}function Db(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Vf])bb(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(MD(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=Vc(e))?(bb(t,n),0==t.h&&(t.src=null,e[Og]=null)):yb(n)}}}function MD(n){return n in Cb?Cb[n]:Cb[n]="on"+n}function VA(n,e){if(n.fa)n=!0;else{e=new Lf(e,this);var t=n.listener,i=n.la||n.src;n.ia&&Db(n),n=t.call(i,e)}return n}function Vc(n){return(n=n[Og])instanceof vb?n:null}var Pg="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ng(n){return"function"==typeof n?n:(n[Pg]||(n[Pg]=function(e){return n.handleEvent(e)}),n[Pg])}function gr(){Il.call(this),this.i=new vb(this),this.S=this,this.J=null}function Dr(n,e){var t,i=n.J;if(i)for(t=[];i;i=i.J)t.push(i);if(n=n.S,i=e.type||e,"string"==typeof e)e=new Zr(e,n);else if(e instanceof Zr)e.target=e.target||n;else{var r=e;FA(e=new Zr(i,n),r)}if(r=!0,t)for(var s=t.length-1;0<=s;s--){var u=e.g=t[s];r=Bf(u,i,!0,e)&&r}if(r=Bf(u=e.g=n,i,!0,e)&&r,r=Bf(u,i,!1,e)&&r,t)for(s=0;s<t.length;s++)r=Bf(u=e.g=t[s],i,!1,e)&&r}function Bf(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var u=e[s];if(u&&!u.fa&&u.capture==t){var h=u.listener,p=u.la||u.src;u.ia&&bb(n.i,u),r=!1!==h.call(p,i)&&r}}return r&&!i.defaultPrevented}mr(gr,Il),gr.prototype[Vf]=!0,gr.prototype.removeEventListener=function(n,e,t,i){SD(this,n,e,t,i)},gr.prototype.N=function(){if(gr.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)yb(t[i]);delete n.g[e],n.h--}}this.J=null},gr.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},gr.prototype.P=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var Fg=_n.JSON.stringify;function BA(){var n=Lg;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Tb,Ib=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new UA,n=>n.reset());class UA{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function HA(n){_n.setTimeout(()=>{throw n},0)}function AD(n,e){Tb||function Uf(){var n=_n.Promise.resolve(void 0);Tb=function(){n.then(ia)}}(),Sb||(Tb(),Sb=!0),Lg.add(n,e)}var Sb=!1,Lg=new class zP{constructor(){this.h=this.g=null}add(e,t){const i=Ib.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}};function ia(){for(var n;n=BA();){try{n.h.call(n.g)}catch(t){HA(t)}var e=Ib;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Sb=!1}function Vg(n,e){gr.call(this),this.h=n||1,this.g=e||_n,this.j=Wr(this.qb,this),this.l=Date.now()}function Ed(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function Bc(n,e,t){if("function"==typeof n)t&&(n=Wr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Wr(n.handleEvent,n)}return 2147483647<Number(e)?-1:_n.setTimeout(n,e||0)}function xD(n){n.g=Bc(()=>{n.g=null,n.i&&(n.i=!1,xD(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}mr(Vg,gr),(wt=Vg.prototype).ga=!1,wt.T=null,wt.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Dr(this,"tick"),this.ga&&(Ed(this),this.start()))}},wt.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},wt.N=function(){Vg.$.N.call(this),Ed(this),delete this.g};class zA extends Il{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:xD(this)}N(){super.N(),this.g&&(_n.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Hf(n){Il.call(this),this.h=n,this.g={}}mr(Hf,Il);var zf=[];function jf(n,e,t,i){Array.isArray(t)||(t&&(zf[0]=t.toString()),t=zf);for(var r=0;r<t.length;r++){var s=Eb(e,t[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function kD(n){Rg(n.g,function(e,t){this.g.hasOwnProperty(t)&&Db(e)},n),n.g={}}function Bg(){this.g=!0}function Tl(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function jA(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var u=1;u<r.length;u++)r[u]=""}}}return Fg(t)}catch{return e}}(n,t)+(i?" "+i:"")})}Hf.prototype.N=function(){Hf.$.N.call(this),kD(this)},Hf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Bg.prototype.Ea=function(){this.g=!1},Bg.prototype.info=function(){};var Uc={},$A=null;function Dd(){return $A=$A||new gr}function Ug(n){Zr.call(this,Uc.Ta,n)}function Id(n){const e=Dd();Dr(e,new Ug(e))}function Hg(n,e){Zr.call(this,Uc.STAT_EVENT,n),this.stat=e}function Pr(n){const e=Dd();Dr(e,new Hg(e,n))}function ND(n,e){Zr.call(this,Uc.Ua,n),this.size=e}function $f(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return _n.setTimeout(function(){n()},e)}Uc.Ta="serverreachability",mr(Ug,Zr),Uc.STAT_EVENT="statevent",mr(Hg,Zr),Uc.Ua="timingevent",mr(ND,Zr);var zg={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},FD={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function jg(){}function Mb(){}jg.prototype.h=null;var Ab,Td={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Gg(){Zr.call(this,"d")}function qg(){Zr.call(this,"c")}function Gf(){}function Sd(n,e,t,i){this.l=n,this.j=e,this.m=t,this.W=i||1,this.U=new Hf(this),this.P=VD,this.V=new Vg(n=pb?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new LD}function LD(){this.i=null,this.g="",this.h=!1}mr(Gg,Zr),mr(qg,Zr),mr(Gf,jg),Gf.prototype.g=function(){return new XMLHttpRequest},Gf.prototype.i=function(){return{}},Ab=new Gf;var VD=45e3,Wg={},Ir={};function Sl(n,e,t){n.L=1,n.v=Zg(ra(e)),n.s=t,n.S=!0,BD(n,null)}function BD(n,e){n.G=Date.now(),Md(n),n.A=ra(n.v);var t=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),Fb(t.i,"t",i),n.C=0,t=n.l.I,n.h=new LD,n.g=s_(n.l,t?e:null,!n.s),0<n.O&&(n.M=new zA(Wr(n.Pa,n,n.g),n.O)),jf(n.U,n.g,"readystatechange",n.nb),e=n.I?ED(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Id(),function RD(n,e,t,i,r,s){n.info(function(){if(n.g)if(s)for(var u="",h=s.split("&"),p=0;p<h.length;p++){var y=h[p].split("=");if(1<y.length){var E=y[0];y=y[1];var I=E.split("_");u=2<=I.length&&"type"==I[1]?u+(E+"=")+y+"&":u+(E+"=redacted&")}}else u=null;else u=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+u})}(n.j,n.u,n.A,n.m,n.W,n.s)}function UD(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function GA(n,e,t){let r,i=!0;for(;!n.J&&n.C<t.length;){if(r=jP(n,t),r==Ir){4==e&&(n.o=4,Pr(14),i=!1),Tl(n.j,n.m,null,"[Incomplete Response]");break}if(r==Wg){n.o=4,Pr(15),Tl(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}Tl(n.j,n.m,r,null),kb(n,r)}UD(n)&&r!=Ir&&r!=Wg&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Pr(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.ca&&(n.ca=!0,(e=n.l).g==n&&e.ca&&!e.L&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),i_(e),e.L=!0,Pr(11))):(Tl(n.j,n.m,t,"[Invalid Chunked Response]"),Va(n),qf(n))}function jP(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?Ir:(t=Number(e.substring(t,i)),isNaN(t)?Wg:(i+=1)+t>e.length?Ir:(e=e.substr(i,t),n.C=i+t,e))}function Md(n){n.Y=Date.now()+n.P,xb(n,n.P)}function xb(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=$f(Wr(n.lb,n),e)}function Ml(n){n.B&&(_n.clearTimeout(n.B),n.B=null)}function qf(n){0==n.l.H||n.J||iI(n.l,n)}function Va(n){Ml(n);var e=n.M;e&&"function"==typeof e.ra&&e.ra(),n.M=null,Ed(n.V),kD(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.ra())}function kb(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||Yg(t.h,n)))if(!n.K&&Yg(t.h,n)&&3==t.H){try{var i=t.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;_s(t),qb(t)}n_(t),Pr(18)}}else t.Fa=r[1],0<t.Fa-t.V&&37500>r[2]&&t.M&&0==t.A&&!t.v&&(t.v=$f(Wr(t.ib,t),6e3));if(1>=ZD(t.h)&&t.na){try{t.na()}catch{}t.na=void 0}}else zc(t,11)}else if((n.K||t.g==n)&&_s(t),!Cd(e))for(r=t.Ja.g.parse(e),e=0;e<r.length;e++){let y=r[e];if(t.V=y[0],y=y[1],2==t.H)if("c"==y[0]){t.J=y[1],t.oa=y[2];const E=y[3];null!=E&&(t.qa=E,t.j.info("VER="+t.qa));const I=y[4];null!=I&&(t.Ga=I,t.j.info("SVER="+t.Ga));const O=y[5];null!=O&&"number"==typeof O&&0<O&&(t.K=i=1.5*O,t.j.info("backChannelRequestTimeoutMs_="+i)),i=t;const B=n.g;if(B){const $=B.g?B.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($){var s=i.h;s.g||-1==$.indexOf("spdy")&&-1==$.indexOf("quic")&&-1==$.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(Kg(s,s.h),s.h=null))}if(i.F){const ne=B.g?B.g.getResponseHeader("X-HTTP-Session-Id"):null;ne&&(i.Da=ne,gi(i.G,i.F,ne))}}t.H=3,t.l&&t.l.Ba(),t.ca&&(t.S=Date.now()-n.G,t.j.info("Handshake RTT: "+t.S+"ms"));var u=n;if((i=t).wa=rI(i,i.I?i.oa:null,i.Y),u.K){Vb(i.h,u);var h=u,p=i.K;p&&h.setTimeout(p),h.B&&(Ml(h),Md(h)),i.g=u}else nI(i);0<t.i.length&&Wb(t)}else"stop"!=y[0]&&"close"!=y[0]||zc(t,7);else 3==t.H&&("stop"==y[0]||"close"==y[0]?"stop"==y[0]?zc(t,7):Gb(t):"noop"!=y[0]&&t.l&&t.l.Aa(y),t.A=0)}Id()}catch{}}function zD(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Tg(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function qA(n){if(n.sa&&"function"==typeof n.sa)return n.sa();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Tg(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function HD(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Tg(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length,s=0;s<r;s++)e.call(void 0,i[s],t&&t[s],n)}(wt=Sd.prototype).setTimeout=function(n){this.P=n},wt.nb=function(n){n=n.target;const e=this.M;e&&3==oa(n)?e.l():this.Pa(n)},wt.Pa=function(n){try{if(n==this.g)e:{const E=oa(this.g);var e=this.g.Ia();if(this.g.da(),!(3>E)&&(3!=E||pb||this.g&&(this.h.h||this.g.ja()||tx(this.g)))){this.J||4!=E||7==e||Id(),Ml(this);var t=this.g.da();this.aa=t;t:if(UD(this)){var i=tx(this.g);n="";var r=i.length,s=4==oa(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Va(this),qf(this);var u="";break t}this.h.i=new _n.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:s&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.ja();if(this.i=200==t,function OD(n,e,t,i,r,s,u){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+s+" "+u})}(this.j,this.u,this.A,this.m,this.W,E,t),this.i){if(this.ba&&!this.K){t:{if(this.g){var h,p=this.g;if((h=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Cd(h)){var y=h;break t}}y=null}if(!(t=y)){this.i=!1,this.o=3,Pr(12),Va(this),qf(this);break e}Tl(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,kb(this,t)}this.S?(GA(this,E,u),pb&&this.i&&3==E&&(jf(this.U,this.V,"tick",this.mb),this.V.start())):(Tl(this.j,this.m,u,null),kb(this,u)),4==E&&Va(this),this.i&&!this.J&&(4==E?iI(this.l,this):(this.i=!1,Md(this)))}else 400==t&&0<u.indexOf("Unknown SID")?(this.o=3,Pr(12)):(this.o=0,Pr(13)),Va(this),qf(this)}}}catch{}},wt.mb=function(){if(this.g){var n=oa(this.g),e=this.g.ja();this.C<e.length&&(Ml(this),GA(this,n,e),this.i&&4!=n&&Md(this))}},wt.cancel=function(){this.J=!0,Va(this)},wt.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function PD(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Id(),Pr(17)),Va(this),this.o=2,qf(this)):xb(this,this.Y-n)};var jD=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Al(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Al){this.h=void 0!==e?e:n.h,Hc(this,n.j),this.s=n.s,this.g=n.g,Ad(this,n.m),this.l=n.l,e=n.i;var t=new Wf;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),WA(this,t),this.o=n.o}else n&&(t=String(n).match(jD))?(this.h=!!e,Hc(this,t[1]||"",!0),this.s=xd(t[2]||""),this.g=xd(t[3]||"",!0),Ad(this,t[4]),this.l=xd(t[5]||"",!0),WA(this,t[6]||"",!0),this.o=xd(t[7]||"")):(this.h=!!e,this.i=new Wf(null,this.h))}function ra(n){return new Al(n)}function Hc(n,e,t){n.j=t?xd(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Ad(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function WA(n,e,t){e instanceof Wf?(n.i=e,function GD(n,e){e&&!n.j&&(xl(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&($D(this,i),Fb(this,r,t))},n)),n.j=e}(n.i,n.h)):(t||(e=sa(e,YA)),n.i=new Wf(e,n.h))}function gi(n,e,t){n.i.set(e,t)}function Zg(n){return gi(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function xd(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function sa(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,ZA),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function ZA(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Al.prototype.toString=function(){var n=[],e=this.j;e&&n.push(sa(e,Ob,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(sa(e,Ob,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(sa(t,"/"==t.charAt(0)?$P:Pb,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",sa(t,GP)),n.join("")};var Ob=/[#\/\?@]/g,Pb=/[#\?:]/g,$P=/[#\?]/g,YA=/[#\?@]/g,GP=/#/g;function Wf(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function xl(n){n.g||(n.g=new Map,n.h=0,n.i&&function Rb(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var s=n[t].substring(0,i);r=n[t].substring(i+1)}else s=n[t];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function $D(n,e){xl(n),e=kd(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function Nb(n,e){return xl(n),e=kd(n,e),n.g.has(e)}function Fb(n,e,t){$D(n,e),0<t.length&&(n.i=null,n.g.set(kd(n,e),ub(t)),n.h+=t.length)}function kd(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function WD(n){this.l=n||KA,n=_n.PerformanceNavigationTiming?0<(n=_n.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(_n.g&&_n.g.Ka&&_n.g.Ka()&&_n.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(wt=Wf.prototype).add=function(n,e){xl(this),this.i=null,n=kd(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},wt.forEach=function(n,e){xl(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)},wt.sa=function(){xl(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let s=0;s<r.length;s++)t.push(e[i])}return t},wt.Z=function(n){xl(this);let e=[];if("string"==typeof n)Nb(this,n)&&(e=e.concat(this.g.get(kd(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},wt.set=function(n,e){return xl(this),this.i=null,Nb(this,n=kd(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},wt.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},wt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const s=encodeURIComponent(String(i)),u=this.Z(i);for(i=0;i<u.length;i++){var r=s;""!==u[i]&&(r+="="+encodeURIComponent(String(u[i]))),n.push(r)}}return this.i=n.join("&")};var KA=10;function Lb(n){return!!n.h||!!n.g&&n.g.size>=n.j}function ZD(n){return n.h?1:n.g?n.g.size:0}function Yg(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Kg(n,e){n.g?n.g.add(e):n.h=e}function Vb(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Bb(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return ub(n.i)}function Ub(){}function QA(){this.g=new Ub}function qP(n,e,t){const i=t||"";try{zD(n,function(r,s){let u=r;Rf(r)&&(u=Fg(r)),e.push(i+s+"="+encodeURIComponent(u))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function Hb(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function Qg(n){this.l=n.fc||null,this.j=n.ob||!1}function zb(n,e){gr.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=KD,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}WD.prototype.cancel=function(){if(this.i=Bb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Ub.prototype.stringify=function(n){return _n.JSON.stringify(n,void 0)},Ub.prototype.parse=function(n){return _n.JSON.parse(n,void 0)},mr(Qg,jg),Qg.prototype.g=function(){return new zb(this.l,this.j)},Qg.prototype.i=function(n){return function(){return n}}({}),mr(zb,gr);var KD=0;function XA(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Xg(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Jg(n)}function Jg(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(wt=zb.prototype).open=function(n,e){if(this.readyState!=KD)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Jg(this)},wt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||_n).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},wt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Xg(this)),this.readyState=KD},wt.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Jg(this)),this.g&&(this.readyState=3,Jg(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof _n.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;XA(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},wt.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Xg(this):Jg(this),3==this.readyState&&XA(this)}},wt.Za=function(n){this.g&&(this.response=this.responseText=n,Xg(this))},wt.Ya=function(n){this.g&&(this.response=n,Xg(this))},wt.ka=function(){this.g&&Xg(this)},wt.setRequestHeader=function(n,e){this.v.append(n,e)},wt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},wt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(zb.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var WP=_n.JSON.parse;function _i(n){gr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=JA,this.L=this.M=!1}mr(_i,gr);var JA="",QD=/^https?$/i,e_=["POST","PUT"];function jb(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,ex(n),Zf(n)}function ex(n){n.F||(n.F=!0,Dr(n,"complete"),Dr(n,"error"))}function t_(n){if(n.h&&typeof xf<"u"&&(!n.C[1]||4!=oa(n)||2!=n.da()))if(n.v&&4==oa(n))Bc(n.La,0,n);else if(Dr(n,"readystatechange"),4==oa(n)){n.h=!1;try{const h=n.da();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===h){var r=String(n.I).match(jD)[1]||null;if(!r&&_n.self&&_n.self.location){var s=_n.self.location.protocol;r=s.substr(0,s.length-1)}i=!QD.test(r?r.toLowerCase():"")}t=i}if(t)Dr(n,"complete"),Dr(n,"success");else{n.m=6;try{var u=2<oa(n)?n.g.statusText:""}catch{u=""}n.j=u+" ["+n.da()+"]",ex(n)}}finally{Zf(n)}}}function Zf(n,e){if(n.g){JD(n);const t=n.g,i=n.C[0]?kf:null;n.g=null,n.C=null,e||Dr(n,"ready");try{t.onreadystatechange=i}catch{}}}function JD(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(_n.clearTimeout(n.A),n.A=null)}function oa(n){return n.g?n.g.readyState:0}function tx(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case JA:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function eI(n){let e="";return Rg(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function $b(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=eI(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):gi(n,e,t))}function Yf(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Kf(n){this.Ga=0,this.i=[],this.j=new Bg,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Yf("failFast",!1,n),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Yf("baseRetryDelayMs",5e3,n),this.hb=Yf("retryDelaySeedMs",1e4,n),this.eb=Yf("forwardChannelMaxRetries",2,n),this.xa=Yf("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.K=void 0,this.I=n&&n.supportsCrossDomainXhr||!1,this.J="",this.h=new WD(n&&n.concurrentRequestLimit),this.Ja=new QA,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.j.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}function Gb(n){if(nx(n),3==n.H){var e=n.W++,t=ra(n.G);gi(t,"SID",n.J),gi(t,"RID",e),gi(t,"TYPE","terminate"),Qf(n,t),(e=new Sd(n,n.j,e,void 0)).L=2,e.v=Zg(ra(t)),t=!1,_n.navigator&&_n.navigator.sendBeacon&&(t=_n.navigator.sendBeacon(e.v.toString(),"")),!t&&_n.Image&&((new Image).src=e.v,t=!0),t||(e.g=s_(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Md(e)}Bs(n)}function qb(n){n.g&&(i_(n),n.g.cancel(),n.g=null)}function nx(n){qb(n),n.u&&(_n.clearTimeout(n.u),n.u=null),_s(n),n.h.cancel(),n.m&&("number"==typeof n.m&&_n.clearTimeout(n.m),n.m=null)}function Wb(n){Lb(n.h)||n.m||(n.m=!0,AD(n.Na,n),n.C=0)}function tI(n,e){var t;t=e?e.m:n.W++;const i=ra(n.G);gi(i,"SID",n.J),gi(i,"RID",t),gi(i,"AID",n.V),Qf(n,i),n.o&&n.s&&$b(i,n.o,n.s),t=new Sd(n,n.j,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.i=e.F.concat(n.i)),e=rx(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),Kg(n.h,t),Sl(t,i,e)}function Qf(n,e){n.ma&&Rg(n.ma,function(t,i){gi(e,i,t)}),n.l&&zD({},function(t,i){gi(e,i,t)})}function rx(n,e,t){t=Math.min(n.i.length,t);var i=n.l?Wr(n.l.Va,n.l,n):null;e:{var r=n.i;let s=-1;for(;;){const u=["count="+t];-1==s?0<t?(s=r[0].h,u.push("ofs="+s)):s=0:u.push("ofs="+s);let h=!0;for(let p=0;p<t;p++){let y=r[p].h;const E=r[p].g;if(y-=s,0>y)s=Math.max(0,r[p].h-100),h=!1;else try{qP(E,u,"req"+y+"_")}catch{i&&i(E)}}if(h){i=u.join("&");break e}}}return n=n.i.splice(0,t),e.F=n,i}function nI(n){n.g||n.u||(n.ba=1,AD(n.Ma,n),n.A=0)}function n_(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=$f(Wr(n.Ma,n),r_(n,n.A)),n.A++,0))}function i_(n){null!=n.B&&(_n.clearTimeout(n.B),n.B=null)}function sx(n){n.g=new Sd(n,n.j,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=ra(n.wa);gi(e,"RID","rpc"),gi(e,"SID",n.J),gi(e,"CI",n.M?"0":"1"),gi(e,"AID",n.V),gi(e,"TYPE","xmlhttp"),Qf(n,e),n.o&&n.s&&$b(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.oa,t.L=1,t.v=Zg(ra(e)),t.s=null,t.S=!0,BD(t,n)}function _s(n){null!=n.v&&(_n.clearTimeout(n.v),n.v=null)}function iI(n,e){var t=null;if(n.g==e){_s(n),i_(n),n.g=null;var i=2}else{if(!Yg(n.h,e))return;t=e.F,Vb(n.h,e),i=1}if(0!=n.H)if(n.ta=e.aa,e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.G;var r=n.C;Dr(i=Dd(),new ND(i,t)),Wb(n)}else nI(n);else if(3==(r=e.o)||0==r&&0<n.ta||!(1==i&&function ix(n,e){return!(ZD(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.F.concat(n.i),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=$f(Wr(n.Na,n,e),r_(n,n.C)),n.C++,0)))}(n,e)||2==i&&n_(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),r){case 1:zc(n,5);break;case 4:zc(n,10);break;case 3:zc(n,6);break;default:zc(n,2)}}function r_(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.l||(t*=2),t*e}function zc(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var i=Wr(n.pb,n);t||(t=new Al("//www.google.com/images/cleardot.gif"),_n.location&&"http"==_n.location.protocol||Hc(t,"https"),Zg(t)),function YD(n,e){const t=new Bg;if(_n.Image){const i=new Image;i.onload=Of(Hb,t,i,"TestLoadImage: loaded",!0,e),i.onerror=Of(Hb,t,i,"TestLoadImage: error",!1,e),i.onabort=Of(Hb,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=Of(Hb,t,i,"TestLoadImage: timeout",!1,e),_n.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else Pr(2);n.H=0,n.l&&n.l.za(e),Bs(n),nx(n)}function Bs(n){if(n.H=0,n.pa=[],n.l){const e=Bb(n.h);(0!=e.length||0!=n.i.length)&&(gD(n.pa,e),gD(n.pa,n.i),n.h.i.length=0,ub(n.i),n.i.length=0),n.l.ya()}}function rI(n,e,t){var i=t instanceof Al?ra(t):new Al(t,void 0);if(""!=i.g)e&&(i.g=e+"."+i.g),Ad(i,i.m);else{var r=_n.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var s=new Al(null,void 0);i&&Hc(s,i),e&&(s.g=e),r&&Ad(s,r),t&&(s.l=t),i=s}return e=n.Da,(t=n.F)&&e&&gi(i,t,e),gi(i,"VER",n.qa),Qf(n,i),i}function s_(n,e,t){if(e&&!n.I)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new _i(t&&n.Ha&&!n.va?new Qg({ob:!0}):n.va)).Oa(n.I),e}function sI(){}function o_(){if(Eo&&!(10<=Number(wD)))throw Error("Environmental error: no available transport.")}function ns(n,e){gr.call(this),this.g=new Kf(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Cd(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Cd(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Rd(this)}function Zb(n){Gg.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Yb(){qg.call(this),this.status=1}function Rd(n){this.g=n}function to(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Kb(n,e,t){t||(t=0);var i=Array(16);if("string"==typeof e)for(var r=0;16>r;++r)i[r]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(r=0;16>r;++r)i[r]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var s=n.g[3],u=(e=n.g[0])+(s^(t=n.g[1])&((r=n.g[2])^s))+i[0]+3614090360&4294967295;u=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=t+(u<<7&4294967295|u>>>25))+((u=s+(r^e&(t^r))+i[1]+3905402710&4294967295)<<12&4294967295|u>>>20))+((u=r+(t^s&(e^t))+i[2]+606105819&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^r&(s^e))+i[3]+3250441966&4294967295)<<22&4294967295|u>>>10))+((u=e+(s^t&(r^s))+i[4]+4118548399&4294967295)<<7&4294967295|u>>>25))+((u=s+(r^e&(t^r))+i[5]+1200080426&4294967295)<<12&4294967295|u>>>20))+((u=r+(t^s&(e^t))+i[6]+2821735955&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^r&(s^e))+i[7]+4249261313&4294967295)<<22&4294967295|u>>>10))+((u=e+(s^t&(r^s))+i[8]+1770035416&4294967295)<<7&4294967295|u>>>25))+((u=s+(r^e&(t^r))+i[9]+2336552879&4294967295)<<12&4294967295|u>>>20))+((u=r+(t^s&(e^t))+i[10]+4294925233&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^r&(s^e))+i[11]+2304563134&4294967295)<<22&4294967295|u>>>10))+((u=e+(s^t&(r^s))+i[12]+1804603682&4294967295)<<7&4294967295|u>>>25))+((u=s+(r^e&(t^r))+i[13]+4254626195&4294967295)<<12&4294967295|u>>>20))+((u=r+(t^s&(e^t))+i[14]+2792965006&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^r&(s^e))+i[15]+1236535329&4294967295)<<22&4294967295|u>>>10))+((u=e+(r^s&(t^r))+i[1]+4129170786&4294967295)<<5&4294967295|u>>>27))+((u=s+(t^r&(e^t))+i[6]+3225465664&4294967295)<<9&4294967295|u>>>23))+((u=r+(e^t&(s^e))+i[11]+643717713&4294967295)<<14&4294967295|u>>>18))+((u=t+(s^e&(r^s))+i[0]+3921069994&4294967295)<<20&4294967295|u>>>12))+((u=e+(r^s&(t^r))+i[5]+3593408605&4294967295)<<5&4294967295|u>>>27))+((u=s+(t^r&(e^t))+i[10]+38016083&4294967295)<<9&4294967295|u>>>23))+((u=r+(e^t&(s^e))+i[15]+3634488961&4294967295)<<14&4294967295|u>>>18))+((u=t+(s^e&(r^s))+i[4]+3889429448&4294967295)<<20&4294967295|u>>>12))+((u=e+(r^s&(t^r))+i[9]+568446438&4294967295)<<5&4294967295|u>>>27))+((u=s+(t^r&(e^t))+i[14]+3275163606&4294967295)<<9&4294967295|u>>>23))+((u=r+(e^t&(s^e))+i[3]+4107603335&4294967295)<<14&4294967295|u>>>18))+((u=t+(s^e&(r^s))+i[8]+1163531501&4294967295)<<20&4294967295|u>>>12))+((u=e+(r^s&(t^r))+i[13]+2850285829&4294967295)<<5&4294967295|u>>>27))+((u=s+(t^r&(e^t))+i[2]+4243563512&4294967295)<<9&4294967295|u>>>23))+((u=r+(e^t&(s^e))+i[7]+1735328473&4294967295)<<14&4294967295|u>>>18))+((u=t+(s^e&(r^s))+i[12]+2368359562&4294967295)<<20&4294967295|u>>>12))+((u=e+(t^r^s)+i[5]+4294588738&4294967295)<<4&4294967295|u>>>28))+((u=s+(e^t^r)+i[8]+2272392833&4294967295)<<11&4294967295|u>>>21))+((u=r+(s^e^t)+i[11]+1839030562&4294967295)<<16&4294967295|u>>>16))+((u=t+(r^s^e)+i[14]+4259657740&4294967295)<<23&4294967295|u>>>9))+((u=e+(t^r^s)+i[1]+2763975236&4294967295)<<4&4294967295|u>>>28))+((u=s+(e^t^r)+i[4]+1272893353&4294967295)<<11&4294967295|u>>>21))+((u=r+(s^e^t)+i[7]+4139469664&4294967295)<<16&4294967295|u>>>16))+((u=t+(r^s^e)+i[10]+3200236656&4294967295)<<23&4294967295|u>>>9))+((u=e+(t^r^s)+i[13]+681279174&4294967295)<<4&4294967295|u>>>28))+((u=s+(e^t^r)+i[0]+3936430074&4294967295)<<11&4294967295|u>>>21))+((u=r+(s^e^t)+i[3]+3572445317&4294967295)<<16&4294967295|u>>>16))+((u=t+(r^s^e)+i[6]+76029189&4294967295)<<23&4294967295|u>>>9))+((u=e+(t^r^s)+i[9]+3654602809&4294967295)<<4&4294967295|u>>>28))+((u=s+(e^t^r)+i[12]+3873151461&4294967295)<<11&4294967295|u>>>21))+((u=r+(s^e^t)+i[15]+530742520&4294967295)<<16&4294967295|u>>>16))+((u=t+(r^s^e)+i[2]+3299628645&4294967295)<<23&4294967295|u>>>9))+((u=e+(r^(t|~s))+i[0]+4096336452&4294967295)<<6&4294967295|u>>>26))+((u=s+(t^(e|~r))+i[7]+1126891415&4294967295)<<10&4294967295|u>>>22))+((u=r+(e^(s|~t))+i[14]+2878612391&4294967295)<<15&4294967295|u>>>17))+((u=t+(s^(r|~e))+i[5]+4237533241&4294967295)<<21&4294967295|u>>>11))+((u=e+(r^(t|~s))+i[12]+1700485571&4294967295)<<6&4294967295|u>>>26))+((u=s+(t^(e|~r))+i[3]+2399980690&4294967295)<<10&4294967295|u>>>22))+((u=r+(e^(s|~t))+i[10]+4293915773&4294967295)<<15&4294967295|u>>>17))+((u=t+(s^(r|~e))+i[1]+2240044497&4294967295)<<21&4294967295|u>>>11))+((u=e+(r^(t|~s))+i[8]+1873313359&4294967295)<<6&4294967295|u>>>26))+((u=s+(t^(e|~r))+i[15]+4264355552&4294967295)<<10&4294967295|u>>>22))+((u=r+(e^(s|~t))+i[6]+2734768916&4294967295)<<15&4294967295|u>>>17))+((u=t+(s^(r|~e))+i[13]+1309151649&4294967295)<<21&4294967295|u>>>11))+((s=(e=t+((u=e+(r^(t|~s))+i[4]+4149444226&4294967295)<<6&4294967295|u>>>26))+((u=s+(t^(e|~r))+i[11]+3174756917&4294967295)<<10&4294967295|u>>>22))^((r=s+((u=r+(e^(s|~t))+i[2]+718787259&4294967295)<<15&4294967295|u>>>17))|~e))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(r+(u<<21&4294967295|u>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+s&4294967295}function Kn(n,e){this.h=e;for(var t=[],i=!0,r=n.length-1;0<=r;r--){var s=0|n[r];i&&s==e||(t[r]=s,i=!1)}this.g=t}(wt=_i.prototype).Oa=function(n){this.M=n},wt.ha=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Ab.g(),this.C=function $g(n){return n.h||(n.h=n.i())}(this.u?this.u:Ab),this.g.onreadystatechange=Wr(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(s){return void jb(this,s)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const s of i.keys())t.set(s,i.get(s))}i=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),r=_n.FormData&&n instanceof _n.FormData,!(0<=cb(e_,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,u]of t)this.g.setRequestHeader(s,u);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{JD(this),0<this.B&&((this.L=function XD(n){return Eo&&function bD(){return _D(gb,9,function(){let n=0;const e=hb(String(Ag)).split("."),t=hb("9").split("."),i=Math.max(e.length,t.length);for(let u=0;0==n&&u<i;u++){var r=e[u]||"",s=t[u]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==r[0].length&&0==s[0].length)break;n=Pf(0==r[1].length?0:parseInt(r[1],10),0==s[1].length?0:parseInt(s[1],10))||Pf(0==r[2].length,0==s[2].length)||Pf(r[2],s[2]),r=r[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Wr(this.ua,this)):this.A=Bc(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){jb(this,s)}},wt.ua=function(){typeof xf<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Dr(this,"timeout"),this.abort(8))},wt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Dr(this,"complete"),Dr(this,"abort"),Zf(this))},wt.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Zf(this,!0)),_i.$.N.call(this)},wt.La=function(){this.s||(this.G||this.v||this.l?t_(this):this.kb())},wt.kb=function(){t_(this)},wt.da=function(){try{return 2<oa(this)?this.g.status:-1}catch{return-1}},wt.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},wt.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),WP(e)}},wt.Ia=function(){return this.m},wt.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(wt=Kf.prototype).qa=8,wt.H=1,wt.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new Sd(this,this.j,n,void 0);let s=this.s;if(this.U&&(s?(s=ED(s),FA(s,this.U)):s=this.U),null!==this.o||this.O||(r.I=s,s=null),this.P)e:{for(var e=0,t=0;t<this.i.length;t++){var i=this.i[t];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=rx(this,r,e),gi(t=ra(this.G),"RID",n),gi(t,"CVER",22),this.F&&gi(t,"X-HTTP-Session-Id",this.F),Qf(this,t),s&&(this.O?e="headers="+encodeURIComponent(String(eI(s)))+"&"+e:this.o&&$b(t,this.o,s)),Kg(this.h,r),this.bb&&gi(t,"TYPE","init"),this.P?(gi(t,"$req",e),gi(t,"SID","null"),r.ba=!0,Sl(r,t,null)):Sl(r,t,e),this.H=2}}else 3==this.H&&(n?tI(this,n):0==this.i.length||Lb(this.h)||tI(this))},wt.Ma=function(){if(this.u=null,sx(this),this.ca&&!(this.L||null==this.g||0>=this.S)){var n=2*this.S;this.j.info("BP detection timer enabled: "+n),this.B=$f(Wr(this.jb,this),n)}},wt.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,Pr(10),qb(this),sx(this))},wt.ib=function(){null!=this.v&&(this.v=null,qb(this),n_(this),Pr(19))},wt.pb=function(n){n?(this.j.info("Successfully pinged google.com"),Pr(2)):(this.j.info("Failed to ping google.com"),Pr(1))},(wt=sI.prototype).Ba=function(){},wt.Aa=function(){},wt.za=function(){},wt.ya=function(){},wt.Va=function(){},o_.prototype.g=function(n,e){return new ns(n,e)},mr(ns,gr),ns.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var n=this.g,e=this.l,t=this.h||void 0;Pr(0),n.Y=e,n.ma=t||{},n.M=n.aa,n.G=rI(n,null,n.Y),Wb(n)},ns.prototype.close=function(){Gb(this.g)},ns.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Fg(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.fb++,n)),3==e.H&&Wb(e)},ns.prototype.N=function(){this.g.l=null,delete this.j,Gb(this.g),delete this.g,ns.$.N.call(this)},mr(Zb,Gg),mr(Yb,qg),mr(Rd,sI),Rd.prototype.Ba=function(){Dr(this.g,"a")},Rd.prototype.Aa=function(n){Dr(this.g,new Zb(n))},Rd.prototype.za=function(n){Dr(this.g,new Yb)},Rd.prototype.ya=function(){Dr(this.g,"b")},mr(to,function oI(){this.blockSize=-1}),to.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},to.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,i=this.m,r=this.h,s=0;s<e;){if(0==r)for(;s<=t;)Kb(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<e;)if(i[r++]=n.charCodeAt(s++),r==this.blockSize){Kb(this,i),r=0;break}}else for(;s<e;)if(i[r++]=n[s++],r==this.blockSize){Kb(this,i),r=0;break}}this.h=r,this.i+=e},to.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var i=0;32>i;i+=8)n[t++]=this.g[e]>>>i&255;return n};var ox={};function Xf(n){return-128<=n&&128>n?_D(ox,n,function(e){return new Kn([0|e],0>e?-1:0)}):new Kn([0|n],0>n?-1:0)}function Nr(n){if(isNaN(n)||!isFinite(n))return ys;if(0>n)return Fr(Nr(-n));for(var e=[],t=1,i=0;n>=t;i++)e[i]=n/t|0,t*=Jf;return new Kn(e,0)}var Jf=4294967296,ys=Xf(0),Xb=Xf(1),ax=Xf(16777216);function Ba(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function no(n){return-1==n.h}function Fr(n){for(var e=n.g.length,t=[],i=0;i<e;i++)t[i]=~n.g[i];return new Kn(t,~n.h).add(Xb)}function a_(n,e){return n.add(Fr(e))}function ep(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function l_(n,e){this.g=n,this.h=e}function tp(n,e){if(Ba(e))throw Error("division by zero");if(Ba(n))return new l_(ys,ys);if(no(n))return e=tp(Fr(n),e),new l_(Fr(e.g),Fr(e.h));if(no(e))return e=tp(n,Fr(e)),new l_(Fr(e.g),e.h);if(30<n.g.length){if(no(n)||no(e))throw Error("slowDivide_ only works with positive integers.");for(var t=Xb,i=e;0>=i.X(n);)t=aI(t),i=aI(i);var r=jc(t,1),s=jc(i,1);for(i=jc(i,2),t=jc(t,2);!Ba(i);){var u=s.add(i);0>=u.X(n)&&(r=r.add(t),s=u),i=jc(i,1),t=jc(t,1)}return e=a_(n,r.R(e)),new l_(r,e)}for(r=ys;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),i=48>=(i=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,i-48),u=(s=Nr(t)).R(e);no(u)||0<u.X(n);)u=(s=Nr(t-=i)).R(e);Ba(s)&&(s=Xb),r=r.add(s),n=a_(n,u)}return new l_(r,n)}function aI(n){for(var e=n.g.length+1,t=[],i=0;i<e;i++)t[i]=n.D(i)<<1|n.D(i-1)>>>31;return new Kn(t,n.h)}function jc(n,e){var t=e>>5;e%=32;for(var i=n.g.length-t,r=[],s=0;s<i;s++)r[s]=0<e?n.D(s+t)>>>e|n.D(s+t+1)<<32-e:n.D(s+t);return new Kn(r,n.h)}(wt=Kn.prototype).ea=function(){if(no(this))return-Fr(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var i=this.D(t);n+=(0<=i?i:Jf+i)*e,e*=Jf}return n},wt.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Ba(this))return"0";if(no(this))return"-"+Fr(this).toString(n);for(var e=Nr(Math.pow(n,6)),t=this,i="";;){var r=tp(t,e).g,s=((0<(t=a_(t,r.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Ba(t=r))return s+i;for(;6>s.length;)s="0"+s;i=s+i}},wt.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},wt.X=function(n){return no(n=a_(this,n))?-1:Ba(n)?0:1},wt.abs=function(){return no(this)?Fr(this):this},wt.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0,r=0;r<=e;r++){var s=i+(65535&this.D(r))+(65535&n.D(r)),u=(s>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=u>>>16,t[r]=(u&=65535)<<16|(s&=65535)}return new Kn(t,-2147483648&t[t.length-1]?-1:0)},wt.R=function(n){if(Ba(this)||Ba(n))return ys;if(no(this))return no(n)?Fr(this).R(Fr(n)):Fr(Fr(this).R(n));if(no(n))return Fr(this.R(Fr(n)));if(0>this.X(ax)&&0>n.X(ax))return Nr(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],i=0;i<2*e;i++)t[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var s=this.D(i)>>>16,u=65535&this.D(i),h=n.D(r)>>>16,p=65535&n.D(r);t[2*i+2*r]+=u*p,ep(t,2*i+2*r),t[2*i+2*r+1]+=s*p,ep(t,2*i+2*r+1),t[2*i+2*r+1]+=u*h,ep(t,2*i+2*r+1),t[2*i+2*r+2]+=s*h,ep(t,2*i+2*r+2)}for(i=0;i<e;i++)t[i]=t[2*i+1]<<16|t[2*i];for(i=e;i<2*e;i++)t[i]=0;return new Kn(t,0)},wt.gb=function(n){return tp(this,n).h},wt.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)&n.D(i);return new Kn(t,this.h&n.h)},wt.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)|n.D(i);return new Kn(t,this.h|n.h)},wt.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)^n.D(i);return new Kn(t,this.h^n.h)},o_.prototype.createWebChannel=o_.prototype.g,ns.prototype.send=ns.prototype.u,ns.prototype.open=ns.prototype.m,ns.prototype.close=ns.prototype.close,zg.NO_ERROR=0,zg.TIMEOUT=8,zg.HTTP_ERROR=6,FD.COMPLETE="complete",Mb.EventType=Td,Td.OPEN="a",Td.CLOSE="b",Td.ERROR="c",Td.MESSAGE="d",gr.prototype.listen=gr.prototype.O,_i.prototype.listenOnce=_i.prototype.P,_i.prototype.getLastError=_i.prototype.Sa,_i.prototype.getLastErrorCode=_i.prototype.Ia,_i.prototype.getStatus=_i.prototype.da,_i.prototype.getResponseJson=_i.prototype.Wa,_i.prototype.getResponseText=_i.prototype.ja,_i.prototype.send=_i.prototype.ha,_i.prototype.setWithCredentials=_i.prototype.Oa,to.prototype.digest=to.prototype.l,to.prototype.reset=to.prototype.reset,to.prototype.update=to.prototype.j,Kn.prototype.add=Kn.prototype.add,Kn.prototype.multiply=Kn.prototype.R,Kn.prototype.modulo=Kn.prototype.gb,Kn.prototype.compare=Kn.prototype.X,Kn.prototype.toNumber=Kn.prototype.ea,Kn.prototype.toString=Kn.prototype.toString,Kn.prototype.getBits=Kn.prototype.D,Kn.fromNumber=Nr,Kn.fromString=function Qb(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Fr(Qb(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Nr(Math.pow(e,8)),i=ys,r=0;r<n.length;r+=8){var s=Math.min(8,n.length-r),u=parseInt(n.substring(r,r+s),e);8>s?(s=Nr(Math.pow(e,s)),i=i.R(s).add(Nr(u))):i=(i=i.R(t)).add(Nr(u))}return i};var ZP=Co.createWebChannelTransport=function(){return new o_},Jb=Co.getStatEventTarget=function(){return Dd()},c_=Co.ErrorCode=zg,lI=Co.EventType=FD,cI=Co.Event=Uc,ew=Co.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},uI=Co.FetchXmlHttpFactory=Qg,$c=Co.WebChannel=Mb,u_=Co.XhrIo=_i,dI=Co.Md5=to,Od=Co.Integer=Kn;const tw="@firebase/firestore";class _r{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}_r.UNAUTHENTICATED=new _r(null),_r.GOOGLE_CREDENTIALS=new _r("google-credentials-uid"),_r.FIRST_PARTY=new _r("first-party-uid"),_r.MOCK_USER=new _r("mock-user");let Pd="9.22.0";const kl=new Fa.Yd("@firebase/firestore");function hI(){return kl.logLevel}function $e(n,...e){if(kl.logLevel<=Fa.in.DEBUG){const t=e.map(nw);kl.debug(`Firestore (${Pd}): ${n}`,...t)}}function ir(n,...e){if(kl.logLevel<=Fa.in.ERROR){const t=e.map(nw);kl.error(`Firestore (${Pd}): ${n}`,...t)}}function io(n,...e){if(kl.logLevel<=Fa.in.WARN){const t=e.map(nw);kl.warn(`Firestore (${Pd}): ${n}`,...t)}}function nw(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Tt(n="Unexpected state"){const e=`FIRESTORE (${Pd}) INTERNAL ASSERTION FAILED: `+n;throw ir(e),new Error(e)}function Ut(n,e){n||Tt()}function _t(n,e){return n}const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ue extends vn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Gi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class fI{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class lx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(_r.UNAUTHENTICATED))}shutdown(){}}class pI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Gc{constructor(e){this.t=e,this.currentUser=_r.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const s=y=>this.i!==r?(r=this.i,t(y)):Promise.resolve();let u=new Gi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Gi,e.enqueueRetryable(()=>s(this.currentUser))};const h=()=>{const y=u;e.enqueueRetryable((0,be.Z)(function*(){yield y.promise,yield s(i.currentUser)}))},p=y=>{$e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(y=>p(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):($e("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Gi)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?($e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ut("string"==typeof i.accessToken),new fI(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ut(null===e||"string"==typeof e),new _r(e)}}class mI{constructor(e,t,i){this.h=e,this.l=t,this.m=i,this.type="FirstParty",this.user=_r.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class iw{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new mI(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(_r.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class d_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cx{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const i=s=>{null!=s.error&&$e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const u=s.token!==this.T;return this.T=s.token,$e("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{$e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?r(s):$e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ut("string"==typeof t.token),this.T=t.token,new d_(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function rw(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class np{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=rw(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<t&&(i+=e.charAt(r[s]%e.length))}return i}}function yn(n,e){return n<e?-1:n>e?1:0}function ip(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function ux(n){return n+"\0"}class ki{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ue(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ue(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ue(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ue(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ki.fromMillis(Date.now())}static fromDate(e){return ki.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new ki(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?yn(this.nanoseconds,e.nanoseconds):yn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Vt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Vt(e)}static min(){return new Vt(new ki(0,0))}static max(){return new Vt(new ki(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class rp{constructor(e,t,i){void 0===t?t=0:t>e.length&&Tt(),void 0===i?i=e.length-t:i>e.length-t&&Tt(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===rp.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof rp?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const s=e.get(r),u=t.get(r);if(s<u)return-1;if(s>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Rn extends rp{construct(e,t,i){return new Rn(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Ue(me.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new Rn(t)}static emptyPath(){return new Rn([])}}const dx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qi extends rp{construct(e,t,i){return new qi(e,t,i)}static isValidIdentifier(e){return dx.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new qi(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const s=()=>{if(0===i.length)throw new Ue(me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;r<e.length;){const h=e[r];if("\\"===h){if(r+1===e.length)throw new Ue(me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[r+1];if("\\"!==p&&"."!==p&&"`"!==p)throw new Ue(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,r+=2}else"`"===h?(u=!u,r++):"."!==h||u?(i+=h,r++):(s(),r++)}if(s(),u)throw new Ue(me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qi(t)}static emptyPath(){return new qi([])}}class ct{constructor(e){this.path=e}static fromPath(e){return new ct(Rn.fromString(e))}static fromName(e){return new ct(Rn.fromString(e).popFirst(5))}static empty(){return new ct(Rn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Rn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Rn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ct(new Rn(e.slice()))}}class sp{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function h_(n){return n.fields.find(e=>2===e.kind)}function qc(n){return n.fields.filter(e=>2!==e.kind)}sp.UNKNOWN_ID=-1;class op{constructor(e,t){this.fieldPath=e,this.kind=t}}class f_{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new f_(0,Us.min())}}function ow(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Vt.fromTimestamp(1e9===i?new ki(t+1,0):new ki(t,i));return new Us(r,ct.empty(),e)}function p_(n){return new Us(n.readTime,n.key,-1)}class Us{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Us(Vt.min(),ct.empty(),-1)}static max(){return new Us(Vt.max(),ct.empty(),-1)}}function aw(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=ct.comparator(n.documentKey,e.documentKey),0!==t?t:yn(n.largestBatchId,e.largestBatchId))}const fx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class px{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Rl(n){return lw.apply(this,arguments)}function lw(){return lw=(0,be.Z)(function*(n){if(n.code!==me.FAILED_PRECONDITION||n.message!==fx)throw n;$e("LocalStore","Unexpectedly lost primary lease")}),lw.apply(this,arguments)}class ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Tt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ce((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(t,s).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ce?t:ce.resolve(t)}catch(t){return ce.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ce.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ce.reject(t)}static resolve(e){return new ce((t,i)=>{t(e)})}static reject(e){return new ce((t,i)=>{i(e)})}static waitFor(e){return new ce((t,i)=>{let r=0,s=0,u=!1;e.forEach(h=>{++r,h.next(()=>{++s,u&&s===r&&t()},p=>i(p))}),u=!0,s===r&&t()})}static or(e){let t=ce.resolve(!1);for(const i of e)t=t.next(r=>r?ce.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,s)=>{i.push(t.call(this,r,s))}),this.waitFor(i)}static mapArray(e,t){return new ce((i,r)=>{const s=e.length,u=new Array(s);let h=0;for(let p=0;p<s;p++){const y=p;t(e[y]).next(E=>{u[y]=E,++h,h===s&&i(u)},E=>r(E))}})}static doWhile(e,t){return new ce((i,r)=>{const s=()=>{!0===e()?t().next(()=>{s()},r):i()};s()})}}class cw{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new Gi,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new m_(e,t.error)):this.v.resolve()},this.transaction.onerror=i=>{const r=_I(i.target.error);this.v.reject(new m_(e,r))}}static open(e,t,i,r){try{return new cw(t,e.transaction(r,i))}catch(s){throw new m_(t,s)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||($e("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new mx(t)}}class aa{constructor(e,t,i){this.name=e,this.version=t,this.V=i,12.2===aa.S((0,vn.z$)())&&ir("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return $e("SimpleDb","Removing database:",e),Nd(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,vn.hl)())return!1;if(aa.C())return!0;const e=(0,vn.z$)(),t=aa.S(e),i=0<t&&t<10,r=aa.N(e),s=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||s)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static N(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}$(e){var t=this;return(0,be.Z)(function*(){return t.db||($e("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const s=indexedDB.open(t.name,t.version);s.onsuccess=u=>{i(u.target.result)},s.onblocked=()=>{r(new m_(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=u=>{const h=u.target.error;r("VersionError"===h.name?new Ue(me.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===h.name?new Ue(me.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h):new m_(e,h))},s.onupgradeneeded=u=>{$e("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',u.oldVersion),t.V.O(u.target.result,s.transaction,u.oldVersion,t.version).next(()=>{$e("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=i=>t.F(i)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var s=this;return(0,be.Z)(function*(){const u="readonly"===t;let h=0;for(;;){++h;try{s.db=yield s.$(e);const p=cw.open(s.db,e,u?"readonly":"readwrite",i),y=r(p).next(E=>(p.P(),E)).catch(E=>(p.abort(E),ce.reject(E))).toPromise();return y.catch(()=>{}),yield p.R,y}catch(p){const y=p,E="FirebaseError"!==y.name&&h<3;if($e("SimpleDb","Transaction failed with error:",y.message,"Retrying:",E),s.close(),!E)return Promise.reject(y)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class QP{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Nd(this.L.delete())}}class m_ extends Ue{constructor(e,t){super(me.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Wc(n){return"IndexedDbTransactionError"===n.name}class mx{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?($e("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):($e("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),Nd(i)}add(e){return $e("SimpleDb","ADD",this.store.name,e,e),Nd(this.store.add(e))}get(e){return Nd(this.store.get(e)).next(t=>(void 0===t&&(t=null),$e("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return $e("SimpleDb","DELETE",this.store.name,e),Nd(this.store.delete(e))}count(){return $e("SimpleDb","COUNT",this.store.name),Nd(this.store.count())}j(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),s=[];return this.W(r,(u,h)=>{s.push(h)}).next(()=>s)}{const r=this.store.getAll(i.range);return new ce((s,u)=>{r.onerror=h=>{u(h.target.error)},r.onsuccess=h=>{s(h.target.result)}})}}H(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new ce((r,s)=>{i.onerror=u=>{s(u.target.error)},i.onsuccess=u=>{r(u.target.result)}})}J(e,t){$e("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.Y=!1;const r=this.cursor(i);return this.W(r,(s,u,h)=>h.delete())}X(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.W(r,t)}Z(e){const t=this.cursor({});return new ce((i,r)=>{t.onerror=s=>{const u=_I(s.target.error);r(u)},t.onsuccess=s=>{const u=s.target.result;u?e(u.primaryKey,u.value).next(h=>{h?u.continue():i()}):i()}})}W(e,t){const i=[];return new ce((r,s)=>{e.onerror=u=>{s(u.target.error)},e.onsuccess=u=>{const h=u.target.result;if(!h)return void r();const p=new QP(h),y=t(h.primaryKey,h.value,p);if(y instanceof ce){const E=y.catch(I=>(p.done(),ce.reject(I)));i.push(E)}p.isDone?r():null===p.K?h.continue():h.continue(p.K)}}).next(()=>ce.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.Y?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Nd(n){return new ce((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=_I(i.target.error);t(r)}})}let gx=!1;function _I(n){const e=aa.S((0,vn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new Ue("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return gx||(gx=!0,setTimeout(()=>{throw i},0)),i}}return n}class XP{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;$e("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,be.Z)(function*(){t.task=null;try{$e("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(i){Wc(i)?$e("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield Rl(i)}yield t.et(6e4)}))}}class JP{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,be.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.st(i,e))})()}st(e,t){const i=new Set;let r=t,s=!0;return ce.doWhile(()=>!0===s&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(u=>{if(null!==u&&!i.has(u))return $e("IndexBackiller",`Processing collection: ${u}`),this.it(e,u,r).next(h=>{r-=h,i.add(u)});s=!1})).next(()=>t-r)}it(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(s=>{const u=s.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next(()=>this.rt(r,s)).next(h=>($e("IndexBackiller",`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(e,t,h))).next(()=>u.size)}))}rt(e,t){let i=e;return t.changes.forEach((r,s)=>{const u=p_(s);aw(u,i)>0&&(i=u)}),new Us(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}let ro=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>i.writeSequenceNumber(r))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function o(n){return null==n}function a(n){return 0===n&&1/n==-1/0}function c(n){return"number"==typeof n&&Number.isInteger(n)&&!a(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function d(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=g(e)),e=f(n.get(t),e);return g(e)}function f(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=s}}return t}function g(n){return n+"\x01\x01"}function v(n){const e=n.length;if(Ut(e>=2),2===e)return Ut("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Rn.emptyPath();const t=e-2,i=[];let r="";for(let s=0;s<e;){const u=n.indexOf("\x01",s);switch((u<0||u>t)&&Tt(),n.charAt(u+1)){case"\x01":const h=n.substring(s,u);let p;0===r.length?p=h:(r+=h,p=r,r=""),i.push(p);break;case"\x10":r+=n.substring(s,u),r+="\0";break;case"\x11":r+=n.substring(s,u+1);break;default:Tt()}s=u+2}return new Rn(i)}const C=["userId","batchId"];function D(n,e){return[n,d(e)]}function T(n,e,t){return[n,d(e),t]}const A={},L=["prefixPath","collectionGroup","readTime","documentId"],K=["prefixPath","collectionGroup","documentId"],se=["collectionGroup","readTime","prefixPath","documentId"],Pe=["canonicalId","targetId"],Qe=["targetId","path"],ut=["path","targetId"],Rt=["collectionId","parent"],Wt=["indexId","uid"],ze=["uid","sequenceNumber"],rn=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],jn=["indexId","uid","orderedDocumentKey"],Di=["userId","collectionPath","documentId"],Zc=["userId","collectionPath","largestBatchId"],uw=["userId","collectionGroup","largestBatchId"],g_=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],dw=[...g_,"documentOverlays"],__=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],y_=__,hw=[...y_,"indexConfiguration","indexState","indexEntries"];class ap extends px{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function dr(n,e){const t=_t(n);return aa.M(t.ht,e)}function v_(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Fd(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function eN(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Ii{constructor(e,t){this.comparator=e,this.root=t||is.EMPTY}insert(e,t){return new Ii(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,is.BLACK,null,null))}remove(e){return new Ii(this.comparator,this.root.remove(e,this.comparator).copy(null,null,is.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yI(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yI(this.root,e,this.comparator,!1)}getReverseIterator(){return new yI(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yI(this.root,e,this.comparator,!0)}}class yI{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?i(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class is{constructor(e,t,i,r,s){this.key=e,this.value=t,this.color=i??is.RED,this.left=r??is.EMPTY,this.right=s??is.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,s){return new is(e??this.key,t??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===s?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return is.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return is.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,is.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,is.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Tt();const e=this.left.check();if(e!==this.right.check())throw Tt();return e+(this.isRed()?0:1)}}is.EMPTY=null,is.RED=!0,is.BLACK=!1,is.EMPTY=new class{constructor(){this.size=0}get key(){throw Tt()}get value(){throw Tt()}get color(){throw Tt()}get left(){throw Tt()}get right(){throw Tt()}copy(n,e,t,i,r){return this}insert(n,e,t){return new is(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ri{constructor(e){this.comparator=e,this.data=new Ii(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new tN(this.data.getIterator())}getIteratorFrom(e){return new tN(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Ri)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ri(this.comparator);return t.data=e,t}}class tN{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function b_(n){return n.hasNext()?n.getNext():void 0}class so{constructor(e){this.fields=e,e.sort(qi.comparator)}static empty(){return new so([])}unionWith(e){let t=new Ri(qi.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new so(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ip(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class nN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Lr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new nN("Invalid base64 string: "+r):r}}(e);return new Lr(t)}static fromUint8Array(e){const t=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(e);return new Lr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return yn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Lr.EMPTY_BYTE_STRING=new Lr("");const KH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ld(n){if(Ut(!!n),"string"==typeof n){let e=0;const t=KH.exec(n);if(Ut(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:hr(n.seconds),nanos:hr(n.nanos)}}function hr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Yc(n){return"string"==typeof n?Lr.fromBase64String(n):Lr.fromUint8Array(n)}function vI(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function bI(n){const e=n.mapValue.fields.__previous_value__;return vI(e)?bI(e):e}function fw(n){const e=Ld(n.mapValue.fields.__local_write_time__.timestampValue);return new ki(e.seconds,e.nanos)}class QH{constructor(e,t,i,r,s,u,h,p,y){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=p,this.useFetchStreams=y}}class Vd{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Vd("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Vd&&e.projectId===this.projectId&&e.database===this.database}}const Bd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},wI={nullValue:"NULL_VALUE"};function Ud(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?vI(n)?4:oN(n)?9007199254740991:10:Tt()}function Ol(n,e){if(n===e)return!0;const t=Ud(n);if(t!==Ud(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return fw(n).isEqual(fw(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=Ld(i.timestampValue),u=Ld(r.timestampValue);return s.seconds===u.seconds&&s.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,Yc(n.bytesValue).isEqual(Yc(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return hr(i.geoPointValue.latitude)===hr(r.geoPointValue.latitude)&&hr(i.geoPointValue.longitude)===hr(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return hr(i.integerValue)===hr(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=hr(i.doubleValue),u=hr(r.doubleValue);return s===u?a(s)===a(u):isNaN(s)&&isNaN(u)}return!1}(n,e);case 9:return ip(n.arrayValue.values||[],e.arrayValue.values||[],Ol);case 10:return function(i,r){const s=i.mapValue.fields||{},u=r.mapValue.fields||{};if(v_(s)!==v_(u))return!1;for(const h in s)if(s.hasOwnProperty(h)&&(void 0===u[h]||!Ol(s[h],u[h])))return!1;return!0}(n,e);default:return Tt()}var r}function pw(n,e){return void 0!==(n.values||[]).find(t=>Ol(t,e))}function Hd(n,e){if(n===e)return 0;const t=Ud(n),i=Ud(e);if(t!==i)return yn(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return yn(n.booleanValue,e.booleanValue);case 2:return function(r,s){const u=hr(r.integerValue||r.doubleValue),h=hr(s.integerValue||s.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(n,e);case 3:return iN(n.timestampValue,e.timestampValue);case 4:return iN(fw(n),fw(e));case 5:return yn(n.stringValue,e.stringValue);case 6:return function(r,s){const u=Yc(r),h=Yc(s);return u.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(r,s){const u=r.split("/"),h=s.split("/");for(let p=0;p<u.length&&p<h.length;p++){const y=yn(u[p],h[p]);if(0!==y)return y}return yn(u.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,s){const u=yn(hr(r.latitude),hr(s.latitude));return 0!==u?u:yn(hr(r.longitude),hr(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,s){const u=r.values||[],h=s.values||[];for(let p=0;p<u.length&&p<h.length;++p){const y=Hd(u[p],h[p]);if(y)return y}return yn(u.length,h.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,s){if(r===Bd.mapValue&&s===Bd.mapValue)return 0;if(r===Bd.mapValue)return 1;if(s===Bd.mapValue)return-1;const u=r.fields||{},h=Object.keys(u),p=s.fields||{},y=Object.keys(p);h.sort(),y.sort();for(let E=0;E<h.length&&E<y.length;++E){const I=yn(h[E],y[E]);if(0!==I)return I;const O=Hd(u[h[E]],p[y[E]]);if(0!==O)return O}return yn(h.length,y.length)}(n.mapValue,e.mapValue);default:throw Tt()}}function iN(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return yn(n,e);const t=Ld(n),i=Ld(e),r=yn(t.seconds,i.seconds);return 0!==r?r:yn(t.nanos,i.nanos)}function w_(n){return _x(n)}function _x(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Ld(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Yc(n.bytesValue).toBase64():"referenceValue"in n?ct.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",s=!0;for(const u of i.values||[])s?s=!1:r+=",",r+=_x(u);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",u=!0;for(const h of r)u?u=!1:s+=",",s+=`${h}:${_x(i.fields[h])}`;return s+"}"}(n.mapValue):Tt();var e}function lp(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function yx(n){return!!n&&"integerValue"in n}function mw(n){return!!n&&"arrayValue"in n}function rN(n){return!!n&&"nullValue"in n}function sN(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function EI(n){return!!n&&"mapValue"in n}function gw(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Fd(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=gw(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=gw(n.arrayValue.values[t]);return e}return Object.assign({},n)}function oN(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function XH(n){return"nullValue"in n?wI:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?lp(Vd.empty(),ct.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Tt()}function JH(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?lp(Vd.empty(),ct.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Bd:Tt()}function aN(n,e){const t=Hd(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function lN(n,e){const t=Hd(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class rs{constructor(e){this.value=e}static empty(){return new rs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!EI(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=gw(t)}setAll(e){let t=qi.emptyPath(),i={},r=[];e.forEach((u,h)=>{if(!t.isImmediateParentOf(h)){const p=this.getFieldsMap(t);this.applyChanges(p,i,r),i={},r=[],t=h.popLast()}u?i[h.lastSegment()]=gw(u):r.push(h.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,i,r)}delete(e){const t=this.field(e.popLast());EI(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ol(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];EI(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){Fd(t,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new rs(gw(this.value))}}function cN(n){const e=[];return Fd(n.fields,(t,i)=>{const r=new qi([t]);if(EI(i)){const s=cN(i.mapValue).fields;if(0===s.length)e.push(r);else for(const u of s)e.push(r.child(u))}else e.push(r)}),new so(e)}class Oi{constructor(e,t,i,r,s,u,h){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=s,this.data=u,this.documentState=h}static newInvalidDocument(e){return new Oi(e,0,Vt.min(),Vt.min(),Vt.min(),rs.empty(),0)}static newFoundDocument(e,t,i,r){return new Oi(e,1,t,Vt.min(),i,r,0)}static newNoDocument(e,t){return new Oi(e,2,t,Vt.min(),Vt.min(),rs.empty(),0)}static newUnknownDocument(e,t){return new Oi(e,3,t,Vt.min(),Vt.min(),rs.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Vt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Vt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Oi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Oi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class zd{constructor(e,t){this.position=e,this.inclusive=t}}function uN(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const s=e[r],u=n.position[r];if(i=s.field.isKeyField()?ct.comparator(ct.fromName(u.referenceValue),t.key):Hd(u,t.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function dN(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ol(n.position[t],e.position[t]))return!1;return!0}class C_{constructor(e,t="asc"){this.field=e,this.dir=t}}function ez(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class hN{}class On extends hN{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new tz(e,t,i):"array-contains"===t?new rz(e,i):"in"===t?new yN(e,i):"not-in"===t?new sz(e,i):"array-contains-any"===t?new oz(e,i):new On(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new nz(e,i):new iz(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Hd(t,this.value)):null!==t&&Ud(this.value)===Ud(t)&&this.matchesComparison(Hd(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Tt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class oi extends hN{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new oi(e,t)}matches(e){return E_(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function E_(n){return"and"===n.op}function vx(n){return"or"===n.op}function bx(n){return fN(n)&&E_(n)}function fN(n){for(const e of n.filters)if(e instanceof oi)return!1;return!0}function wx(n){if(n instanceof On)return n.field.canonicalString()+n.op.toString()+w_(n.value);if(bx(n))return n.filters.map(e=>wx(e)).join(",");{const e=n.filters.map(t=>wx(t)).join(",");return`${n.op}(${e})`}}function pN(n,e){return n instanceof On?(t=n,(i=e)instanceof On&&t.op===i.op&&t.field.isEqual(i.field)&&Ol(t.value,i.value)):n instanceof oi?function(t,i){return i instanceof oi&&t.op===i.op&&t.filters.length===i.filters.length&&t.filters.reduce((r,s,u)=>r&&pN(s,i.filters[u]),!0)}(n,e):void Tt();var t,i}function mN(n,e){const t=n.filters.concat(e);return oi.create(t,n.op)}function gN(n){return n instanceof On?`${(e=n).field.canonicalString()} ${e.op} ${w_(e.value)}`:n instanceof oi?function(e){return e.op.toString()+" {"+e.getFilters().map(gN).join(" ,")+"}"}(n):"Filter";var e}class tz extends On{constructor(e,t,i){super(e,t,i),this.key=ct.fromName(i.referenceValue)}matches(e){const t=ct.comparator(e.key,this.key);return this.matchesComparison(t)}}class nz extends On{constructor(e,t){super(e,"in",t),this.keys=_N(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class iz extends On{constructor(e,t){super(e,"not-in",t),this.keys=_N(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function _N(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>ct.fromName(i.referenceValue))}class rz extends On{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return mw(t)&&pw(t.arrayValue,this.value)}}class yN extends On{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&pw(this.value.arrayValue,t)}}class sz extends On{constructor(e,t){super(e,"not-in",t)}matches(e){if(pw(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!pw(this.value.arrayValue,t)}}class oz extends On{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!mw(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>pw(this.value.arrayValue,i))}}class az{constructor(e,t=null,i=[],r=[],s=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=u,this.endAt=h,this.dt=null}}function Cx(n,e=null,t=[],i=[],r=null,s=null,u=null){return new az(n,e,t,i,r,s,u)}function cp(n){const e=_t(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>wx(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),o(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>w_(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>w_(i)).join(",")),e.dt=t}return e.dt}function _w(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!ez(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!pN(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!dN(n.startAt,e.startAt)&&dN(n.endAt,e.endAt)}function DI(n){return ct.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function II(n,e){return n.filters.filter(t=>t instanceof On&&t.field.isEqual(e))}function vN(n,e,t){let i=wI,r=!0;for(const s of II(n,e)){let u=wI,h=!0;switch(s.op){case"<":case"<=":u=XH(s.value);break;case"==":case"in":case">=":u=s.value;break;case">":u=s.value,h=!1;break;case"!=":case"not-in":u=wI}aN({value:i,inclusive:r},{value:u,inclusive:h})<0&&(i=u,r=h)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const u=t.position[s];aN({value:i,inclusive:r},{value:u,inclusive:t.inclusive})<0&&(i=u,r=t.inclusive);break}return{value:i,inclusive:r}}function bN(n,e,t){let i=Bd,r=!0;for(const s of II(n,e)){let u=Bd,h=!0;switch(s.op){case">=":case">":u=JH(s.value),h=!1;break;case"==":case"in":case"<=":u=s.value;break;case"<":u=s.value,h=!1;break;case"!=":case"not-in":u=Bd}lN({value:i,inclusive:r},{value:u,inclusive:h})>0&&(i=u,r=h)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const u=t.position[s];lN({value:i,inclusive:r},{value:u,inclusive:t.inclusive})>0&&(i=u,r=t.inclusive);break}return{value:i,inclusive:r}}class Kc{constructor(e,t=null,i=[],r=[],s=null,u="F",h=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=u,this.startAt=h,this.endAt=p,this.wt=null,this._t=null}}function wN(n,e,t,i,r,s,u,h){return new Kc(n,e,t,i,r,s,u,h)}function D_(n){return new Kc(n)}function CN(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Ex(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function TI(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function Dx(n){return null!==n.collectionGroup}function up(n){const e=_t(n);if(null===e.wt){e.wt=[];const t=TI(e),i=Ex(e);if(null!==t&&null===i)t.isKeyField()||e.wt.push(new C_(t)),e.wt.push(new C_(qi.keyField(),"asc"));else{let r=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new C_(qi.keyField(),s))}}}return e.wt}function Hs(n){const e=_t(n);if(!e._t)if("F"===e.limitType)e._t=Cx(e.path,e.collectionGroup,up(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of up(e))t.push(new C_(s.field,"desc"===s.dir?"asc":"desc"));const i=e.endAt?new zd(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new zd(e.startAt.position,e.startAt.inclusive):null;e._t=Cx(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e._t}function Ix(n,e){e.getFirstInequalityField(),TI(n);const t=n.filters.concat([e]);return new Kc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function SI(n,e,t){return new Kc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function yw(n,e){return _w(Hs(n),Hs(e))&&n.limitType===e.limitType}function EN(n){return`${cp(Hs(n))}|lt:${n.limitType}`}function Tx(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(i=>gN(i)).join(", ")}]`),o(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>w_(i)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>w_(i)).join(",")),`Target(${t})`}(Hs(n))}; limitType=${n.limitType})`}function vw(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):ct.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of up(t))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,s,u){const h=uN(r,s,u);return r.inclusive?h<=0:h<0}(t.startAt,up(t),i)||t.endAt&&!function(r,s,u){const h=uN(r,s,u);return r.inclusive?h>=0:h>0}(t.endAt,up(t),i)));var t,i}function DN(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function IN(n){return(e,t)=>{let i=!1;for(const r of up(n)){const s=lz(r,e,t);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function lz(n,e,t){const i=n.field.isKeyField()?ct.comparator(e.key,t.key):function(r,s,u){const h=s.data.field(r),p=u.data.field(r);return null!==h&&null!==p?Hd(h,p):Tt()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Tt()}}class Qc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Fd(this.inner,(t,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return eN(this.inner)}size(){return this.innerSize}}const cz=new Ii(ct.comparator);function oo(){return cz}const TN=new Ii(ct.comparator);function bw(...n){let e=TN;for(const t of n)e=e.insert(t.key,t);return e}function SN(n){let e=TN;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Pl(){return ww()}function MN(){return ww()}function ww(){return new Qc(n=>n.toString(),(n,e)=>n.isEqual(e))}const uz=new Ii(ct.comparator),dz=new Ri(ct.comparator);function Cn(...n){let e=dz;for(const t of n)e=e.add(t);return e}const hz=new Ri(yn);function Sx(){return hz}function AN(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:a(e)?"-0":e}}function xN(n){return{integerValue:""+n}}function kN(n,e){return c(e)?xN(e):AN(n,e)}class MI{constructor(){this._=void 0}}function fz(n,e,t){return n instanceof I_?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&vI(r)&&(r=bI(r)),r&&(s.fields.__previous_value__=r),{mapValue:s}}(t,e):n instanceof dp?ON(n,e):n instanceof hp?PN(n,e):function(i,r){const s=RN(i,r),u=NN(s)+NN(i.gt);return yx(s)&&yx(i.gt)?xN(u):AN(i.serializer,u)}(n,e)}function pz(n,e,t){return n instanceof dp?ON(n,e):n instanceof hp?PN(n,e):t}function RN(n,e){return n instanceof T_?yx(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class I_ extends MI{}class dp extends MI{constructor(e){super(),this.elements=e}}function ON(n,e){const t=FN(e);for(const i of n.elements)t.some(r=>Ol(r,i))||t.push(i);return{arrayValue:{values:t}}}class hp extends MI{constructor(e){super(),this.elements=e}}function PN(n,e){let t=FN(e);for(const i of n.elements)t=t.filter(r=>!Ol(r,i));return{arrayValue:{values:t}}}class T_ extends MI{constructor(e,t){super(),this.serializer=e,this.gt=t}}function NN(n){return hr(n.integerValue||n.doubleValue)}function FN(n){return mw(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Cw{constructor(e,t){this.field=e,this.transform=t}}class gz{constructor(e,t){this.version=e,this.transformResults=t}}class Wi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Wi}static exists(e){return new Wi(void 0,e)}static updateTime(e){return new Wi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function AI(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class xI{}function LN(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new M_(n.key,Wi.none()):new S_(n.key,n.data,Wi.none());{const t=n.data,i=rs.empty();let r=new Ri(qi.comparator);for(let s of e.fields)if(!r.has(s)){let u=t.field(s);null===u&&s.length>1&&(s=s.popLast(),u=t.field(s)),null===u?i.delete(s):i.set(s,u),r=r.add(s)}return new Xc(n.key,i,new so(r.toArray()),Wi.none())}}function _z(n,e,t){n instanceof S_?function(i,r,s){const u=i.value.clone(),h=UN(i.fieldTransforms,r,s.transformResults);u.setAll(h),r.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,e,t):n instanceof Xc?function(i,r,s){if(!AI(i.precondition,r))return void r.convertToUnknownDocument(s.version);const u=UN(i.fieldTransforms,r,s.transformResults),h=r.data;h.setAll(BN(i)),h.setAll(u),r.convertToFoundDocument(s.version,h).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Ew(n,e,t,i){return n instanceof S_?function(r,s,u,h){if(!AI(r.precondition,s))return u;const p=r.value.clone(),y=HN(r.fieldTransforms,h,s);return p.setAll(y),s.convertToFoundDocument(s.version,p).setHasLocalMutations(),null}(n,e,t,i):n instanceof Xc?function(r,s,u,h){if(!AI(r.precondition,s))return u;const p=HN(r.fieldTransforms,h,s),y=s.data;return y.setAll(BN(r)),y.setAll(p),s.convertToFoundDocument(s.version,y).setHasLocalMutations(),null===u?null:u.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(E=>E.field))}(n,e,t,i):(u=t,AI(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):u);var s,u}function yz(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),s=RN(i.transform,r||null);null!=s&&(null===t&&(t=rs.empty()),t.set(i.field,s))}return t||null}function VN(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&ip(t,i,(r,s)=>function mz(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof dp&&i instanceof dp||t instanceof hp&&i instanceof hp?ip(t.elements,i.elements,Ol):t instanceof T_&&i instanceof T_?Ol(t.gt,i.gt):t instanceof I_&&i instanceof I_);var t,i}(r,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class S_ extends xI{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Xc extends xI{constructor(e,t,i,r,s=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function BN(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function UN(n,e,t){const i=new Map;Ut(n.length===t.length);for(let r=0;r<t.length;r++){const s=n[r],u=s.transform,h=e.data.field(s.field);i.set(s.field,pz(u,h,t[r]))}return i}function HN(n,e,t){const i=new Map;for(const r of n){const s=r.transform,u=t.data.field(r.field);i.set(r.field,fz(s,u,e))}return i}class M_ extends xI{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Mx extends xI{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ax{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&_z(s,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Ew(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Ew(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=MN();return this.mutations.forEach(r=>{const s=e.get(r.key),u=s.overlayedDocument;let h=this.applyToLocalView(u,s.mutatedFields);h=t.has(r.key)?null:h;const p=LN(u,h);null!==p&&i.set(r.key,p),u.isValidDocument()||u.convertToNoDocument(Vt.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Cn())}isEqual(e){return this.batchId===e.batchId&&ip(this.mutations,e.mutations,(t,i)=>VN(t,i))&&ip(this.baseMutations,e.baseMutations,(t,i)=>VN(t,i))}}class xx{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){Ut(e.mutations.length===i.length);let r=uz;const s=e.mutations;for(let u=0;u<s.length;u++)r=r.insert(s[u].key,i[u].version);return new xx(e,t,i,r)}}class kx{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class bz{constructor(e,t){this.count=e,this.unchangedNames=t}}var Tr,Hn;function zN(n){switch(n){default:return Tt();case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0}}function jN(n){if(void 0===n)return ir("GRPC error has no .code"),me.UNKNOWN;switch(n){case Tr.OK:return me.OK;case Tr.CANCELLED:return me.CANCELLED;case Tr.UNKNOWN:return me.UNKNOWN;case Tr.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case Tr.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case Tr.INTERNAL:return me.INTERNAL;case Tr.UNAVAILABLE:return me.UNAVAILABLE;case Tr.UNAUTHENTICATED:return me.UNAUTHENTICATED;case Tr.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case Tr.NOT_FOUND:return me.NOT_FOUND;case Tr.ALREADY_EXISTS:return me.ALREADY_EXISTS;case Tr.PERMISSION_DENIED:return me.PERMISSION_DENIED;case Tr.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case Tr.ABORTED:return me.ABORTED;case Tr.OUT_OF_RANGE:return me.OUT_OF_RANGE;case Tr.UNIMPLEMENTED:return me.UNIMPLEMENTED;case Tr.DATA_LOSS:return me.DATA_LOSS;default:return Tt()}}(Hn=Tr||(Tr={}))[Hn.OK=0]="OK",Hn[Hn.CANCELLED=1]="CANCELLED",Hn[Hn.UNKNOWN=2]="UNKNOWN",Hn[Hn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Hn[Hn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Hn[Hn.NOT_FOUND=5]="NOT_FOUND",Hn[Hn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Hn[Hn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Hn[Hn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Hn[Hn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Hn[Hn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Hn[Hn.ABORTED=10]="ABORTED",Hn[Hn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Hn[Hn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Hn[Hn.INTERNAL=13]="INTERNAL",Hn[Hn.UNAVAILABLE=14]="UNAVAILABLE",Hn[Hn.DATA_LOSS=15]="DATA_LOSS";class Rx{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return kI}static getOrCreateInstance(){return null===kI&&(kI=new Rx),kI}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let kI=null;function $N(){return new TextEncoder}const wz=new Od([4294967295,4294967295],0);function GN(n){const e=$N().encode(n),t=new dI;return t.update(e),new Uint8Array(t.digest())}function qN(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Od([t,i],0),new Od([r,s],0)]}class Ox{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Dw(`Invalid padding: ${t}`);if(i<0)throw new Dw(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new Dw(`Invalid hash count: ${i}`);if(0===e.length&&0!==t)throw new Dw(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Od.fromNumber(this.It)}Et(e,t,i){let r=e.add(t.multiply(Od.fromNumber(i)));return 1===r.compare(wz)&&(r=new Od([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=GN(e),[i,r]=qN(t);for(let s=0;s<this.hashCount;s++){const u=this.Et(i,r,s);if(!this.At(u))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),u=new Ox(s,r,t);return i.forEach(h=>u.insert(h)),u}insert(e){if(0===this.It)return;const t=GN(e),[i,r]=qN(t);for(let s=0;s<this.hashCount;s++){const u=this.Et(i,r,s);this.Rt(u)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Dw extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Iw{constructor(e,t,i,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,Tw.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Iw(Vt.min(),r,new Ii(yn),oo(),Cn())}}class Tw{constructor(e,t,i,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Tw(i,t,Cn(),Cn(),Cn())}}class RI{constructor(e,t,i,r){this.Pt=e,this.removedTargetIds=t,this.key=i,this.bt=r}}class WN{constructor(e,t){this.targetId=e,this.Vt=t}}class ZN{constructor(e,t,i=Lr.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class YN{constructor(){this.St=0,this.Dt=QN(),this.Ct=Lr.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Cn(),t=Cn(),i=Cn();return this.Dt.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:Tt()}}),new Tw(this.Ct,this.xt,e,t,i)}Ft(){this.Nt=!1,this.Dt=QN()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Cz{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=oo(),this.zt=KN(),this.Wt=new Ii(yn)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const i=this.Zt(t);switch(e.state){case 0:this.te(t)&&i.$t(e.resumeToken);break;case 1:i.Ut(),i.kt||i.Ft(),i.$t(e.resumeToken);break;case 2:i.Ut(),i.kt||this.removeTarget(t);break;case 3:this.te(t)&&(i.Kt(),i.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),i.$t(e.resumeToken));break;default:Tt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((i,r)=>{this.te(r)&&t(r)})}ne(e){var t;const i=e.targetId,r=e.Vt.count,s=this.se(i);if(s){const u=s.target;if(DI(u))if(0===r){const h=new ct(u.path);this.Yt(i,h,Oi.newNoDocument(h,Vt.min()))}else Ut(1===r);else{const h=this.ie(i);if(h!==r){const p=this.re(e,h);0!==p&&(this.ee(i),this.Wt=this.Wt.insert(i,2===p?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=Rx.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(y,E,I){var O,B,$,ne,te,Ve;const ot={localCacheCount:E,existenceFilterCount:I.count},nt=I.unchangedNames;return nt&&(ot.bloomFilter={applied:0===y,hashCount:null!==(O=nt?.hashCount)&&void 0!==O?O:0,bitmapLength:null!==(ne=null===($=null===(B=nt?.bits)||void 0===B?void 0:B.bitmap)||void 0===$?void 0:$.length)&&void 0!==ne?ne:0,padding:null!==(Ve=null===(te=nt?.bits)||void 0===te?void 0:te.padding)&&void 0!==Ve?Ve:0}),ot}(p,h,e.Vt))}}}}re(e,t){const{unchangedNames:i,count:r}=e.Vt;if(!i||!i.bits)return 1;const{bits:{bitmap:s="",padding:u=0},hashCount:h=0}=i;let p,y;try{p=Yc(s).toUint8Array()}catch(E){if(E instanceof nN)return io("Decoding the base64 bloom filter in existence filter failed ("+E.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw E}try{y=new Ox(p,u,h)}catch(E){return io(E instanceof Dw?"BloomFilter error: ":"Applying bloom filter failed: ",E),1}return 0===y.It?1:r!==t-this.oe(e.targetId,y)?2:0}oe(e,t){const i=this.Gt.getRemoteKeysForTarget(e);let r=0;return i.forEach(s=>{const u=this.Gt.ue(),h=`projects/${u.projectId}/databases/${u.database}/documents/${s.path.canonicalString()}`;t.vt(h)||(this.Yt(e,s,null),r++)}),r}ce(e){const t=new Map;this.Qt.forEach((s,u)=>{const h=this.se(u);if(h){if(s.current&&DI(h.target)){const p=new ct(h.target.path);null!==this.jt.get(p)||this.ae(u,p)||this.Yt(u,p,Oi.newNoDocument(p,e))}s.Mt&&(t.set(u,s.Ot()),s.Ft())}});let i=Cn();this.zt.forEach((s,u)=>{let h=!0;u.forEachWhile(p=>{const y=this.se(p);return!y||"TargetPurposeLimboResolution"===y.purpose||(h=!1,!1)}),h&&(i=i.add(s))}),this.jt.forEach((s,u)=>u.setReadTime(e));const r=new Iw(e,t,this.Wt,this.jt,i);return this.jt=oo(),this.zt=KN(),this.Wt=new Ii(yn),r}Jt(e,t){if(!this.te(e))return;const i=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,i),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,i){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),i&&(this.jt=this.jt.insert(t,i))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new YN,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Ri(yn),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||$e("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new YN),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function KN(){return new Ii(ct.comparator)}function QN(){return new Ii(ct.comparator)}const Ez={asc:"ASCENDING",desc:"DESCENDING"},Dz={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Iz={and:"AND",or:"OR"};class Tz{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Px(n,e){return n.useProto3Json||o(e)?e:{value:e}}function A_(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function XN(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Sz(n,e){return A_(n,e.toTimestamp())}function yr(n){return Ut(!!n),Vt.fromTimestamp(function(e){const t=Ld(e);return new ki(t.seconds,t.nanos)}(n))}function Nx(n,e){return(t=n,new Rn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function JN(n){const e=Rn.fromString(n);return Ut(lF(e)),e}function Sw(n,e){return Nx(n.databaseId,e.path)}function Nl(n,e){const t=JN(e);if(t.get(1)!==n.databaseId.projectId)throw new Ue(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ue(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ct(tF(t))}function Fx(n,e){return Nx(n.databaseId,e)}function eF(n){const e=JN(n);return 4===e.length?Rn.emptyPath():tF(e)}function Mw(n){return new Rn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function tF(n){return Ut(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function nF(n,e,t){return{name:Sw(n,e),fields:t.value.mapValue.fields}}function iF(n,e,t){const i=Nl(n,e.name),r=yr(e.updateTime),s=e.createTime?yr(e.createTime):Vt.min(),u=new rs({mapValue:{fields:e.fields}}),h=Oi.newFoundDocument(i,r,s,u);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function Aw(n,e){let t;if(e instanceof S_)t={update:nF(n,e.key,e.value)};else if(e instanceof M_)t={delete:Sw(n,e.key)};else if(e instanceof Xc)t={update:nF(n,e.key,e.data),updateMask:Nz(e.fieldMask)};else{if(!(e instanceof Mx))return Tt();t={verify:Sw(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,s){const u=s.transform;if(u instanceof I_)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof dp)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof hp)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof T_)return{fieldPath:s.field.canonicalString(),increment:u.gt};throw Tt()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:Sz(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:Tt()),t;var r}function Lx(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?Wi.updateTime(yr(r.updateTime)):void 0!==r.exists?Wi.exists(r.exists):Wi.none():Wi.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(s,u){let h=null;"setToServerValue"in u?(Ut("REQUEST_TIME"===u.setToServerValue),h=new I_):"appendMissingElements"in u?h=new dp(u.appendMissingElements.values||[]):"removeAllFromArray"in u?h=new hp(u.removeAllFromArray.values||[]):"increment"in u?h=new T_(s,u.increment):Tt();const p=qi.fromServerFormat(u.fieldPath);return new Cw(p,h)}(n,r)):[];var r;if(e.update){const r=Nl(n,e.update.name),s=new rs({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=new so((e.updateMask.fieldPaths||[]).map(y=>qi.fromServerFormat(y)));return new Xc(r,s,u,t,i)}return new S_(r,s,t,i)}if(e.delete){const r=Nl(n,e.delete);return new M_(r,t)}if(e.verify){const r=Nl(n,e.verify);return new Mx(r,t)}return Tt()}function rF(n,e){return{documents:[Fx(n,e.path)]}}function Vx(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=Fx(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Fx(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(p){if(0!==p.length)return aF(oi.create(p,"and"))}(e.filters);r&&(t.structuredQuery.where=r);const s=function(p){if(0!==p.length)return p.map(y=>{return{field:jd((E=y).field),direction:Rz(E.dir)};var E})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const u=Px(n,e.limit);var h,p;return null!==u&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt={before:(h=e.startAt).inclusive,values:h.position}),e.endAt&&(t.structuredQuery.endAt={before:!(p=e.endAt).inclusive,values:p.position}),t}function sF(n){let e=eF(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){Ut(1===i);const E=t.from[0];E.allDescendants?r=E.collectionId:e=e.child(E.collectionId)}let s=[];t.where&&(s=function(E){const I=oF(E);return I instanceof oi&&bx(I)?I.getFilters():[I]}(t.where));let u=[];t.orderBy&&(u=t.orderBy.map(E=>{return new C_(x_((I=E).field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction));var I}));let h=null;t.limit&&(h=function(E){let I;return I="object"==typeof E?E.value:E,o(I)?null:I}(t.limit));let p=null;var E;t.startAt&&(p=new zd((E=t.startAt).values||[],!!E.before));let y=null;return t.endAt&&(y=function(E){return new zd(E.values||[],!E.before)}(t.endAt)),wN(e,r,u,s,h,"F",p,y)}function oF(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=x_(e.unaryFilter.field);return On.create(t,"==",{doubleValue:NaN});case"IS_NULL":const i=x_(e.unaryFilter.field);return On.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=x_(e.unaryFilter.field);return On.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=x_(e.unaryFilter.field);return On.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Tt()}}(n):void 0!==n.fieldFilter?On.create(x_((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Tt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return oi.create(e.compositeFilter.filters.map(t=>oF(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Tt()}}(e.compositeFilter.op))}(n):Tt();var e}function Rz(n){return Ez[n]}function Oz(n){return Dz[n]}function Pz(n){return Iz[n]}function jd(n){return{fieldPath:n.canonicalString()}}function x_(n){return qi.fromServerFormat(n.fieldPath)}function aF(n){return n instanceof On?function(e){if("=="===e.op){if(sN(e.value))return{unaryFilter:{field:jd(e.field),op:"IS_NAN"}};if(rN(e.value))return{unaryFilter:{field:jd(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(sN(e.value))return{unaryFilter:{field:jd(e.field),op:"IS_NOT_NAN"}};if(rN(e.value))return{unaryFilter:{field:jd(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:jd(e.field),op:Oz(e.op),value:e.value}}}(n):n instanceof oi?function(e){const t=e.getFilters().map(i=>aF(i));return 1===t.length?t[0]:{compositeFilter:{op:Pz(e.op),filters:t}}}(n):Tt()}function Nz(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function lF(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Jc{constructor(e,t,i,r,s=Vt.min(),u=Vt.min(),h=Lr.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=p}withSequenceNumber(e){return new Jc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Jc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Jc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Jc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class cF{constructor(e){this.fe=e}}function uF(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:OI(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:Sw(r=n.fe,(s=e).key),fields:s.data.value.mapValue.fields,updateTime:A_(r,s.version.toTimestamp()),createTime:A_(r,s.createTime.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:fp(e.version)};else{if(!e.isUnknownDocument())return Tt();i.unknownDocument={path:t.path.toArray(),version:fp(e.version)}}var r,s;return i}function OI(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function fp(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function pp(n){const e=new ki(n.seconds,n.nanoseconds);return Vt.fromTimestamp(e)}function mp(n,e){const t=(e.baseMutations||[]).map(s=>Lx(n.fe,s));for(let s=0;s<e.mutations.length-1;++s){const u=e.mutations[s];s+1<e.mutations.length&&void 0!==e.mutations[s+1].transform&&(u.updateTransforms=e.mutations[s+1].transform.fieldTransforms,e.mutations.splice(s+1,1),++s)}const i=e.mutations.map(s=>Lx(n.fe,s)),r=ki.fromMillis(e.localWriteTimeMs);return new Ax(e.batchId,r,t,i)}function xw(n){const e=pp(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?pp(n.lastLimboFreeSnapshotVersion):Vt.min();let i;var r;return void 0!==n.query.documents?(Ut(1===(r=n.query).documents.length),i=Hs(D_(eF(r.documents[0])))):i=Hs(sF(n.query)),new Jc(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Lr.fromBase64String(n.resumeToken))}function dF(n,e){const t=fp(e.snapshotVersion),i=fp(e.lastLimboFreeSnapshotVersion);let r;r=DI(e.target)?rF(n.fe,e.target):Vx(n.fe,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:cp(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function Bx(n){const e=sF({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?SI(e,e.limit,"L"):e}function Ux(n,e){return new kx(e.largestBatchId,Lx(n.fe,e.overlayMutation))}function hF(n,e){const t=e.path.lastSegment();return[n,d(e.path.popLast()),t]}function fF(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:fp(i.readTime),documentKey:d(i.documentKey.path),largestBatchId:i.largestBatchId}}class Lz{getBundleMetadata(e,t){return pF(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:pp(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return pF(e).put({bundleId:(i=t).id,createTime:fp(yr(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return mF(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:Bx(r.bundledQuery),readTime:pp(r.readTime)};var r})}saveNamedQuery(e,t){return mF(e).put({name:(i=t).name,readTime:fp(yr(i.readTime)),bundledQuery:i.bundledQuery});var i}}function pF(n){return dr(n,"bundles")}function mF(n){return dr(n,"namedQueries")}class PI{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new PI(e,t.uid||"")}getOverlay(e,t){return kw(e).get(hF(this.userId,t)).next(i=>i?Ux(this.serializer,i):null)}getOverlays(e,t){const i=Pl();return ce.forEach(t,r=>this.getOverlay(e,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){const r=[];return i.forEach((s,u)=>{const h=new kx(t,u);r.push(this.we(e,h))}),ce.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(u=>r.add(d(u.getCollectionPath())));const s=[];return r.forEach(u=>{const h=IDBKeyRange.bound([this.userId,u,i],[this.userId,u,i+1],!1,!0);s.push(kw(e).J("collectionPathOverlayIndex",h))}),ce.waitFor(s)}getOverlaysForCollection(e,t,i){const r=Pl(),s=d(t),u=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,Number.POSITIVE_INFINITY],!0);return kw(e).j("collectionPathOverlayIndex",u).next(h=>{for(const p of h){const y=Ux(this.serializer,p);r.set(y.getKey(),y)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const s=Pl();let u;const h=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return kw(e).X({index:"collectionGroupOverlayIndex",range:h},(p,y,E)=>{const I=Ux(this.serializer,y);s.size()<r||I.largestBatchId===u?(s.set(I.getKey(),I),u=I.largestBatchId):E.done()}).next(()=>s)}we(e,t){return kw(e).put(function(i,r,s){const[u,h,p]=hF(r,s.mutation.key);return{userId:r,collectionPath:h,documentId:p,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:Aw(i.fe,s.mutation)}}(this.serializer,this.userId,t))}}function kw(n){return dr(n,"documentOverlays")}class gp{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(hr(e.integerValue));else if("doubleValue"in e){const i=hr(e.doubleValue);isNaN(i)?this.ye(t,13):(this.ye(t,15),a(i)?t.pe(0):t.pe(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ye(t,20),"string"==typeof i?t.Ie(i):(t.Ie(`${i.seconds||""}`),t.pe(i.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Yc(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ye(t,45),t.pe(i.latitude||0),t.pe(i.longitude||0)}else"mapValue"in e?oN(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):Tt()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const i=e.fields||{};this.ye(t,55);for(const r of Object.keys(i))this.Te(r,t),this.me(i[r],t)}Pe(e,t){const i=e.values||[];this.ye(t,50);for(const r of i)this.me(r,t)}ve(e,t){this.ye(t,37),ct.fromName(e).path.forEach(i=>{this.ye(t,60),this.be(i,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function Vz(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function gF(n){const e=64-function(t){let i=0;for(let r=0;r<8;++r){const s=Vz(255&t[r]);if(i+=s,8!==s)break}return i}(n);return Math.ceil(e/8)}gp.Ve=new gp;class Bz{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.De(i.value),i=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ne(i.value),i=t.next();this.ke()}Me(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.De(i);else if(i<2048)this.De(960|i>>>6),this.De(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.De(480|i>>>12),this.De(128|63&i>>>6),this.De(128|63&i);else{const r=t.codePointAt(0);this.De(240|r>>>18),this.De(128|63&r>>>12),this.De(128|63&r>>>6),this.De(128|63&r)}}this.Ce()}$e(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ne(i);else if(i<2048)this.Ne(960|i>>>6),this.Ne(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i);else{const r=t.codePointAt(0);this.Ne(240|r>>>18),this.Ne(128|63&r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r)}}this.ke()}Oe(e){const t=this.Fe(e),i=gF(t);this.Be(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Le(e){const t=this.Fe(e),i=gF(t);this.Be(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(r){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,r,!1),new Uint8Array(s.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class Uz{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class Hz{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class Rw{constructor(){this.je=new Bz,this.ze=new Uz(this.je),this.We=new Hz(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class _p{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new _p(this.indexId,this.documentKey,this.arrayValue,i)}}function $d(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=_F(n.arrayValue,e.arrayValue),0!==t?t:(t=_F(n.directionalValue,e.directionalValue),0!==t?t:ct.comparator(n.documentKey,e.documentKey)))}function _F(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class zz{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const i=t;i.isInequality()?this.Ze=i:this.Xe.push(i)}}tn(e){Ut(e.collectionGroup===this.collectionId);const t=h_(e);if(void 0!==t&&!this.en(t))return!1;const i=qc(e);let r=0,s=0;for(;r<i.length&&this.en(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.Ze){const u=i[r];if(!this.nn(this.Ze,u)||!this.sn(this.Ye[s++],u))return!1;++r}for(;r<i.length;++r){const u=i[r];if(s>=this.Ye.length||!this.sn(this.Ye[s++],u))return!1}return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function yF(n){var e,t;if(Ut(n instanceof On||n instanceof oi),n instanceof On){if(n instanceof yN){const r=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(s=>On.create(n.field,"==",s)))||[];return oi.create(r,"or")}return n}const i=n.filters.map(r=>yF(r));return oi.create(i,n.op)}function jz(n){if(0===n.getFilters().length)return[];const e=jx(yF(n));return Ut(vF(e)),Hx(e)||zx(e)?[e]:e.getFilters()}function Hx(n){return n instanceof On}function zx(n){return n instanceof oi&&bx(n)}function vF(n){return Hx(n)||zx(n)||function(e){if(e instanceof oi&&vx(e)){for(const t of e.getFilters())if(!Hx(t)&&!zx(t))return!1;return!0}return!1}(n)}function jx(n){if(Ut(n instanceof On||n instanceof oi),n instanceof On)return n;if(1===n.filters.length)return jx(n.filters[0]);const e=n.filters.map(i=>jx(i));let t=oi.create(e,n.op);return t=NI(t),vF(t)?t:(Ut(t instanceof oi),Ut(E_(t)),Ut(t.filters.length>1),t.filters.reduce((i,r)=>$x(i,r)))}function $x(n,e){let t;return Ut(n instanceof On||n instanceof oi),Ut(e instanceof On||e instanceof oi),t=n instanceof On?e instanceof On?oi.create([n,e],"and"):bF(n,e):e instanceof On?bF(e,n):function(i,r){if(Ut(i.filters.length>0&&r.filters.length>0),E_(i)&&E_(r))return mN(i,r.getFilters());const s=vx(i)?i:r,u=vx(i)?r:i,h=s.filters.map(p=>$x(p,u));return oi.create(h,"or")}(n,e),NI(t)}function bF(n,e){if(E_(e))return mN(e,n.getFilters());{const t=e.filters.map(i=>$x(n,i));return oi.create(t,"or")}}function NI(n){if(Ut(n instanceof On||n instanceof oi),n instanceof On)return n;const e=n.getFilters();if(1===e.length)return NI(e[0]);if(fN(n))return n;const t=e.map(r=>NI(r)),i=[];return t.forEach(r=>{r instanceof On?i.push(r):r instanceof oi&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:oi.create(i,n.op)}class $z{constructor(){this.rn=new Gx}addToCollectionParentIndex(e,t){return this.rn.add(t),ce.resolve()}getCollectionParents(e,t){return ce.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return ce.resolve()}deleteFieldIndex(e,t){return ce.resolve()}getDocumentsMatchingTarget(e,t){return ce.resolve(null)}getIndexType(e,t){return ce.resolve(0)}getFieldIndexes(e,t){return ce.resolve([])}getNextCollectionGroupToUpdate(e){return ce.resolve(null)}getMinOffset(e,t){return ce.resolve(Us.min())}getMinOffsetFromCollectionGroup(e,t){return ce.resolve(Us.min())}updateCollectionGroup(e,t,i){return ce.resolve()}updateIndexEntries(e,t){return ce.resolve()}}class Gx{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new Ri(Rn.comparator),s=!r.has(i);return this.index[t]=r.add(i),s}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Ri(Rn.comparator)).toArray()}}const FI=new Uint8Array(0);class Gz{constructor(e,t){this.user=e,this.databaseId=t,this.on=new Gx,this.un=new Qc(i=>cp(i),(i,r)=>_w(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const s={collectionId:i,parent:d(r)};return wF(e).put(s)}return ce.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[ux(t),""],!1,!0);return wF(e).j(r).next(s=>{for(const u of s){if(u.collectionId!==t)break;i.push(v(u.parent))}return i})}addFieldIndex(e,t){const i=LI(e),r={indexId:(u=t).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(h=>[h.fieldPath.canonicalString(),h.kind])};var u;delete r.indexId;const s=i.add(r);if(t.indexState){const u=Pw(e);return s.next(h=>{u.put(fF(h,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return s.next()}deleteFieldIndex(e,t){const i=LI(e),r=Pw(e),s=Ow(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=Ow(e);let r=!0;const s=new Map;return ce.forEach(this.cn(t),u=>this.an(e,u).next(h=>{r&&(r=!!h),s.set(u,h)})).next(()=>{if(r){let u=Cn();const h=[];return ce.forEach(s,(p,y)=>{var E;$e("IndexedDbIndexManager",`Using index ${E=p,`id=${E.indexId}|cg=${E.collectionGroup}|f=${E.fields.map(nt=>`${nt.fieldPath}:${nt.kind}`).join(",")}`} to execute ${cp(t)}`);const I=function(nt,at){const en=h_(at);if(void 0===en)return null;for(const tn of II(nt,en.fieldPath))switch(tn.op){case"array-contains-any":return tn.value.arrayValue.values||[];case"array-contains":return[tn.value]}return null}(y,p),O=function(nt,at){const en=new Map;for(const tn of qc(at))for(const Nn of II(nt,tn.fieldPath))switch(Nn.op){case"==":case"in":en.set(tn.fieldPath.canonicalString(),Nn.value);break;case"not-in":case"!=":return en.set(tn.fieldPath.canonicalString(),Nn.value),Array.from(en.values())}return null}(y,p),B=function(nt,at){const en=[];let tn=!0;for(const Nn of qc(at)){const sr=0===Nn.kind?vN(nt,Nn.fieldPath,nt.startAt):bN(nt,Nn.fieldPath,nt.startAt);en.push(sr.value),tn&&(tn=sr.inclusive)}return new zd(en,tn)}(y,p),$=function(nt,at){const en=[];let tn=!0;for(const Nn of qc(at)){const sr=0===Nn.kind?bN(nt,Nn.fieldPath,nt.endAt):vN(nt,Nn.fieldPath,nt.endAt);en.push(sr.value),tn&&(tn=sr.inclusive)}return new zd(en,tn)}(y,p),ne=this.hn(p,y,B),te=this.hn(p,y,$),Ve=this.ln(p,y,O),ot=this.fn(p.indexId,I,ne,B.inclusive,te,$.inclusive,Ve);return ce.forEach(ot,nt=>i.H(nt,t.limit).next(at=>{at.forEach(en=>{const tn=ct.fromSegments(en.documentKey);u.has(tn)||(u=u.add(tn),h.push(tn))})}))}).next(()=>h)}return ce.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:jz(oi.create(e.filters,"and")).map(i=>Cx(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,i,r,s,u,h){const p=(null!=t?t.length:1)*Math.max(i.length,s.length),y=p/(null!=t?t.length:1),E=[];for(let I=0;I<p;++I){const O=t?this.dn(t[I/y]):FI,B=this.wn(e,O,i[I%y],r),$=this._n(e,O,s[I%y],u),ne=h.map(te=>this.wn(e,O,te,!0));E.push(...this.createRange(B,$,ne))}return E}wn(e,t,i,r){const s=new _p(e,ct.empty(),t,i);return r?s:s.Je()}_n(e,t,i,r){const s=new _p(e,ct.empty(),t,i);return r?s.Je():s}an(e,t){const i=new zz(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(s=>{let u=null;for(const h of s)i.tn(h)&&(!u||h.fields.length>u.fields.length)&&(u=h);return u})}getIndexType(e,t){let i=2;const r=this.cn(t);return ce.forEach(r,s=>this.an(e,s).next(u=>{u?0!==i&&u.fields.length<function(h){let p=new Ri(qi.comparator),y=!1;for(const E of h.filters)for(const I of E.getFlattenedFilters())I.field.isKeyField()||("array-contains"===I.op||"array-contains-any"===I.op?y=!0:p=p.add(I.field));for(const E of h.orderBy)E.field.isKeyField()||(p=p.add(E.field));return p.size+(y?1:0)}(s)&&(i=1):i=0})).next(()=>null!==t.limit&&r.length>1&&2===i?1:i)}mn(e,t){const i=new Rw;for(const r of qc(e)){const s=t.data.field(r.fieldPath);if(null==s)return null;const u=i.He(r.kind);gp.Ve._e(s,u)}return i.Qe()}dn(e){const t=new Rw;return gp.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const i=new Rw;return gp.Ve._e(lp(this.databaseId,t),i.He(function(r){const s=qc(r);return 0===s.length?0:s[s.length-1].kind}(e))),i.Qe()}ln(e,t,i){if(null===i)return[];let r=[];r.push(new Rw);let s=0;for(const u of qc(e)){const h=i[s++];for(const p of r)if(this.yn(t,u.fieldPath)&&mw(h))r=this.pn(r,u,h);else{const y=p.He(u.kind);gp.Ve._e(h,y)}}return this.In(r)}hn(e,t,i){return this.ln(e,t,i.position)}In(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Qe();return t}pn(e,t,i){const r=[...e],s=[];for(const u of i.arrayValue.values||[])for(const h of r){const p=new Rw;p.seed(h.Qe()),gp.Ve._e(u,p.He(t.kind)),s.push(p)}return s}yn(e,t){return!!e.filters.find(i=>i instanceof On&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=LI(e),r=Pw(e);return(t?i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.j()).next(s=>{const u=[];return ce.forEach(s,h=>r.get([h.indexId,this.uid]).next(p=>{u.push(function(y,E){const I=E?new f_(E.sequenceNumber,new Us(pp(E.readTime),new ct(v(E.documentKey)),E.largestBatchId)):f_.empty(),O=y.fields.map(([B,$])=>new op(qi.fromServerFormat(B),$));return new sp(y.indexId,y.collectionGroup,O,I)}(h,p))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const s=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==s?s:yn(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=LI(e),s=Pw(e);return this.Tn(e).next(u=>r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(h=>ce.forEach(h,p=>s.put(fF(p.indexId,this.user,u,i)))))}updateIndexEntries(e,t){const i=new Map;return ce.forEach(t,(r,s)=>{const u=i.get(r.collectionGroup);return(u?ce.resolve(u):this.getFieldIndexes(e,r.collectionGroup)).next(h=>(i.set(r.collectionGroup,h),ce.forEach(h,p=>this.En(e,r,p).next(y=>{const E=this.An(s,p);return y.isEqual(E)?ce.resolve():this.vn(e,s,p,y,E)}))))})}Rn(e,t,i,r){return Ow(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(i,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,i,r){return Ow(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(i,t.key),t.key.path.toArray()])}En(e,t,i){const r=Ow(e);let s=new Ri($d);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.gn(i,t)])},(u,h)=>{s=s.add(new _p(i.indexId,t,h.arrayValue,h.directionalValue))}).next(()=>s)}An(e,t){let i=new Ri($d);const r=this.mn(t,e);if(null==r)return i;const s=h_(t);if(null!=s){const u=e.data.field(s.fieldPath);if(mw(u))for(const h of u.arrayValue.values||[])i=i.add(new _p(t.indexId,e.key,this.dn(h),r))}else i=i.add(new _p(t.indexId,e.key,FI,r));return i}vn(e,t,i,r,s){$e("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const u=[];return function(h,p,y,E,I){const O=h.getIterator(),B=p.getIterator();let $=b_(O),ne=b_(B);for(;$||ne;){let te=!1,Ve=!1;if($&&ne){const ot=y($,ne);ot<0?Ve=!0:ot>0&&(te=!0)}else null!=$?Ve=!0:te=!0;te?(E(ne),ne=b_(B)):Ve?(I($),$=b_(O)):($=b_(O),ne=b_(B))}}(r,s,$d,h=>{u.push(this.Rn(e,t,i,h))},h=>{u.push(this.Pn(e,t,i,h))}),ce.waitFor(u)}Tn(e){let t=1;return Pw(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,s)=>{s.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((u,h)=>$d(u,h)).filter((u,h,p)=>!h||0!==$d(u,p[h-1]));const r=[];r.push(e);for(const u of i){const h=$d(u,e),p=$d(u,t);if(0===h)r[0]=e.Je();else if(h>0&&p<0)r.push(u),r.push(u.Je());else if(p>0)break}r.push(t);const s=[];for(let u=0;u<r.length;u+=2){if(this.bn(r[u],r[u+1]))return[];s.push(IDBKeyRange.bound([r[u].indexId,this.uid,r[u].arrayValue,r[u].directionalValue,FI,[]],[r[u+1].indexId,this.uid,r[u+1].arrayValue,r[u+1].directionalValue,FI,[]]))}return s}bn(e,t){return $d(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(CF)}getMinOffset(e,t){return ce.mapArray(this.cn(t),i=>this.an(e,i).next(r=>r||Tt())).next(CF)}}function wF(n){return dr(n,"collectionParents")}function Ow(n){return dr(n,"indexEntries")}function LI(n){return dr(n,"indexConfiguration")}function Pw(n){return dr(n,"indexState")}function CF(n){Ut(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;aw(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new Us(e.readTime,e.documentKey,t)}const EF={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class vs{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new vs(e,vs.DEFAULT_COLLECTION_PERCENTILE,vs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function DF(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),s=[],u=IDBKeyRange.only(t.batchId);let h=0;const p=i.X({range:u},(E,I,O)=>(h++,O.delete()));s.push(p.next(()=>{Ut(1===h)}));const y=[];for(const E of t.mutations){const I=T(e,E.key.path,t.batchId);s.push(r.delete(I)),y.push(E.key)}return ce.waitFor(s).next(()=>y)}function VI(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Tt();e=n.noDocument}return JSON.stringify(e).length}vs.DEFAULT_COLLECTION_PERCENTILE=10,vs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vs.DEFAULT=new vs(41943040,vs.DEFAULT_COLLECTION_PERCENTILE,vs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vs.DISABLED=new vs(-1,0,0);class BI{constructor(e,t,i,r){this.userId=e,this.serializer=t,this.indexManager=i,this.referenceDelegate=r,this.Vn={}}static de(e,t,i,r){Ut(""!==e.uid);const s=e.isAuthenticated()?e.uid:"";return new BI(s,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Gd(e).X({index:"userMutationsIndex",range:i},(r,s,u)=>{t=!1,u.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const s=k_(e),u=Gd(e);return u.add({}).next(h=>{Ut("number"==typeof h);const p=new Ax(h,t,i,r),y=function(O,B,$){const ne=$.baseMutations.map(Ve=>Aw(O.fe,Ve)),te=$.mutations.map(Ve=>Aw(O.fe,Ve));return{userId:B,batchId:$.batchId,localWriteTimeMs:$.localWriteTime.toMillis(),baseMutations:ne,mutations:te}}(this.serializer,this.userId,p),E=[];let I=new Ri((O,B)=>yn(O.canonicalString(),B.canonicalString()));for(const O of r){const B=T(this.userId,O.key.path,h);I=I.add(O.key.path.popLast()),E.push(u.put(y)),E.push(s.put(B,A))}return I.forEach(O=>{E.push(this.indexManager.addToCollectionParentIndex(e,O))}),e.addOnCommittedListener(()=>{this.Vn[h]=p.keys()}),ce.waitFor(E).next(()=>p)})}lookupMutationBatch(e,t){return Gd(e).get(t).next(i=>i?(Ut(i.userId===this.userId),mp(this.serializer,i)):null)}Sn(e,t){return this.Vn[t]?ce.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.Vn[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let s=null;return Gd(e).X({index:"userMutationsIndex",range:r},(u,h,p)=>{h.userId===this.userId&&(Ut(h.batchId>=i),s=mp(this.serializer,h)),p.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Gd(e).X({index:"userMutationsIndex",range:t,reverse:!0},(r,s,u)=>{i=s.batchId,u.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Gd(e).j("userMutationsIndex",t).next(i=>i.map(r=>mp(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=D(this.userId,t.path),r=IDBKeyRange.lowerBound(i),s=[];return k_(e).X({range:r},(u,h,p)=>{const[y,E,I]=u,O=v(E);if(y===this.userId&&t.path.isEqual(O))return Gd(e).get(I).next(B=>{if(!B)throw Tt();Ut(B.userId===this.userId),s.push(mp(this.serializer,B))});p.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Ri(yn);const r=[];return t.forEach(s=>{const u=D(this.userId,s.path),h=IDBKeyRange.lowerBound(u),p=k_(e).X({range:h},(y,E,I)=>{const[O,B,$]=y,ne=v(B);O===this.userId&&s.path.isEqual(ne)?i=i.add($):I.done()});r.push(p)}),ce.waitFor(r).next(()=>this.Dn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,s=D(this.userId,i),u=IDBKeyRange.lowerBound(s);let h=new Ri(yn);return k_(e).X({range:u},(p,y,E)=>{const[I,O,B]=p,$=v(O);I===this.userId&&i.isPrefixOf($)?$.length===r&&(h=h.add(B)):E.done()}).next(()=>this.Dn(e,h))}Dn(e,t){const i=[],r=[];return t.forEach(s=>{r.push(Gd(e).get(s).next(u=>{if(null===u)throw Tt();Ut(u.userId===this.userId),i.push(mp(this.serializer,u))}))}),ce.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return DF(e.ht,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),ce.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ce.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return k_(e).X({range:i},(s,u,h)=>{if(s[0]===this.userId){const p=v(s[1]);r.push(p)}else h.done()}).next(()=>{Ut(0===r.length)})})}containsKey(e,t){return IF(e,this.userId,t)}xn(e){return TF(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function IF(n,e,t){const i=D(e,t.path),r=i[1],s=IDBKeyRange.lowerBound(i);let u=!1;return k_(n).X({range:s,Y:!0},(h,p,y)=>{const[E,I,O]=h;E===e&&I===r&&(u=!0),y.done()}).next(()=>u)}function Gd(n){return dr(n,"mutations")}function k_(n){return dr(n,"documentMutations")}function TF(n){return dr(n,"mutationQueues")}class yp{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new yp(0)}static Mn(){return new yp(-1)}}class qz{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const i=new yp(t.highestTargetId);return t.highestTargetId=i.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>Vt.fromTimestamp(new ki(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.$n(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.On(e,r)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(i=>(i.targetCount+=1,this.Bn(t,i),this.On(e,i))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>R_(e).delete(t.targetId)).next(()=>this.$n(e)).next(i=>(Ut(i.targetCount>0),i.targetCount-=1,this.On(e,i)))}removeTargets(e,t,i){let r=0;const s=[];return R_(e).X((u,h)=>{const p=xw(h);p.sequenceNumber<=t&&null===i.get(p.targetId)&&(r++,s.push(this.removeTargetData(e,p)))}).next(()=>ce.waitFor(s)).next(()=>r)}forEachTarget(e,t){return R_(e).X((i,r)=>{const s=xw(r);t(s)})}$n(e){return SF(e).get("targetGlobalKey").next(t=>(Ut(null!==t),t))}On(e,t){return SF(e).put("targetGlobalKey",t)}Fn(e,t){return R_(e).put(dF(this.serializer,t))}Bn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const i=cp(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let s=null;return R_(e).X({range:r,index:"queryTargetsIndex"},(u,h,p)=>{const y=xw(h);_w(t,y.target)&&(s=y,p.done())}).next(()=>s)}addMatchingKeys(e,t,i){const r=[],s=qd(e);return t.forEach(u=>{const h=d(u.path);r.push(s.put({targetId:i,path:h})),r.push(this.referenceDelegate.addReference(e,i,u))}),ce.waitFor(r)}removeMatchingKeys(e,t,i){const r=qd(e);return ce.forEach(t,s=>{const u=d(s.path);return ce.waitFor([r.delete([i,u]),this.referenceDelegate.removeReference(e,i,s)])})}removeMatchingKeysForTargetId(e,t){const i=qd(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=qd(e);let s=Cn();return r.X({range:i,Y:!0},(u,h,p)=>{const y=v(u[1]),E=new ct(y);s=s.add(E)}).next(()=>s)}containsKey(e,t){const i=d(t.path),r=IDBKeyRange.bound([i],[ux(i)],!1,!0);let s=0;return qd(e).X({index:"documentTargetsIndex",Y:!0,range:r},([u,h],p,y)=>{0!==u&&(s++,y.done())}).next(()=>s>0)}le(e,t){return R_(e).get(t).next(i=>i?xw(i):null)}}function R_(n){return dr(n,"targets")}function SF(n){return dr(n,"targetGlobal")}function qd(n){return dr(n,"targetDocuments")}function MF([n,e],[t,i]){const r=yn(n,t);return 0===r?yn(e,i):r}class Wz{constructor(e){this.Ln=e,this.buffer=new Ri(MF),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();MF(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class AF{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;$e("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,be.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){Wc(i)?$e("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Rl(i)}yield t.Qn(3e5)}))}}class Zz{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return ce.resolve(ro.ct);const i=new Wz(t);return this.jn.forEachTarget(e,r=>i.Kn(r.sequenceNumber)).next(()=>this.jn.Wn(e,r=>i.Kn(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.jn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?($e("LruGarbageCollector","Garbage collection skipped; disabled"),ce.resolve(EF)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?($e("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),EF):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let i,r,s,u,h,p,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?($e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),r=this.params.maximumSequenceNumbersToCollect):r=I,u=Date.now(),this.nthSequenceNumber(e,r))).next(I=>(i=I,h=Date.now(),this.removeTargets(e,i,t))).next(I=>(s=I,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(I=>(y=Date.now(),hI()<=Fa.in.DEBUG&&$e("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-E}ms\n\tDetermined least recently used ${r} in `+(h-u)+`ms\n\tRemoved ${s} targets in `+(p-h)+`ms\n\tRemoved ${I} documents in `+(y-p)+`ms\nTotal Duration: ${y-E}ms`),ce.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:I})))}}class Yz{constructor(e,t){this.db=e,this.garbageCollector=function xF(n,e){return new Zz(n,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}Jn(e){let t=0;return this.Wn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(i,r)=>t(r))}addReference(e,t,i){return UI(e,i)}removeReference(e,t,i){return UI(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return UI(e,t)}Xn(e,t){return function(i,r){let s=!1;return TF(i).Z(u=>IF(i,u,r).next(h=>(h&&(s=!0),ce.resolve(!h)))).next(()=>s)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let s=0;return this.Yn(e,(u,h)=>{if(h<=t){const p=this.Xn(e,u).next(y=>{if(!y)return s++,i.getEntry(e,u).next(()=>(i.removeEntry(u,Vt.min()),qd(e).delete([0,d(u.path)])))});r.push(p)}}).next(()=>ce.waitFor(r)).next(()=>i.apply(e)).next(()=>s)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return UI(e,t)}Yn(e,t){const i=qd(e);let r,s=ro.ct;return i.X({index:"documentTargetsIndex"},([u,h],{path:p,sequenceNumber:y})=>{0===u?(s!==ro.ct&&t(new ct(v(r)),s),s=y,r=p):s=ro.ct}).next(()=>{s!==ro.ct&&t(new ct(v(r)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function UI(n,e){return qd(n).put((i=n.currentSequenceNumber,{targetId:0,path:d(e.path),sequenceNumber:i}));var i}class kF{constructor(){this.changes=new Qc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Oi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?ce.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Kz{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return vp(e).put(i)}removeEntry(e,t,i){return vp(e).delete(function(r,s){const u=r.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],OI(s),u[u.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.Zn(e,i)))}getEntry(e,t){let i=Oi.newInvalidDocument(t);return vp(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Nw(t))},(r,s)=>{i=this.ts(t,s)}).next(()=>i)}es(e,t){let i={size:0,document:Oi.newInvalidDocument(t)};return vp(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Nw(t))},(r,s)=>{i={document:this.ts(t,s),size:VI(s)}}).next(()=>i)}getEntries(e,t){let i=oo();return this.ns(e,t,(r,s)=>{const u=this.ts(r,s);i=i.insert(r,u)}).next(()=>i)}ss(e,t){let i=oo(),r=new Ii(ct.comparator);return this.ns(e,t,(s,u)=>{const h=this.ts(s,u);i=i.insert(s,h),r=r.insert(s,VI(u))}).next(()=>({documents:i,rs:r}))}ns(e,t,i){if(t.isEmpty())return ce.resolve();let r=new Ri(NF);t.forEach(p=>r=r.add(p));const s=IDBKeyRange.bound(Nw(r.first()),Nw(r.last())),u=r.getIterator();let h=u.getNext();return vp(e).X({index:"documentKeyIndex",range:s},(p,y,E)=>{const I=ct.fromSegments([...y.prefixPath,y.collectionGroup,y.documentId]);for(;h&&NF(h,I)<0;)i(h,null),h=u.getNext();h&&h.isEqual(I)&&(i(h,y),h=u.hasNext()?u.getNext():null),h?E.G(Nw(h)):E.done()}).next(()=>{for(;h;)i(h,null),h=u.hasNext()?u.getNext():null})}getDocumentsMatchingQuery(e,t,i,r){const s=t.path,u=[s.popLast().toArray(),s.lastSegment(),OI(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],h=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return vp(e).j(IDBKeyRange.bound(u,h,!0)).next(p=>{let y=oo();for(const E of p){const I=this.ts(ct.fromSegments(E.prefixPath.concat(E.collectionGroup,E.documentId)),E);I.isFoundDocument()&&(vw(t,I)||r.has(I.key))&&(y=y.insert(I.key,I))}return y})}getAllFromCollectionGroup(e,t,i,r){let s=oo();const u=PF(t,i),h=PF(t,Us.max());return vp(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,h,!0)},(p,y,E)=>{const I=this.ts(ct.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);s=s.insert(I.key,I),s.size===r&&E.done()}).next(()=>s)}newChangeBuffer(e){return new Qz(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return OF(e).get("remoteDocumentGlobalKey").next(t=>(Ut(!!t),t))}Zn(e,t){return OF(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const i=function Fz(n,e){let t;if(e.document)t=iF(n.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=ct.fromSegments(e.noDocument.path),r=pp(e.noDocument.readTime);t=Oi.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Tt();{const i=ct.fromSegments(e.unknownDocument.path),r=pp(e.unknownDocument.version);t=Oi.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(i){const r=new ki(i[0],i[1]);return Vt.fromTimestamp(r)}(e.readTime)),t}(this.serializer,t);if(!i.isNoDocument()||!i.version.isEqual(Vt.min()))return i}return Oi.newInvalidDocument(e)}}function RF(n){return new Kz(n)}class Qz extends kF{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new Qc(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new Ri((s,u)=>yn(s.canonicalString(),u.canonicalString()));return this.changes.forEach((s,u)=>{const h=this.us.get(s);if(t.push(this.os.removeEntry(e,s,h.readTime)),u.isValidDocument()){const p=uF(this.os.serializer,u);r=r.add(s.path.popLast()),i+=VI(p)-h.size,t.push(this.os.addEntry(e,s,p))}else if(i-=h.size,this.trackRemovals){const p=uF(this.os.serializer,u.convertToNoDocument(Vt.min()));t.push(this.os.addEntry(e,s,p))}}),r.forEach(s=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,s))}),t.push(this.os.updateMetadata(e,i)),ce.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(i=>(this.us.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:i,rs:r})=>(r.forEach((s,u)=>{this.us.set(s,{size:u,readTime:i.get(s).readTime})}),i))}}function OF(n){return dr(n,"remoteDocumentGlobal")}function vp(n){return dr(n,"remoteDocumentsV14")}function Nw(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function PF(n,e){const t=e.documentKey.path.toArray();return[n,OI(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function NF(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let s=0;s<t.length-2&&s<i.length-2;++s)if(r=yn(t[s],i[s]),r)return r;return r=yn(t.length,i.length),r||(r=yn(t[t.length-2],i[i.length-2]),r||yn(t[t.length-1],i[i.length-1]))}class Xz{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class FF{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(null!==i&&Ew(i.mutation,r,so.empty(),ki.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Cn()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Cn()){const r=Pl();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(s=>{let u=bw();return s.forEach((h,p)=>{u=u.insert(h,p.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const i=Pl();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Cn()))}populateOverlays(e,t,i){const r=[];return i.forEach(s=>{t.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((u,h)=>{t.set(u,h)})})}computeViews(e,t,i,r){let s=oo();const u=ww(),h=ww();return t.forEach((p,y)=>{const E=i.get(y.key);r.has(y.key)&&(void 0===E||E.mutation instanceof Xc)?s=s.insert(y.key,y):void 0!==E?(u.set(y.key,E.mutation.getFieldMask()),Ew(E.mutation,y,E.mutation.getFieldMask(),ki.now())):u.set(y.key,so.empty())}),this.recalculateAndSaveOverlays(e,s).next(p=>(p.forEach((y,E)=>u.set(y,E)),t.forEach((y,E)=>{var I;return h.set(y,new Xz(E,null!==(I=u.get(y))&&void 0!==I?I:null))}),h))}recalculateAndSaveOverlays(e,t){const i=ww();let r=new Ii((u,h)=>u-h),s=Cn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const h of u)h.keys().forEach(p=>{const y=t.get(p);if(null===y)return;let E=i.get(p)||so.empty();E=h.applyToLocalView(y,E),i.set(p,E);const I=(r.get(h.batchId)||Cn()).add(p);r=r.insert(h.batchId,I)})}).next(()=>{const u=[],h=r.getReverseIterator();for(;h.hasNext();){const p=h.getNext(),y=p.key,E=p.value,I=MN();E.forEach(O=>{if(!s.has(O)){const B=LN(t.get(O),i.get(O));null!==B&&I.set(O,B),s=s.add(O)}}),u.push(this.documentOverlayCache.saveOverlays(e,y,I))}return ce.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return ct.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Dx(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var r}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(s=>{const u=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-s.size):ce.resolve(Pl());let h=-1,p=s;return u.next(y=>ce.forEach(y,(E,I)=>(h<I.largestBatchId&&(h=I.largestBatchId),s.get(E)?ce.resolve():this.remoteDocumentCache.getEntry(e,E).next(O=>{p=p.insert(E,O)}))).next(()=>this.populateOverlays(e,y,s)).next(()=>this.computeViews(e,p,y,Cn())).next(E=>({batchId:h,changes:SN(E)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ct(t)).next(i=>{let r=bw();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const r=t.collectionGroup;let s=bw();return this.indexManager.getCollectionParents(e,r).next(u=>ce.forEach(u,h=>{const p=(y=t,E=h.child(r),new Kc(E,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt));var y,E;return this.getDocumentsMatchingCollectionQuery(e,p,i).next(y=>{y.forEach((E,I)=>{s=s.insert(E,I)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,i){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(s=>(r=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,r))).next(s=>{r.forEach((h,p)=>{const y=p.getKey();null===s.get(y)&&(s=s.insert(y,Oi.newInvalidDocument(y)))});let u=bw();return s.forEach((h,p)=>{const y=r.get(h);void 0!==y&&Ew(y.mutation,p,so.empty(),ki.now()),vw(t,p)&&(u=u.insert(h,p))}),u})}}class Jz{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return ce.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var i;return this.cs.set(t.id,{id:(i=t).id,version:i.version,createTime:yr(i.createTime)}),ce.resolve()}getNamedQuery(e,t){return ce.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(i=t).name,query:Bx(i.bundledQuery),readTime:yr(i.readTime)}),ce.resolve();var i}}class ej{constructor(){this.overlays=new Ii(ct.comparator),this.ls=new Map}getOverlay(e,t){return ce.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Pl();return ce.forEach(t,r=>this.getOverlay(e,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,s)=>{this.we(e,t,s)}),ce.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.ls.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(i)),ce.resolve()}getOverlaysForCollection(e,t,i){const r=Pl(),s=t.length+1,u=new ct(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const p=h.getNext().value,y=p.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===s&&p.largestBatchId>i&&r.set(p.getKey(),p)}return ce.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let s=new Ii((y,E)=>y-E);const u=this.overlays.getIterator();for(;u.hasNext();){const y=u.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>i){let E=s.get(y.largestBatchId);null===E&&(E=Pl(),s=s.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const h=Pl(),p=s.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,E)=>h.set(y,E)),!(h.size()>=r)););return ce.resolve(h)}we(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const u=this.ls.get(r.largestBatchId).delete(i.key);this.ls.set(r.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new kx(t,i));let s=this.ls.get(t);void 0===s&&(s=Cn(),this.ls.set(t,s)),this.ls.set(t,s.add(i.key))}}class qx{constructor(){this.fs=new Ri(Yr.ds),this.ws=new Ri(Yr._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const i=new Yr(e,t);this.fs=this.fs.add(i),this.ws=this.ws.add(i)}gs(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.ys(new Yr(e,t))}ps(e,t){e.forEach(i=>this.removeReference(i,t))}Is(e){const t=new ct(new Rn([])),i=new Yr(t,e),r=new Yr(t,e+1),s=[];return this.ws.forEachInRange([i,r],u=>{this.ys(u),s.push(u.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new ct(new Rn([])),i=new Yr(t,e),r=new Yr(t,e+1);let s=Cn();return this.ws.forEachInRange([i,r],u=>{s=s.add(u.key)}),s}containsKey(e){const t=new Yr(e,0),i=this.fs.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Yr{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return ct.comparator(e.key,t.key)||yn(e.As,t.As)}static _s(e,t){return yn(e.As,t.As)||ct.comparator(e.key,t.key)}}class tj{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Ri(Yr.ds)}checkEmpty(e){return ce.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const s=this.vs;this.vs++;const u=new Ax(s,t,i,r);this.mutationQueue.push(u);for(const h of r)this.Rs=this.Rs.add(new Yr(h.key,s)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ce.resolve(u)}lookupMutationBatch(e,t){return ce.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.bs(t+1),s=r<0?0:r;return ce.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Yr(t,0),r=new Yr(t,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([i,r],u=>{const h=this.Ps(u.As);s.push(h)}),ce.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Ri(yn);return t.forEach(r=>{const s=new Yr(r,0),u=new Yr(r,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,u],h=>{i=i.add(h.As)})}),ce.resolve(this.Vs(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let s=i;ct.isDocumentKey(s)||(s=s.child(""));const u=new Yr(new ct(s),0);let h=new Ri(yn);return this.Rs.forEachWhile(p=>{const y=p.key.path;return!!i.isPrefixOf(y)&&(y.length===r&&(h=h.add(p.As)),!0)},u),ce.resolve(this.Vs(h))}Vs(e){const t=[];return e.forEach(i=>{const r=this.Ps(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){Ut(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let i=this.Rs;return ce.forEach(t.mutations,r=>{const s=new Yr(r.key,t.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Rs=i})}Cn(e){}containsKey(e,t){const i=new Yr(t,0),r=this.Rs.firstAfterOrEqual(i);return ce.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return ce.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class nj{constructor(e){this.Ds=e,this.docs=new Ii(ct.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),s=r?r.size:0,u=this.Ds(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ce.resolve(i?i.document.mutableCopy():Oi.newInvalidDocument(t))}getEntries(e,t){let i=oo();return t.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():Oi.newInvalidDocument(r))}),ce.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let s=oo();const u=t.path,h=new ct(u.child("")),p=this.docs.getIteratorFrom(h);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!u.isPrefixOf(y.path))break;y.path.length>u.length+1||aw(p_(E),i)<=0||(r.has(E.key)||vw(t,E))&&(s=s.insert(E.key,E.mutableCopy()))}return ce.resolve(s)}getAllFromCollectionGroup(e,t,i,r){Tt()}Cs(e,t){return ce.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new ij(this)}getSize(e){return ce.resolve(this.size)}}class ij extends kF{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.os.addEntry(e,r)):this.os.removeEntry(i)}),ce.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class rj{constructor(e){this.persistence=e,this.xs=new Qc(t=>cp(t),_w),this.lastRemoteSnapshotVersion=Vt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new qx,this.targetCount=0,this.Ms=yp.kn()}forEachTarget(e,t){return this.xs.forEach((i,r)=>t(r)),ce.resolve()}getLastRemoteSnapshotVersion(e){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ce.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Ns&&(this.Ns=t),ce.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new yp(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,ce.resolve()}updateTargetData(e,t){return this.Fn(t),ce.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,ce.resolve()}removeTargets(e,t,i){let r=0;const s=[];return this.xs.forEach((u,h)=>{h.sequenceNumber<=t&&null===i.get(h.targetId)&&(this.xs.delete(u),s.push(this.removeMatchingKeysForTargetId(e,h.targetId)),r++)}),ce.waitFor(s).next(()=>r)}getTargetCount(e){return ce.resolve(this.targetCount)}getTargetData(e,t){const i=this.xs.get(t)||null;return ce.resolve(i)}addMatchingKeys(e,t,i){return this.ks.gs(t,i),ce.resolve()}removeMatchingKeys(e,t,i){this.ks.ps(t,i);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(u=>{s.push(r.markPotentiallyOrphaned(e,u))}),ce.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),ce.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ks.Es(t);return ce.resolve(i)}containsKey(e,t){return ce.resolve(this.ks.containsKey(t))}}class Wx{constructor(e,t){this.$s={},this.overlays={},this.Os=new ro(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new rj(this),this.indexManager=new $z,this.remoteDocumentCache=new nj(i=>this.referenceDelegate.Ls(i)),this.serializer=new cF(t),this.qs=new Jz(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ej,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.$s[e.toKey()];return i||(i=new tj(t,this.referenceDelegate),this.$s[e.toKey()]=i),i}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,i){$e("MemoryPersistence","Starting transaction:",e);const r=new sj(this.Os.next());return this.referenceDelegate.Us(),i(r).next(s=>this.referenceDelegate.Ks(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Gs(e,t){return ce.or(Object.values(this.$s).map(i=>()=>i.containsKey(e,t)))}}class sj extends px{constructor(e){super(),this.currentSequenceNumber=e}}class HI{constructor(e){this.persistence=e,this.Qs=new qx,this.js=null}static zs(e){return new HI(e)}get Ws(){if(this.js)return this.js;throw Tt()}addReference(e,t,i){return this.Qs.addReference(i,t),this.Ws.delete(i.toString()),ce.resolve()}removeReference(e,t,i){return this.Qs.removeReference(i,t),this.Ws.add(i.toString()),ce.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),ce.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(r=>this.Ws.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(s=>this.Ws.add(s.toString()))}).next(()=>i.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.Ws,i=>{const r=ct.fromPath(i);return this.Hs(e,r).next(s=>{s||t.removeEntry(r,Vt.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(i=>{i?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return ce.or([()=>ce.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class oj{constructor(e){this.serializer=e}O(e,t,i,r){const s=new cw("createOrUpgrade",t);var h;i<1&&r>=1&&(e.createObjectStore("owner"),(h=e).createObjectStore("mutationQueues",{keyPath:"userId"}),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",C,{unique:!0}),h.createObjectStore("documentMutations"),LF(e),function(h){h.createObjectStore("remoteDocuments")}(e));let u=ce.resolve();return i<3&&r>=3&&(0!==i&&(function(h){h.deleteObjectStore("targetDocuments"),h.deleteObjectStore("targets"),h.deleteObjectStore("targetGlobal")}(e),LF(e)),u=u.next(()=>function(h){const p=h.store("targetGlobal"),y={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Vt.min().toTimestamp(),targetCount:0};return p.put("targetGlobalKey",y)}(s))),i<4&&r>=4&&(0!==i&&(u=u.next(()=>function(h,p){return p.store("mutations").j().next(y=>{h.deleteObjectStore("mutations"),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",C,{unique:!0});const E=p.store("mutations"),I=y.map(O=>E.put(O));return ce.waitFor(I)})}(e,s))),u=u.next(()=>{!function(h){h.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(u=u.next(()=>this.Ys(s))),i<6&&r>=6&&(u=u.next(()=>(function(h){h.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(s)))),i<7&&r>=7&&(u=u.next(()=>this.Zs(s))),i<8&&r>=8&&(u=u.next(()=>this.ti(e,s))),i<9&&r>=9&&(u=u.next(()=>{!function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(u=u.next(()=>this.ei(s))),i<11&&r>=11&&(u=u.next(()=>{(function(h){h.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(h){h.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(u=u.next(()=>{!function(h){const p=h.createObjectStore("documentOverlays",{keyPath:Di});p.createIndex("collectionPathOverlayIndex",Zc,{unique:!1}),p.createIndex("collectionGroupOverlayIndex",uw,{unique:!1})}(e)})),i<13&&r>=13&&(u=u.next(()=>function(h){const p=h.createObjectStore("remoteDocumentsV14",{keyPath:L});p.createIndex("documentKeyIndex",K),p.createIndex("collectionGroupIndex",se)}(e)).next(()=>this.ni(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(u=u.next(()=>this.si(e,s))),i<15&&r>=15&&(u=u.next(()=>function(h){h.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),h.createObjectStore("indexState",{keyPath:Wt}).createIndex("sequenceNumberIndex",ze,{unique:!1}),h.createObjectStore("indexEntries",{keyPath:rn}).createIndex("documentKeyIndex",jn,{unique:!1})}(e))),u}Xs(e){let t=0;return e.store("remoteDocuments").X((i,r)=>{t+=VI(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Ys(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.j().next(r=>ce.forEach(r,s=>{const u=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.j("userMutationsIndex",u).next(h=>ce.forEach(h,p=>{Ut(p.userId===s.userId);const y=mp(this.serializer,p);return DF(e,s.userId,y).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const s=[];return i.X((u,h)=>{const p=new Rn(u),y=[0,d(p)];s.push(t.get(y).next(E=>E?ce.resolve():t.put({targetId:0,path:d(p),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>ce.waitFor(s))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:Rt});const i=t.store("collectionParents"),r=new Gx,s=u=>{if(r.add(u)){const h=u.lastSegment(),p=u.popLast();return i.put({collectionId:h,parent:d(p)})}};return t.store("remoteDocuments").X({Y:!0},(u,h)=>{const p=new Rn(u);return s(p.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([u,h,p],y)=>{const E=v(h);return s(E.popLast())}))}ei(e){const t=e.store("targets");return t.X((i,r)=>{const s=xw(r),u=dF(this.serializer,s);return t.put(u)})}ni(e,t){const i=t.store("remoteDocuments"),r=[];return i.X((s,u)=>{const h=t.store("remoteDocumentsV14"),p=(y=u,y.document?new ct(Rn.fromString(y.document.name).popFirst(5)):y.noDocument?ct.fromSegments(y.noDocument.path):y.unknownDocument?ct.fromSegments(y.unknownDocument.path):Tt()).path.toArray();var y;const E={prefixPath:p.slice(0,p.length-2),collectionGroup:p[p.length-2],documentId:p[p.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};r.push(h.put(E))}).next(()=>ce.waitFor(r))}si(e,t){const i=t.store("mutations"),r=RF(this.serializer),s=new Wx(HI.zs,this.serializer.fe);return i.j().next(u=>{const h=new Map;return u.forEach(p=>{var y;let E=null!==(y=h.get(p.userId))&&void 0!==y?y:Cn();mp(this.serializer,p).keys().forEach(I=>E=E.add(I)),h.set(p.userId,E)}),ce.forEach(h,(p,y)=>{const E=new _r(y),I=PI.de(this.serializer,E),O=s.getIndexManager(E),B=BI.de(E,this.serializer,O,s.referenceDelegate);return new FF(r,B,I,O).recalculateAndSaveOverlaysForDocumentKeys(new ap(t,ro.ct),p).next()})})}}function LF(n){n.createObjectStore("targetDocuments",{keyPath:Qe}).createIndex("documentTargetsIndex",ut,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Pe,{unique:!0}),n.createObjectStore("targetGlobal")}const Zx="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Yx{constructor(e,t,i,r,s,u,h,p,y,E,I=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.ii=s,this.window=u,this.document=h,this.ri=y,this.oi=E,this.ui=I,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=O=>Promise.resolve(),!Yx.D())throw new Ue(me.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Yz(this,r),this.di=t+"main",this.serializer=new cF(p),this.wi=new aa(this.di,this.ui,new oj(this.serializer)),this.Bs=new qz(this.referenceDelegate,this.serializer),this.remoteDocumentCache=RF(this.serializer),this.qs=new Lz,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===E&&ir("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ue(me.FAILED_PRECONDITION,Zx);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new ro(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var i=(0,be.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,be.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,be.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>jI(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(Wc(e))return $e("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return $e("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return Fw(e).get("owner").next(t=>ce.resolve(this.Ri(t)))}Pi(e){return jI(e).delete(this.clientId)}bi(){var e=this;return(0,be.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=dr(i,"clientMetadata");return r.j().next(s=>{const u=e.Si(s,18e5),h=s.filter(p=>-1===u.indexOf(p));return ce.forEach(h,p=>r.delete(p.clientId)).next(()=>h)})}).catch(()=>[]);if(e._i)for(const i of t)e._i.removeItem(e.Di(i.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?ce.resolve(!0):Fw(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new Ue(me.FAILED_PRECONDITION,Zx);return!1}}return!(!this.networkEnabled||!this.inForeground)||jI(e).j().next(i=>void 0===this.Si(i,5e3).find(r=>{if(this.clientId!==r.clientId){const u=!this.inForeground&&r.inForeground,h=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||u&&h)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&$e("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,be.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new ap(t,ro.ct);return e.Ai(i).next(()=>e.Pi(i))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(i=>this.Vi(i.updateTimeMs,t)&&!this.Ci(i.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>jI(e).j().next(t=>this.Si(t,18e5).map(i=>i.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return BI.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Gz(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return PI.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,i){$e("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",s=15===(u=this.ui)?hw:14===u?y_:13===u?__:12===u?dw:11===u?g_:void Tt();var u;let h;return this.wi.runTransaction(e,r,s,p=>(h=new ap(p,this.Os?this.Os.next():ro.ct),"readwrite-primary"===t?this.Ti(h).next(y=>!!y||this.Ei(h)).next(y=>{if(!y)throw ir(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Ue(me.FAILED_PRECONDITION,fx);return i(h)}).next(y=>this.vi(h).next(()=>y)):this.Oi(h).next(()=>i(h)))).then(p=>(h.raiseOnCommittedEvent(),p))}Oi(e){return Fw(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ue(me.FAILED_PRECONDITION,Zx)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Fw(e).put("owner",t)}static D(){return aa.D()}Ai(e){const t=Fw(e);return t.get("owner").next(i=>this.Ri(i)?($e("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ce.resolve())}Vi(e,t){const i=Date.now();return!(e<i-t||e>i&&(ir(`Detected an update time that is in the future: ${e} > ${i}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,vn.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const i=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return $e("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return ir("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){ir("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Fw(n){return dr(n,"owner")}function jI(n){return dr(n,"clientMetadata")}function Kx(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class Qx{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Fi=i,this.Bi=r}static Li(e,t){let i=Cn(),r=Cn();for(const s of t.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new Qx(e,t.fromCache,i,r)}}class VF{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,i,r){return this.Ki(e,t).next(s=>s||this.Gi(e,t,r,i)).next(s=>s||this.Qi(e,t))}Ki(e,t){if(CN(t))return ce.resolve(null);let i=Hs(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=SI(t,null,"F"),i=Hs(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const u=Cn(...s);return this.Ui.getDocuments(e,u).next(h=>this.indexManager.getMinOffset(e,i).next(p=>{const y=this.ji(t,h);return this.zi(t,y,u,p.readTime)?this.Ki(e,SI(t,null,"F")):this.Wi(e,y,t,p)}))})))}Gi(e,t,i,r){return CN(t)||r.isEqual(Vt.min())?this.Qi(e,t):this.Ui.getDocuments(e,i).next(s=>{const u=this.ji(t,s);return this.zi(t,u,i,r)?this.Qi(e,t):(hI()<=Fa.in.DEBUG&&$e("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Tx(t)),this.Wi(e,u,t,ow(r,-1)))})}ji(e,t){let i=new Ri(IN(e));return t.forEach((r,s)=>{vw(e,s)&&(i=i.add(s))}),i}zi(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Qi(e,t){return hI()<=Fa.in.DEBUG&&$e("QueryEngine","Using full collection scan to execute query:",Tx(t)),this.Ui.getDocumentsMatchingQuery(e,t,Us.min())}Wi(e,t,i,r){return this.Ui.getDocumentsMatchingQuery(e,i,r).next(s=>(t.forEach(u=>{s=s.insert(u.key,u)}),s))}}class aj{constructor(e,t,i,r){this.persistence=e,this.Hi=t,this.serializer=r,this.Ji=new Ii(yn),this.Yi=new Qc(s=>cp(s),_w),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(i)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new FF(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function BF(n,e,t,i){return new aj(n,e,t,i)}function UF(n,e){return Xx.apply(this,arguments)}function Xx(){return Xx=(0,be.Z)(function*(n,e){const t=_t(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,t.tr(e),t.mutationQueue.getAllMutationBatches(i))).next(s=>{const u=[],h=[];let p=Cn();for(const y of r){u.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of s){h.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return t.localDocuments.getDocuments(i,p).next(y=>({er:y,removedBatchIds:u,addedBatchIds:h}))})})}),Xx.apply(this,arguments)}function lj(n,e){const t=_t(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=t.Zi.newChangeBuffer({trackRemovals:!0});return function(u,h,p,y){const E=p.batch,I=E.keys();let O=ce.resolve();return I.forEach(B=>{O=O.next(()=>y.getEntry(h,B)).next($=>{const ne=p.docVersions.get(B);Ut(null!==ne),$.version.compareTo(ne)<0&&(E.applyToRemoteDocument($,p),$.isValidDocument()&&($.setReadTime(p.commitVersion),y.addEntry($)))})}),O.next(()=>u.mutationQueue.removeMutationBatch(h,E))}(t,i,e,s).next(()=>s.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(u){let h=Cn();for(let p=0;p<u.mutationResults.length;++p)u.mutationResults[p].transformResults.length>0&&(h=h.add(u.batch.mutations[p].key));return h}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function HF(n){const e=_t(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function cj(n,e){const t=_t(n),i=e.snapshotVersion;let r=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const u=t.Zi.newChangeBuffer({trackRemovals:!0});r=t.Ji;const h=[];e.targetChanges.forEach((E,I)=>{const O=r.get(I);if(!O)return;h.push(t.Bs.removeMatchingKeys(s,E.removedDocuments,I).next(()=>t.Bs.addMatchingKeys(s,E.addedDocuments,I)));let B=O.withSequenceNumber(s.currentSequenceNumber);var $,ne,te;null!==e.targetMismatches.get(I)?B=B.withResumeToken(Lr.EMPTY_BYTE_STRING,Vt.min()).withLastLimboFreeSnapshotVersion(Vt.min()):E.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(E.resumeToken,i)),r=r.insert(I,B),ne=B,te=E,(0===($=O).resumeToken.approximateByteSize()||ne.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=3e8||te.addedDocuments.size+te.modifiedDocuments.size+te.removedDocuments.size>0)&&h.push(t.Bs.updateTargetData(s,B))});let p=oo(),y=Cn();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(s,E))}),h.push(zF(s,u,e.documentUpdates).next(E=>{p=E.nr,y=E.sr})),!i.isEqual(Vt.min())){const E=t.Bs.getLastRemoteSnapshotVersion(s).next(I=>t.Bs.setTargetsMetadata(s,s.currentSequenceNumber,i));h.push(E)}return ce.waitFor(h).next(()=>u.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,p,y)).next(()=>p)}).then(s=>(t.Ji=r,s))}function zF(n,e,t){let i=Cn(),r=Cn();return t.forEach(s=>i=i.add(s)),e.getEntries(n,i).next(s=>{let u=oo();return t.forEach((h,p)=>{const y=s.get(h);p.isFoundDocument()!==y.isFoundDocument()&&(r=r.add(h)),p.isNoDocument()&&p.version.isEqual(Vt.min())?(e.removeEntry(h,p.readTime),u=u.insert(h,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||0===p.version.compareTo(y.version)&&y.hasPendingWrites?(e.addEntry(p),u=u.insert(h,p)):$e("LocalStore","Ignoring outdated watch update for ",h,". Current version:",y.version," Watch version:",p.version)}),{nr:u,sr:r}})}function uj(n,e){const t=_t(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function O_(n,e){const t=_t(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Bs.getTargetData(i,e).next(s=>s?(r=s,ce.resolve(r)):t.Bs.allocateTargetId(i).next(u=>(r=new Jc(e,u,"TargetPurposeListen",i.currentSequenceNumber),t.Bs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.Ji.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(i.targetId,i),t.Yi.set(e,i.targetId)),i})}function P_(n,e,t){return Jx.apply(this,arguments)}function Jx(){return Jx=(0,be.Z)(function*(n,e,t){const i=_t(n),r=i.Ji.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",s,u=>i.persistence.referenceDelegate.removeTarget(u,r)))}catch(u){if(!Wc(u))throw u;$e("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}i.Ji=i.Ji.remove(e),i.Yi.delete(r.target)}),Jx.apply(this,arguments)}function $I(n,e,t){const i=_t(n);let r=Vt.min(),s=Cn();return i.persistence.runTransaction("Execute query","readonly",u=>function(h,p,y){const E=_t(h),I=E.Yi.get(y);return void 0!==I?ce.resolve(E.Ji.get(I)):E.Bs.getTargetData(p,y)}(i,u,Hs(e)).next(h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.Bs.getMatchingKeysForTargetId(u,h.targetId).next(p=>{s=p})}).next(()=>i.Hi.getDocumentsMatchingQuery(u,e,t?r:Vt.min(),t?s:Cn())).next(h=>(GF(i,DN(e),h),{documents:h,ir:s})))}function jF(n,e){const t=_t(n),i=_t(t.Bs),r=t.Ji.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",s=>i.le(s,e).next(u=>u?u.target:null))}function $F(n,e){const t=_t(n),i=t.Xi.get(e)||Vt.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.Zi.getAllFromCollectionGroup(r,e,ow(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(GF(t,e,r),r))}function GF(n,e,t){let i=n.Xi.get(e)||Vt.min();t.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.Xi.set(e,i)}function ek(){return ek=(0,be.Z)(function*(n,e,t,i){const r=_t(n);let s=Cn(),u=oo();for(const y of t){const E=e.rr(y.metadata.name);y.document&&(s=s.add(E));const I=e.ur(y);I.setReadTime(e.cr(y.metadata.readTime)),u=u.insert(E,I)}const h=r.Zi.newChangeBuffer({trackRemovals:!0}),p=yield O_(r,(y=i,Hs(D_(Rn.fromString(`__bundle__/docs/${y}`)))));var y;return r.persistence.runTransaction("Apply bundle documents","readwrite",y=>zF(y,h,u).next(E=>(h.apply(y),E)).next(E=>r.Bs.removeMatchingKeysForTargetId(y,p.targetId).next(()=>r.Bs.addMatchingKeys(y,s,p.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(y,E.nr,E.sr)).next(()=>E.nr)))}),ek.apply(this,arguments)}function hj(n,e){return tk.apply(this,arguments)}function tk(){return tk=(0,be.Z)(function*(n,e,t=Cn()){const i=yield O_(n,Hs(Bx(e.bundledQuery))),r=_t(n);return r.persistence.runTransaction("Save named query","readwrite",s=>{const u=yr(e.readTime);if(i.snapshotVersion.compareTo(u)>=0)return r.qs.saveNamedQuery(s,e);const h=i.withResumeToken(Lr.EMPTY_BYTE_STRING,u);return r.Ji=r.Ji.insert(h.targetId,h),r.Bs.updateTargetData(s,h).next(()=>r.Bs.removeMatchingKeysForTargetId(s,i.targetId)).next(()=>r.Bs.addMatchingKeys(s,t,i.targetId)).next(()=>r.qs.saveNamedQuery(s,e))})}),tk.apply(this,arguments)}function qF(n,e){return`firestore_clients_${n}_${e}`}function WF(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function nk(n,e){return`firestore_targets_${n}_${e}`}class GI{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static ar(e,t,i){const r=JSON.parse(i);let s,u="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(s=new Ue(r.error.code,r.error.message))),u?new GI(e,t,r.state,s):(ir("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Lw{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static ar(e,t){const i=JSON.parse(t);let r,s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(r=new Ue(i.error.code,i.error.message))),s?new Lw(e,i.state,r):(ir("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class qI{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,s=Sx();for(let u=0;r&&u<i.activeTargetIds.length;++u)r=c(i.activeTargetIds[u]),s=s.add(i.activeTargetIds[u]);return r?new qI(e,s):(ir("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class ik{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new ik(t.clientId,t.onlineState):(ir("SharedClientState",`Failed to parse online state: ${e}`),null)}}class rk{constructor(){this.activeTargetIds=Sx()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class sk{constructor(e,t,i,r,s){this.window=e,this.ii=t,this.persistenceKey=i,this.wr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new Ii(yn),this.started=!1,this.yr=[];const u=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.pr=qF(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new rk),this.Tr=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(h){return`firestore_bundle_loaded_v2_${h}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,be.Z)(function*(){const t=yield e.syncEngine.$i();for(const r of t){if(r===e.wr)continue;const s=e.getItem(qF(e.persistenceKey,r));if(s){const u=qI.ar(r,s);u&&(e.gr=e.gr.insert(u.clientId,u))}}e.Pr();const i=e.storage.getItem(e.vr);if(i){const r=e.br(i);r&&e.Vr(r)}for(const r of e.yr)e.mr(r);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,i){this.Dr(e,t,i),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(nk(this.persistenceKey,e));if(i){const r=Lw.ar(e,i);r&&(t=r.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(nk(this.persistenceKey,e))}updateQueryState(e,t,i){this.kr(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.Cr(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return $e("SharedClientState","READ",e,t),t}setItem(e,t){$e("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){$e("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const i=e;if(i.storageArea===this.storage){if($e("SharedClientState","EVENT",i.key,i.newValue),i.key===this.pr)return void ir("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,be.Z)(function*(){if(t.started){if(null!==i.key)if(t.Tr.test(i.key)){if(null==i.newValue){const r=t.Or(i.key);return t.Fr(r,null)}{const r=t.Br(i.key,i.newValue);if(r)return t.Fr(r.clientId,r)}}else if(t.Er.test(i.key)){if(null!==i.newValue){const r=t.Lr(i.key,i.newValue);if(r)return t.qr(r)}}else if(t.Ar.test(i.key)){if(null!==i.newValue){const r=t.Ur(i.key,i.newValue);if(r)return t.Kr(r)}}else if(i.key===t.vr){if(null!==i.newValue){const r=t.br(i.newValue);if(r)return t.Vr(r)}}else if(i.key===t.Ir){const r=function(s){let u=ro.ct;if(null!=s)try{const h=JSON.parse(s);Ut("number"==typeof h),u=h}catch(h){ir("SharedClientState","Failed to read sequence number from WebStorage",h)}return u}(i.newValue);r!==ro.ct&&t.sequenceNumberHandler(r)}else if(i.key===t.Rr){const r=t.Gr(i.newValue);yield Promise.all(r.map(s=>t.syncEngine.Qr(s)))}}else t.yr.push(i)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,i){const r=new GI(this.currentUser,e,t,i),s=WF(this.persistenceKey,this.currentUser,e);this.setItem(s,r.hr())}Cr(e){const t=WF(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,i){const r=nk(this.persistenceKey,e),s=new Lw(e,t,i);this.setItem(r,s.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const i=this.Or(e);return qI.ar(i,t)}Lr(e,t){const i=this.Er.exec(e),r=Number(i[1]);return GI.ar(new _r(void 0!==i[2]?i[2]:null),r,t)}Ur(e,t){const i=this.Ar.exec(e),r=Number(i[1]);return Lw.ar(r,t)}br(e){return ik.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,be.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);$e("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const i=t?this.gr.insert(e,t):this.gr.remove(e),r=this.Sr(this.gr),s=this.Sr(i),u=[],h=[];return s.forEach(p=>{r.has(p)||u.push(p)}),r.forEach(p=>{s.has(p)||h.push(p)}),this.syncEngine.Wr(u,h).then(()=>{this.gr=i})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=Sx();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class ZF{constructor(){this.Hr=new rk,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,i){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new rk,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class fj{Yr(e){}shutdown(){}}class YF{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){$e("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){$e("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let WI=null;function ok(){return null===WI?WI=268435456+Math.round(2147483648*Math.random()):WI++,"0x"+WI.toString(16)}const pj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class mj{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const bs="WebChannelConnection";class gj extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,i,r,s){const u=ok(),h=this.To(e,t);$e("RestConnection",`Sending RPC '${e}' ${u}:`,h,i);const p={};return this.Eo(p,r,s),this.Ao(e,h,p,i).then(y=>($e("RestConnection",`Received RPC '${e}' ${u}: `,y),y),y=>{throw io("RestConnection",`RPC '${e}' ${u} failed with error: `,y,"url: ",h,"request:",i),y})}vo(e,t,i,r,s,u){return this.Io(e,t,i,r,s)}Eo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+Pd,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,s)=>e[s]=r),i&&i.headers.forEach((r,s)=>e[s]=r)}To(e,t){return`${this.mo}/v1/${t}:${pj[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,i,r){const s=ok();return new Promise((u,h)=>{const p=new u_;p.setWithCredentials(!0),p.listenOnce(lI.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case c_.NO_ERROR:const E=p.getResponseJson();$e(bs,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(E)),u(E);break;case c_.TIMEOUT:$e(bs,`RPC '${e}' ${s} timed out`),h(new Ue(me.DEADLINE_EXCEEDED,"Request time out"));break;case c_.HTTP_ERROR:const I=p.getStatus();if($e(bs,`RPC '${e}' ${s} failed with status:`,I,"response text:",p.getResponseText()),I>0){let O=p.getResponseJson();Array.isArray(O)&&(O=O[0]);const B=O?.error;if(B&&B.status&&B.message){const $=function(ne){const te=ne.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(te)>=0?te:me.UNKNOWN}(B.status);h(new Ue($,B.message))}else h(new Ue(me.UNKNOWN,"Server responded with status "+p.getStatus()))}else h(new Ue(me.UNAVAILABLE,"Connection failed."));break;default:Tt()}}finally{$e(bs,`RPC '${e}' ${s} completed.`)}});const y=JSON.stringify(r);$e(bs,`RPC '${e}' ${s} sending request:`,r),p.send(t,"POST",y,i,15)})}Ro(e,t,i){const r=ok(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=ZP(),h=Jb(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;void 0!==y&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.xmlHttpFactory=new uI({})),this.Eo(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const E=s.join("");$e(bs,`Creating RPC '${e}' stream ${r}: ${E}`,p);const I=u.createWebChannel(E,p);let O=!1,B=!1;const $=new mj({ro:te=>{B?$e(bs,`Not sending because RPC '${e}' stream ${r} is closed:`,te):(O||($e(bs,`Opening RPC '${e}' stream ${r} transport.`),I.open(),O=!0),$e(bs,`RPC '${e}' stream ${r} sending:`,te),I.send(te))},oo:()=>I.close()}),ne=(te,Ve,ot)=>{te.listen(Ve,nt=>{try{ot(nt)}catch(at){setTimeout(()=>{throw at},0)}})};return ne(I,$c.EventType.OPEN,()=>{B||$e(bs,`RPC '${e}' stream ${r} transport opened.`)}),ne(I,$c.EventType.CLOSE,()=>{B||(B=!0,$e(bs,`RPC '${e}' stream ${r} transport closed`),$.wo())}),ne(I,$c.EventType.ERROR,te=>{B||(B=!0,io(bs,`RPC '${e}' stream ${r} transport errored:`,te),$.wo(new Ue(me.UNAVAILABLE,"The operation could not be completed")))}),ne(I,$c.EventType.MESSAGE,te=>{var Ve;if(!B){const ot=te.data[0];Ut(!!ot);const nt=ot,at=nt.error||(null===(Ve=nt[0])||void 0===Ve?void 0:Ve.error);if(at){$e(bs,`RPC '${e}' stream ${r} received error:`,at);const en=at.status;let tn=function(sr){const ws=Tr[sr];if(void 0!==ws)return jN(ws)}(en),Nn=at.message;void 0===tn&&(tn=me.INTERNAL,Nn="Unknown error status: "+en+" with message "+at.message),B=!0,$.wo(new Ue(tn,Nn)),I.close()}else $e(bs,`RPC '${e}' stream ${r} received:`,ot),$._o(ot)}}),ne(h,cI.STAT_EVENT,te=>{te.stat===ew.PROXY?$e(bs,`RPC '${e}' stream ${r} detected buffering proxy`):te.stat===ew.NOPROXY&&$e(bs,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{$.fo()},0),$}}function KF(){return typeof window<"u"?window:null}function ZI(){return typeof document<"u"?document:null}function Vw(n){return new Tz(n,!0)}class ak{constructor(e,t,i=1e3,r=1.5,s=6e4){this.ii=e,this.timerId=t,this.Po=i,this.bo=r,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),i=Math.max(0,Date.now()-this.Co),r=Math.max(0,t-i);r>0&&$e("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class QF{constructor(e,t,i,r,s,u,h,p){this.ii=e,this.$o=i,this.Oo=r,this.connection=s,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=p,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new ak(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,be.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,be.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var i=this;return(0,be.Z)(function*(){i.Ho(),i.Jo(),i.qo.cancel(),i.Fo++,4!==e?i.qo.reset():t&&t.code===me.RESOURCE_EXHAUSTED?(ir(t.toString()),ir("Using maximum backoff delay to prevent overloading the backend."),i.qo.xo()):t&&t.code===me.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Yo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Fo===t&&this.Zo(i,r)},i=>{e(()=>{const r=new Ue(me.UNKNOWN,"Fetching auth token failed: "+i.message);return this.tu(r)})})}Zo(e,t){const i=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{i(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(r=>{i(()=>this.tu(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Go(){var e=this;this.state=5,this.qo.No((0,be.Z)(function*(){e.state=0,e.start()}))}tu(e){return $e("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():($e("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _j extends QF{constructor(e,t,i,r,s,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,u),this.serializer=s}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function Az(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(p=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===p?1:"REMOVE"===p?2:"CURRENT"===p?3:"RESET"===p?4:Tt(),r=e.targetChange.targetIds||[],s=function(p,y){return p.useProto3Json?(Ut(void 0===y||"string"==typeof y),Lr.fromBase64String(y||"")):(Ut(void 0===y||y instanceof Uint8Array),Lr.fromUint8Array(y||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(p){const y=void 0===p.code?me.UNKNOWN:jN(p.code);return new Ue(y,p.message||"")}(u);t=new ZN(i,r,s,h||null)}else if("documentChange"in e){const i=e.documentChange,r=Nl(n,i.document.name),s=yr(i.document.updateTime),u=i.document.createTime?yr(i.document.createTime):Vt.min(),h=new rs({mapValue:{fields:i.document.fields}}),p=Oi.newFoundDocument(r,s,u,h);t=new RI(i.targetIds||[],i.removedTargetIds||[],p.key,p)}else if("documentDelete"in e){const i=e.documentDelete,r=Nl(n,i.document),s=i.readTime?yr(i.readTime):Vt.min(),u=Oi.newNoDocument(r,s);t=new RI([],i.removedTargetIds||[],u.key,u)}else if("documentRemove"in e){const i=e.documentRemove,r=Nl(n,i.document);t=new RI([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return Tt();{const i=e.filter,{count:r=0,unchangedNames:s}=i,u=new bz(r,s);t=new WN(i.targetId,u)}}var p;return t}(this.serializer,e),i=function(r){if(!("targetChange"in r))return Vt.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?Vt.min():s.readTime?yr(s.readTime):Vt.min()}(e);return this.listener.nu(t,i)}su(e){const t={};t.database=Mw(this.serializer),t.addTarget=function(r,s){let u;const h=s.target;if(u=DI(h)?{documents:rF(r,h)}:{query:Vx(r,h)},u.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){u.resumeToken=XN(r,s.resumeToken);const p=Px(r,s.expectedCount);null!==p&&(u.expectedCount=p)}else if(s.snapshotVersion.compareTo(Vt.min())>0){u.readTime=A_(r,s.snapshotVersion.toTimestamp());const p=Px(r,s.expectedCount);null!==p&&(u.expectedCount=p)}return u}(this.serializer,e);const i=function kz(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Tt()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Wo(t)}iu(e){const t={};t.database=Mw(this.serializer),t.removeTarget=e,this.Wo(t)}}class yj extends QF{constructor(e,t,i,r,s,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,u),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Ut(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function xz(n,e){return n&&n.length>0?(Ut(void 0!==e),n.map(t=>function(i,r){let s=yr(i.updateTime?i.updateTime:r);return s.isEqual(Vt.min())&&(s=yr(r)),new gz(s,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=yr(e.commitTime);return this.listener.cu(i,t)}return Ut(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Mw(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>Aw(this.serializer,i))};this.Wo(t)}}class vj extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new Ue(me.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.Io(e,t,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Ue(me.UNKNOWN,r.toString())})}vo(e,t,i,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,u])=>this.connection.vo(e,t,i,s,u,r)).catch(s=>{throw"FirebaseError"===s.name?(s.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ue(me.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class wj{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(ir(t),this.mu=!1):$e("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Cj{constructor(e,t,i,r,s){var u=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(h=>{i.enqueueAndForget((0,be.Z)(function*(){var p;Wd(u)&&($e("RemoteStore","Restarting streams for network reachability change."),yield(p=(0,be.Z)(function*(y){const E=_t(y);E.vu.add(4),yield N_(E),E.bu.set("Unknown"),E.vu.delete(4),yield Bw(E)}),function(y){return p.apply(this,arguments)})(u))}))}),this.bu=new wj(i,r)}}function Bw(n){return ck.apply(this,arguments)}function ck(){return ck=(0,be.Z)(function*(n){if(Wd(n))for(const e of n.Ru)yield e(!0)}),ck.apply(this,arguments)}function N_(n){return uk.apply(this,arguments)}function uk(){return uk=(0,be.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),uk.apply(this,arguments)}function YI(n,e){const t=_t(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),fk(t)?hk(t):L_(t).Ko()&&dk(t,e))}function Uw(n,e){const t=_t(n),i=L_(t);t.Au.delete(e),i.Ko()&&XF(t,e),0===t.Au.size&&(i.Ko()?i.jo():Wd(t)&&t.bu.set("Unknown"))}function dk(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Vt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}L_(n).su(e)}function XF(n,e){n.Vu.qt(e),L_(n).iu(e)}function hk(n){n.Vu=new Cz({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),L_(n).start(),n.bu.gu()}function fk(n){return Wd(n)&&!L_(n).Uo()&&n.Au.size>0}function Wd(n){return 0===_t(n).vu.size}function JF(n){n.Vu=void 0}function Ej(n){return pk.apply(this,arguments)}function pk(){return pk=(0,be.Z)(function*(n){n.Au.forEach((e,t)=>{dk(n,e)})}),pk.apply(this,arguments)}function Dj(n,e){return mk.apply(this,arguments)}function mk(){return mk=(0,be.Z)(function*(n,e){JF(n),fk(n)?(n.bu.Iu(e),hk(n)):n.bu.set("Unknown")}),mk.apply(this,arguments)}function Ij(n,e,t){return gk.apply(this,arguments)}function gk(){return gk=(0,be.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof ZN&&2===e.state&&e.cause)try{yield(i=(0,be.Z)(function*(r,s){const u=s.cause;for(const h of s.targetIds)r.Au.has(h)&&(yield r.remoteSyncer.rejectListen(h,u),r.Au.delete(h),r.Vu.removeTarget(h))}),function(r,s){return i.apply(this,arguments)})(n,e)}catch(i){$e("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield KI(n,i)}else if(e instanceof RI?n.Vu.Ht(e):e instanceof WN?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(Vt.min()))try{const i=yield HF(n.localStore);t.compareTo(i)>=0&&(yield function(r,s){const u=r.Vu.ce(s);return u.targetChanges.forEach((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const y=r.Au.get(p);y&&r.Au.set(p,y.withResumeToken(h.resumeToken,s))}}),u.targetMismatches.forEach((h,p)=>{const y=r.Au.get(h);if(!y)return;r.Au.set(h,y.withResumeToken(Lr.EMPTY_BYTE_STRING,y.snapshotVersion)),XF(r,h);const E=new Jc(y.target,h,p,y.sequenceNumber);dk(r,E)}),r.remoteSyncer.applyRemoteEvent(u)}(n,t))}catch(i){$e("RemoteStore","Failed to raise snapshot:",i),yield KI(n,i)}var i}),gk.apply(this,arguments)}function KI(n,e,t){return _k.apply(this,arguments)}function _k(){return _k=(0,be.Z)(function*(n,e,t){if(!Wc(e))throw e;n.vu.add(1),yield N_(n),n.bu.set("Offline"),t||(t=()=>HF(n.localStore)),n.asyncQueue.enqueueRetryable((0,be.Z)(function*(){$e("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield Bw(n)}))}),_k.apply(this,arguments)}function eL(n,e){return e().catch(t=>KI(n,t,e))}function F_(n){return yk.apply(this,arguments)}function yk(){return yk=(0,be.Z)(function*(n){const e=_t(n),t=Zd(e);let i=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;Tj(e);)try{const r=yield uj(e.localStore,i);if(null===r){0===e.Eu.length&&t.jo();break}i=r.batchId,Sj(e,r)}catch(r){yield KI(e,r)}tL(e)&&nL(e)}),yk.apply(this,arguments)}function Tj(n){return Wd(n)&&n.Eu.length<10}function Sj(n,e){n.Eu.push(e);const t=Zd(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function tL(n){return Wd(n)&&!Zd(n).Uo()&&n.Eu.length>0}function nL(n){Zd(n).start()}function Mj(n){return vk.apply(this,arguments)}function vk(){return vk=(0,be.Z)(function*(n){Zd(n).hu()}),vk.apply(this,arguments)}function Aj(n){return bk.apply(this,arguments)}function bk(){return bk=(0,be.Z)(function*(n){const e=Zd(n);for(const t of n.Eu)e.uu(t.mutations)}),bk.apply(this,arguments)}function xj(n,e,t){return wk.apply(this,arguments)}function wk(){return wk=(0,be.Z)(function*(n,e,t){const i=n.Eu.shift(),r=xx.from(i,e,t);yield eL(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield F_(n)}),wk.apply(this,arguments)}function kj(n,e){return Ck.apply(this,arguments)}function Ck(){return Ck=(0,be.Z)(function*(n,e){var t;e&&Zd(n).ou&&(yield(t=(0,be.Z)(function*(i,r){if(zN(s=r.code)&&s!==me.ABORTED){const u=i.Eu.shift();Zd(i).Qo(),yield eL(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,r)),yield F_(i)}var s}),function(i,r){return t.apply(this,arguments)})(n,e)),tL(n)&&nL(n)}),Ck.apply(this,arguments)}function iL(n,e){return Ek.apply(this,arguments)}function Ek(){return Ek=(0,be.Z)(function*(n,e){const t=_t(n);t.asyncQueue.verifyOperationInProgress(),$e("RemoteStore","RemoteStore received new credentials");const i=Wd(t);t.vu.add(3),yield N_(t),i&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield Bw(t)}),Ek.apply(this,arguments)}function Dk(n,e){return Ik.apply(this,arguments)}function Ik(){return Ik=(0,be.Z)(function*(n,e){const t=_t(n);e?(t.vu.delete(2),yield Bw(t)):e||(t.vu.add(2),yield N_(t),t.bu.set("Unknown"))}),Ik.apply(this,arguments)}function L_(n){return n.Su||(n.Su=function(e,t,i){const r=_t(e);return r.fu(),new _j(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:Ej.bind(null,n),ao:Dj.bind(null,n),nu:Ij.bind(null,n)}),n.Ru.push(function(){var e=(0,be.Z)(function*(t){t?(n.Su.Qo(),fk(n)?hk(n):n.bu.set("Unknown")):(yield n.Su.stop(),JF(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function Zd(n){return n.Du||(n.Du=function(e,t,i){const r=_t(e);return r.fu(),new yj(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:Mj.bind(null,n),ao:kj.bind(null,n),au:Aj.bind(null,n),cu:xj.bind(null,n)}),n.Ru.push(function(){var e=(0,be.Z)(function*(t){t?(n.Du.Qo(),yield F_(n)):(yield n.Du.stop(),n.Eu.length>0&&($e("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class Tk{constructor(e,t,i,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Gi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(e,t,i,r,s){const u=Date.now()+i,h=new Tk(e,t,u,r,s);return h.start(i),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ue(me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function V_(n,e){if(ir("AsyncQueue",`${e}: ${n}`),Wc(n))return new Ue(me.UNAVAILABLE,`${e}: ${n}`);throw n}class B_{constructor(e){this.comparator=e?(t,i)=>e(t,i)||ct.comparator(t.key,i.key):(t,i)=>ct.comparator(t.key,i.key),this.keyedMap=bw(),this.sortedSet=new Ii(this.comparator)}static emptySet(e){return new B_(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof B_)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new B_;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class rL{constructor(){this.Cu=new Ii(ct.comparator)}track(e){const t=e.doc.key,i=this.Cu.get(t);i?0!==e.type&&3===i.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==i.type?this.Cu=this.Cu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Cu=this.Cu.remove(t):1===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):Tt():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,i)=>{e.push(i)}),e}}class U_{constructor(e,t,i,r,s,u,h,p,y){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,t,i,r,s){const u=[];return t.forEach(h=>{u.push({type:0,doc:h})}),new U_(e,t,B_.emptySet(t),u,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yw(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class Rj{constructor(){this.Nu=void 0,this.listeners=[]}}class Oj{constructor(){this.queries=new Qc(e=>EN(e),yw),this.onlineState="Unknown",this.ku=new Set}}function Sk(n,e){return Mk.apply(this,arguments)}function Mk(){return Mk=(0,be.Z)(function*(n,e){const t=_t(n),i=e.query;let r=!1,s=t.queries.get(i);if(s||(r=!0,s=new Rj),r)try{s.Nu=yield t.onListen(i)}catch(u){const h=V_(u,`Initialization of query '${Tx(e.query)}' failed`);return void e.onError(h)}t.queries.set(i,s),s.listeners.push(e),e.Mu(t.onlineState),s.Nu&&e.$u(s.Nu)&&kk(t)}),Mk.apply(this,arguments)}function Ak(n,e){return xk.apply(this,arguments)}function xk(){return xk=(0,be.Z)(function*(n,e){const t=_t(n),i=e.query;let r=!1;const s=t.queries.get(i);if(s){const u=s.listeners.indexOf(e);u>=0&&(s.listeners.splice(u,1),r=0===s.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),xk.apply(this,arguments)}function Pj(n,e){const t=_t(n);let i=!1;for(const r of e){const u=t.queries.get(r.query);if(u){for(const h of u.listeners)h.$u(r)&&(i=!0);u.Nu=r}}i&&kk(t)}function Nj(n,e,t){const i=_t(n),r=i.queries.get(e);if(r)for(const s of r.listeners)s.onError(t);i.queries.delete(e)}function kk(n){n.ku.forEach(e=>{e.next()})}class Rk{constructor(e,t,i){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=i||{}}$u(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new U_(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=U_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class Fj{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class sL{constructor(e){this.serializer=e}rr(e){return Nl(this.serializer,e)}ur(e){return e.metadata.exists?iF(this.serializer,e.document,!1):Oi.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return yr(e)}}class Lj{constructor(e,t,i){this.ju=e,this.localStore=t,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=oL(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const i=Rn.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,i=new sL(this.serializer);for(const r of e)if(r.metadata.queries){const s=i.rr(r.metadata.name);for(const u of r.metadata.queries){const h=(t.get(u)||Cn()).add(s);t.set(u,h)}}return t}complete(){var e=this;return(0,be.Z)(function*(){const t=yield function dj(n,e,t,i){return ek.apply(this,arguments)}(e.localStore,new sL(e.serializer),e.documents,e.ju.id),i=e.Wu(e.documents);for(const r of e.queries)yield hj(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function oL(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class aL{constructor(e){this.key=e}}class lL{constructor(e){this.key=e}}class cL{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Cn(),this.mutatedKeys=Cn(),this.tc=IN(e),this.ec=new B_(this.tc)}get nc(){return this.Yu}sc(e,t){const i=t?t.ic:new rL,r=t?t.ec:this.ec;let s=t?t.mutatedKeys:this.mutatedKeys,u=r,h=!1;const p="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,y="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((E,I)=>{const O=r.get(E),B=vw(this.query,I)?I:null,$=!!O&&this.mutatedKeys.has(O.key),ne=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let te=!1;O&&B?O.data.isEqual(B.data)?$!==ne&&(i.track({type:3,doc:B}),te=!0):this.rc(O,B)||(i.track({type:2,doc:B}),te=!0,(p&&this.tc(B,p)>0||y&&this.tc(B,y)<0)&&(h=!0)):!O&&B?(i.track({type:0,doc:B}),te=!0):O&&!B&&(i.track({type:1,doc:O}),te=!0,(p||y)&&(h=!0)),te&&(B?(u=u.add(B),s=ne?s.add(E):s.delete(E)):(u=u.delete(E),s=s.delete(E)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const E="F"===this.query.limitType?u.last():u.first();u=u.delete(E.key),s=s.delete(E.key),i.track({type:1,doc:E})}return{ec:u,ic:i,zi:h,mutatedKeys:s}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((y,E)=>function(I,O){const B=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tt()}};return B(I)-B(O)}(y.type,E.type)||this.tc(y.doc,E.doc)),this.oc(i);const u=t?this.uc():[],h=0===this.Zu.size&&this.current?1:0,p=h!==this.Xu;return this.Xu=h,0!==s.length||p?{snapshot:new U_(this.query,e.ec,r,s,e.mutatedKeys,0===h,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),cc:u}:{cc:u}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new rL,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Cn(),this.ec.forEach(i=>{this.ac(i.key)&&(this.Zu=this.Zu.add(i.key))});const t=[];return e.forEach(i=>{this.Zu.has(i)||t.push(new lL(i))}),this.Zu.forEach(i=>{e.has(i)||t.push(new aL(i))}),t}hc(e){this.Yu=e.ir,this.Zu=Cn();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return U_.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Vj{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class Bj{constructor(e){this.key=e,this.fc=!1}}class Uj{constructor(e,t,i,r,s,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=u,this.dc={},this.wc=new Qc(h=>EN(h),yw),this._c=new Map,this.mc=new Set,this.gc=new Ii(ct.comparator),this.yc=new Map,this.Ic=new qx,this.Tc={},this.Ec=new Map,this.Ac=yp.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function Hj(n,e){return Ok.apply(this,arguments)}function Ok(){return Ok=(0,be.Z)(function*(n,e){const t=nR(n);let i,r;const s=t.wc.get(e);if(s)i=s.targetId,t.sharedClientState.addLocalQueryTarget(i),r=s.view.lc();else{const u=yield O_(t.localStore,Hs(e)),h=t.sharedClientState.addLocalQueryTarget(u.targetId);i=u.targetId,r=yield Pk(t,e,i,"current"===h,u.resumeToken),t.isPrimaryClient&&YI(t.remoteStore,u)}return r}),Ok.apply(this,arguments)}function Pk(n,e,t,i,r){return Nk.apply(this,arguments)}function Nk(){return Nk=(0,be.Z)(function*(n,e,t,i,r){n.Rc=(I,O,B)=>{return($=(0,be.Z)(function*(ne,te,Ve,ot){let nt=te.view.sc(Ve);nt.zi&&(nt=yield $I(ne.localStore,te.query,!1).then(({documents:tn})=>te.view.sc(tn,nt)));const at=ot&&ot.targetChanges.get(te.targetId),en=te.view.applyChanges(nt,ne.isPrimaryClient,at);return Gk(ne,te.targetId,en.cc),en.snapshot}),function(ne,te,Ve,ot){return $.apply(this,arguments)})(n,I,O,B);var $};const s=yield $I(n.localStore,e,!0),u=new cL(e,s.ir),h=u.sc(s.documents),p=Tw.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,r),y=u.applyChanges(h,n.isPrimaryClient,p);Gk(n,t,y.cc);const E=new Vj(e,t,u);return n.wc.set(e,E),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),y.snapshot}),Nk.apply(this,arguments)}function zj(n,e){return Fk.apply(this,arguments)}function Fk(){return Fk=(0,be.Z)(function*(n,e){const t=_t(n),i=t.wc.get(e),r=t._c.get(i.targetId);if(r.length>1)return t._c.set(i.targetId,r.filter(s=>!yw(s,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield P_(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),Uw(t.remoteStore,i.targetId),H_(t,i.targetId)}).catch(Rl))):(H_(t,i.targetId),yield P_(t.localStore,i.targetId,!0))}),Fk.apply(this,arguments)}function Lk(){return Lk=(0,be.Z)(function*(n,e,t){const i=iR(n);try{const r=yield function(s,u){const h=_t(s),p=ki.now(),y=u.reduce((O,B)=>O.add(B.key),Cn());let E,I;return h.persistence.runTransaction("Locally write mutations","readwrite",O=>{let B=oo(),$=Cn();return h.Zi.getEntries(O,y).next(ne=>{B=ne,B.forEach((te,Ve)=>{Ve.isValidDocument()||($=$.add(te))})}).next(()=>h.localDocuments.getOverlayedDocuments(O,B)).next(ne=>{E=ne;const te=[];for(const Ve of u){const ot=yz(Ve,E.get(Ve.key).overlayedDocument);null!=ot&&te.push(new Xc(Ve.key,ot,cN(ot.value.mapValue),Wi.exists(!0)))}return h.mutationQueue.addMutationBatch(O,p,te,u)}).next(ne=>{I=ne;const te=ne.applyToLocalDocumentSet(E,$);return h.documentOverlayCache.saveOverlays(O,ne.batchId,te)})}).then(()=>({batchId:I.batchId,changes:SN(E)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,u,h){let p=s.Tc[s.currentUser.toKey()];p||(p=new Ii(yn)),p=p.insert(u,h),s.Tc[s.currentUser.toKey()]=p}(i,r.batchId,t),yield eu(i,r.changes),yield F_(i.remoteStore)}catch(r){const s=V_(r,"Failed to persist write");t.reject(s)}}),Lk.apply(this,arguments)}function uL(n,e){return Vk.apply(this,arguments)}function Vk(){return Vk=(0,be.Z)(function*(n,e){const t=_t(n);try{const i=yield cj(t.localStore,e);e.targetChanges.forEach((r,s)=>{const u=t.yc.get(s);u&&(Ut(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?u.fc=!0:r.modifiedDocuments.size>0?Ut(u.fc):r.removedDocuments.size>0&&(Ut(u.fc),u.fc=!1))}),yield eu(t,i,e)}catch(i){yield Rl(i)}}),Vk.apply(this,arguments)}function dL(n,e,t){const i=_t(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.wc.forEach((s,u)=>{const h=u.view.Mu(e);h.snapshot&&r.push(h.snapshot)}),function(s,u){const h=_t(s);h.onlineState=u;let p=!1;h.queries.forEach((y,E)=>{for(const I of E.listeners)I.Mu(u)&&(p=!0)}),p&&kk(h)}(i.eventManager,e),r.length&&i.dc.nu(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function $j(n,e,t){return Bk.apply(this,arguments)}function Bk(){return Bk=(0,be.Z)(function*(n,e,t){const i=_t(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.yc.get(e),s=r&&r.key;if(s){let u=new Ii(ct.comparator);u=u.insert(s,Oi.newNoDocument(s,Vt.min()));const h=Cn().add(s),p=new Iw(Vt.min(),new Map,new Ii(yn),u,h);yield uL(i,p),i.gc=i.gc.remove(s),i.yc.delete(e),qk(i)}else yield P_(i.localStore,e,!1).then(()=>H_(i,e,t)).catch(Rl)}),Bk.apply(this,arguments)}function Gj(n,e){return Uk.apply(this,arguments)}function Uk(){return Uk=(0,be.Z)(function*(n,e){const t=_t(n),i=e.batch.batchId;try{const r=yield lj(t.localStore,e);$k(t,i,null),jk(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield eu(t,r)}catch(r){yield Rl(r)}}),Uk.apply(this,arguments)}function qj(n,e,t){return Hk.apply(this,arguments)}function Hk(){return Hk=(0,be.Z)(function*(n,e,t){const i=_t(n);try{const r=yield function(s,u){const h=_t(s);return h.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let y;return h.mutationQueue.lookupMutationBatch(p,u).next(E=>(Ut(null!==E),y=E.keys(),h.mutationQueue.removeMutationBatch(p,E))).next(()=>h.mutationQueue.performConsistencyCheck(p)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(p,y,u)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y)).next(()=>h.localDocuments.getDocuments(p,y))})}(i.localStore,e);$k(i,e,t),jk(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield eu(i,r)}catch(r){yield Rl(r)}}),Hk.apply(this,arguments)}function zk(){return zk=(0,be.Z)(function*(n,e){const t=_t(n);Wd(t.remoteStore)||$e("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const u=_t(s);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",h=>u.mutationQueue.getHighestUnacknowledgedBatchId(h))}(t.localStore);if(-1===i)return void e.resolve();const r=t.Ec.get(i)||[];r.push(e),t.Ec.set(i,r)}catch(i){const r=V_(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),zk.apply(this,arguments)}function jk(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function $k(n,e,t){const i=_t(n);let r=i.Tc[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(t?s.reject(t):s.resolve(),r=r.remove(e)),i.Tc[i.currentUser.toKey()]=r}}function H_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n._c.get(e))n.wc.delete(i),t&&n.dc.Pc(i,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(i=>{n.Ic.containsKey(i)||hL(n,i)})}function hL(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(Uw(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),qk(n))}function Gk(n,e,t){for(const i of t)i instanceof aL?(n.Ic.addReference(i.key,e),Zj(n,i)):i instanceof lL?($e("SyncEngine","Document no longer in limbo: "+i.key),n.Ic.removeReference(i.key,e),n.Ic.containsKey(i.key)||hL(n,i.key)):Tt()}function Zj(n,e){const t=e.key,i=t.path.canonicalString();n.gc.get(t)||n.mc.has(i)||($e("SyncEngine","New document in limbo: "+t),n.mc.add(i),qk(n))}function qk(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new ct(Rn.fromString(e)),i=n.Ac.next();n.yc.set(i,new Bj(t)),n.gc=n.gc.insert(t,i),YI(n.remoteStore,new Jc(Hs(D_(t.path)),i,"TargetPurposeLimboResolution",ro.ct))}}function eu(n,e,t){return Wk.apply(this,arguments)}function Wk(){return Wk=(0,be.Z)(function*(n,e,t){const i=_t(n),r=[],s=[],u=[];var h;i.wc.isEmpty()||(i.wc.forEach((h,p)=>{u.push(i.Rc(p,e,t).then(y=>{if((y||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(p.targetId,y?.fromCache?"not-current":"current"),y){r.push(y);const E=Qx.Li(p.targetId,y);s.push(E)}}))}),yield Promise.all(u),i.dc.nu(r),yield(h=(0,be.Z)(function*(p,y){const E=_t(p);try{yield E.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>ce.forEach(y,O=>ce.forEach(O.Fi,B=>E.persistence.referenceDelegate.addReference(I,O.targetId,B)).next(()=>ce.forEach(O.Bi,B=>E.persistence.referenceDelegate.removeReference(I,O.targetId,B)))))}catch(I){if(!Wc(I))throw I;$e("LocalStore","Failed to update sequence numbers: "+I)}for(const I of y){const O=I.targetId;if(!I.fromCache){const B=E.Ji.get(O),ne=B.withLastLimboFreeSnapshotVersion(B.snapshotVersion);E.Ji=E.Ji.insert(O,ne)}}}),function(p,y){return h.apply(this,arguments)})(i.localStore,s))}),Wk.apply(this,arguments)}function Yj(n,e){return Zk.apply(this,arguments)}function Zk(){return Zk=(0,be.Z)(function*(n,e){const t=_t(n);if(!t.currentUser.isEqual(e)){$e("SyncEngine","User change. New user:",e.toKey());const i=yield UF(t.localStore,e);t.currentUser=e,(r=t).Ec.forEach(u=>{u.forEach(h=>{h.reject(new Ue(me.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.Ec.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield eu(t,i.er)}var r}),Zk.apply(this,arguments)}function Kj(n,e){const t=_t(n),i=t.yc.get(e);if(i&&i.fc)return Cn().add(i.key);{let r=Cn();const s=t._c.get(e);if(!s)return r;for(const u of s){const h=t.wc.get(u);r=r.unionWith(h.view.nc)}return r}}function Qj(n,e){return Yk.apply(this,arguments)}function Yk(){return Yk=(0,be.Z)(function*(n,e){const t=_t(n),i=yield $I(t.localStore,e.query,!0),r=e.view.hc(i);return t.isPrimaryClient&&Gk(t,e.targetId,r.cc),r}),Yk.apply(this,arguments)}function Xj(n,e){return Kk.apply(this,arguments)}function Kk(){return Kk=(0,be.Z)(function*(n,e){const t=_t(n);return $F(t.localStore,e).then(i=>eu(t,i))}),Kk.apply(this,arguments)}function Jj(n,e,t,i){return Qk.apply(this,arguments)}function Qk(){return Qk=(0,be.Z)(function*(n,e,t,i){const r=_t(n),s=yield function(u,h){const p=_t(u),y=_t(p.mutationQueue);return p.persistence.runTransaction("Lookup mutation documents","readonly",E=>y.Sn(E,h).next(I=>I?p.localDocuments.getDocuments(E,I):ce.resolve(null)))}(r.localStore,e);var h;null!==s?("pending"===t?yield F_(r.remoteStore):"acknowledged"===t||"rejected"===t?($k(r,e,i||null),jk(r,e),h=e,_t(_t(r.localStore).mutationQueue).Cn(h)):Tt(),yield eu(r,s)):$e("SyncEngine","Cannot apply mutation batch with id: "+e)}),Qk.apply(this,arguments)}function Xk(){return Xk=(0,be.Z)(function*(n,e){const t=_t(n);if(nR(t),iR(t),!0===e&&!0!==t.vc){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield fL(t,i.toArray());t.vc=!0,yield Dk(t.remoteStore,!0);for(const s of r)YI(t.remoteStore,s)}else if(!1===e&&!1!==t.vc){const i=[];let r=Promise.resolve();t._c.forEach((s,u)=>{t.sharedClientState.isLocalQueryTarget(u)?i.push(u):r=r.then(()=>(H_(t,u),P_(t.localStore,u,!0))),Uw(t.remoteStore,u)}),yield r,yield fL(t,i),function(s){const u=_t(s);u.yc.forEach((h,p)=>{Uw(u.remoteStore,p)}),u.Ic.Ts(),u.yc=new Map,u.gc=new Ii(ct.comparator)}(t),t.vc=!1,yield Dk(t.remoteStore,!1)}}),Xk.apply(this,arguments)}function fL(n,e,t){return Jk.apply(this,arguments)}function Jk(){return Jk=(0,be.Z)(function*(n,e,t){const i=_t(n),r=[],s=[];for(const u of e){let h;const p=i._c.get(u);if(p&&0!==p.length){h=yield O_(i.localStore,Hs(p[0]));for(const y of p){const E=i.wc.get(y),I=yield Qj(i,E);I.snapshot&&s.push(I.snapshot)}}else{const y=yield jF(i.localStore,u);h=yield O_(i.localStore,y),yield Pk(i,pL(y),u,!1,h.resumeToken)}r.push(h)}return i.dc.nu(s),r}),Jk.apply(this,arguments)}function pL(n){return wN(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function t3(n){const e=_t(n);return _t(_t(e.localStore).persistence).$i()}function n3(n,e,t,i){return eR.apply(this,arguments)}function eR(){return eR=(0,be.Z)(function*(n,e,t,i){const r=_t(n);if(r.vc)return void $e("SyncEngine","Ignoring unexpected query state notification.");const s=r._c.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{const u=yield $F(r.localStore,DN(s[0])),h=Iw.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Lr.EMPTY_BYTE_STRING);yield eu(r,u,h);break}case"rejected":yield P_(r.localStore,e,!0),H_(r,e,i);break;default:Tt()}}),eR.apply(this,arguments)}function r3(n,e,t){return tR.apply(this,arguments)}function tR(){return tR=(0,be.Z)(function*(n,e,t){const i=nR(n);if(i.vc){for(const r of e){if(i._c.has(r)){$e("SyncEngine","Adding an already active target "+r);continue}const s=yield jF(i.localStore,r),u=yield O_(i.localStore,s);yield Pk(i,pL(s),u.targetId,!1,u.resumeToken),YI(i.remoteStore,u)}for(const r of t)i._c.has(r)&&(yield P_(i.localStore,r,!1).then(()=>{Uw(i.remoteStore,r),H_(i,r)}).catch(Rl))}}),tR.apply(this,arguments)}function nR(n){const e=_t(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=uL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Kj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$j.bind(null,e),e.dc.nu=Pj.bind(null,e.eventManager),e.dc.Pc=Nj.bind(null,e.eventManager),e}function iR(n){const e=_t(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Gj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=qj.bind(null,e),e}class Hw{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,be.Z)(function*(){t.serializer=Vw(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return BF(this.persistence,new VF,e.initialUser,this.serializer)}createPersistence(e){return new Wx(HI.zs,this.serializer)}createSharedClientState(e){return new ZF}terminate(){var e=this;return(0,be.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class rR extends Hw{constructor(e,t,i){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,be.Z)(function*(){yield t().call(i,e),yield i.Vc.initialize(i,e),yield iR(i.Vc.syncEngine),yield F_(i.Vc.remoteStore),yield i.persistence.Ii(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return BF(this.persistence,new VF,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new AF(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const i=new JP(t,this.persistence);return new XP(e.asyncQueue,i)}createPersistence(e){const t=Kx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?vs.withCacheSize(this.cacheSizeBytes):vs.DEFAULT;return new Yx(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,KF(),ZI(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new ZF}}class mL extends rR{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,be.Z)(function*(){yield t().call(i,e);const r=i.Vc.syncEngine;i.sharedClientState instanceof sk&&(i.sharedClientState.syncEngine={jr:Jj.bind(null,r),zr:n3.bind(null,r),Wr:r3.bind(null,r),$i:t3.bind(null,r),Qr:Xj.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.Ii(function(){var s=(0,be.Z)(function*(u){yield function e3(n,e){return Xk.apply(this,arguments)}(i.Vc.syncEngine,u),i.gcScheduler&&(u&&!i.gcScheduler.started?i.gcScheduler.start():u||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(u&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():u||i.indexBackfillerScheduler.stop())});return function(u){return s.apply(this,arguments)}}())})()}createSharedClientState(e){const t=KF();if(!sk.D(t))throw new Ue(me.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=Kx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new sk(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class z_{initialize(e,t){var i=this;return(0,be.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>dL(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=Yj.bind(null,i.syncEngine),yield Dk(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Oj}createDatastore(e){const t=Vw(e.databaseInfo.databaseId),i=new gj(e.databaseInfo);return new vj(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,s=h=>dL(this.syncEngine,h,0),u=YF.D()?new YF:new fj,new Cj(t,i,r,s,u);var t,i,r,s,u}createSyncEngine(e,t){return function(i,r,s,u,h,p,y){const E=new Uj(i,r,s,u,h,p);return y&&(E.vc=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,be.Z)(function*(t){const i=_t(t);$e("RemoteStore","RemoteStore shutting down."),i.vu.add(5),yield N_(i),i.Pu.shutdown(),i.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function gL(n,e=10240){let t=0;return{read:()=>(0,be.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,be.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class QI{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):ir("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class a3{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new Gi,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(i=>{i&&i.Qu()?this.metadata.resolve(i.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.Gu)}`))},i=>this.metadata.reject(i))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,be.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,be.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,be.Z)(function*(){const t=yield e.kc();if(null===t)return null;const i=e.xc.decode(t),r=Number(i);isNaN(r)&&e.Mc(`length string (${i}) is not valid number`);const s=yield e.$c(r);return new Fj(JSON.parse(s),t.length+r)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,be.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}$c(e){var t=this;return(0,be.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const i=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,be.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class l3{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,be.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ue(me.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,be.Z)(function*(s,u){const h=_t(s),p=Mw(h.serializer)+"/documents",y={documents:u.map(B=>Sw(h.serializer,B))},E=yield h.vo("BatchGetDocuments",p,y,u.length),I=new Map;E.forEach(B=>{const $=function Mz(n,e){return"found"in e?function(t,i){Ut(!!i.found);const r=Nl(t,i.found.name),s=yr(i.found.updateTime),u=i.found.createTime?yr(i.found.createTime):Vt.min(),h=new rs({mapValue:{fields:i.found.fields}});return Oi.newFoundDocument(r,s,u,h)}(n,e):"missing"in e?function(t,i){Ut(!!i.missing),Ut(!!i.readTime);const r=Nl(t,i.missing),s=yr(i.readTime);return Oi.newNoDocument(r,s)}(n,e):Tt()}(h.serializer,B);I.set($.key.toString(),$)});const O=[];return u.forEach(B=>{const $=I.get(B.toString());Ut(!!$),O.push($)}),O}),function(s,u){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new M_(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,be.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const s=ct.fromPath(r);e.mutations.push(new Mx(s,e.precondition(s)))}),yield(i=(0,be.Z)(function*(r,s){const u=_t(r),h=Mw(u.serializer)+"/documents",p={writes:s.map(y=>Aw(u.serializer,y))};yield u.Io("Commit",h,p)}),function(r,s){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Tt();t=Vt.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new Ue(me.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Vt.min())?Wi.exists(!1):Wi.updateTime(t):Wi.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Vt.min()))throw new Ue(me.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Wi.updateTime(t)}return Wi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class c3{constructor(e,t,i,r,s){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=s,this.Bc=i.maxAttempts,this.qo=new ak(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,be.Z)(function*(){const t=new l3(e.datastore),i=e.qc(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(s=>{e.Uc(s)}))}).catch(r=>{e.Uc(r)})}))}qc(e){try{const t=this.updateFunction(e);return!o(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!zN(t)}return!1}}class u3{constructor(e,t,i,r){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=_r.UNAUTHENTICATED,this.clientId=np.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var u=(0,be.Z)(function*(h){$e("FirestoreClient","Received user=",h.uid),yield s.authCredentialListener(h),s.user=h});return function(h){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(i,u=>($e("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var e=this;return(0,be.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ue(me.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Gi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,be.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=V_(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function XI(n,e){return sR.apply(this,arguments)}function sR(){return sR=(0,be.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),$e("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,be.Z)(function*(s){i.isEqual(s)||(yield UF(e.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),sR.apply(this,arguments)}function oR(n,e){return aR.apply(this,arguments)}function aR(){return aR=(0,be.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield lR(n);$e("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>iL(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>iL(e.remoteStore,s)),n._onlineComponents=e}),aR.apply(this,arguments)}function _L(n){return"FirebaseError"===n.name?n.code===me.FAILED_PRECONDITION||n.code===me.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function lR(n){return cR.apply(this,arguments)}function cR(){return cR=(0,be.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){$e("FirestoreClient","Using user provided OfflineComponentProvider");try{yield XI(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!_L(t))throw t;io("Error using user provided cache. Falling back to memory cache: "+t),yield XI(n,new Hw)}}else $e("FirestoreClient","Using default OfflineComponentProvider"),yield XI(n,new Hw);return n._offlineComponents}),cR.apply(this,arguments)}function JI(n){return uR.apply(this,arguments)}function uR(){return uR=(0,be.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?($e("FirestoreClient","Using user provided OnlineComponentProvider"),yield oR(n,n._uninitializedComponentsProvider._online)):($e("FirestoreClient","Using default OnlineComponentProvider"),yield oR(n,new z_))),n._onlineComponents}),uR.apply(this,arguments)}function yL(n){return lR(n).then(e=>e.persistence)}function eT(n){return lR(n).then(e=>e.localStore)}function vL(n){return JI(n).then(e=>e.remoteStore)}function dR(n){return JI(n).then(e=>e.syncEngine)}function j_(n){return hR.apply(this,arguments)}function hR(){return hR=(0,be.Z)(function*(n){const e=yield JI(n),t=e.eventManager;return t.onListen=Hj.bind(null,e.syncEngine),t.onUnlisten=zj.bind(null,e.syncEngine),t}),hR.apply(this,arguments)}function wL(n,e,t={}){const i=new Gi;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(r,s,u,h,p){const y=new QI({next:I=>{s.enqueueAndForget(()=>Ak(r,E));const O=I.docs.has(u);!O&&I.fromCache?p.reject(new Ue(me.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&I.fromCache&&h&&"server"===h.source?p.reject(new Ue(me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(I)},error:I=>p.reject(I)}),E=new Rk(D_(u.path),y,{includeMetadataChanges:!0,Ku:!0});return Sk(r,E)}(yield j_(n),n.asyncQueue,e,t,i)})),i.promise}function CL(n,e,t={}){const i=new Gi;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(r,s,u,h,p){const y=new QI({next:I=>{s.enqueueAndForget(()=>Ak(r,E)),I.fromCache&&"server"===h.source?p.reject(new Ue(me.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(I)},error:I=>p.reject(I)}),E=new Rk(u,y,{includeMetadataChanges:!0,Ku:!0});return Sk(r,E)}(yield j_(n),n.asyncQueue,e,t,i)})),i.promise}function EL(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const DL=new Map;function fR(n,e,t){if(!t)throw new Ue(me.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function IL(n,e,t,i){if(!0===e&&!0===i)throw new Ue(me.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function TL(n){if(!ct.isDocumentKey(n))throw new Ue(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function SL(n){if(ct.isDocumentKey(n))throw new Ue(me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function tT(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Tt()}function Pn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ue(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=tT(n);throw new Ue(me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function ML(n,e){if(e<=0)throw new Ue(me.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class AL{constructor(e){var t,i;if(void 0===e.host){if(void 0!==e.ssl)throw new Ue(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ue(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}IL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=EL(null!==(i=e.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(r){if(void 0!==r.timeoutSeconds){if(isNaN(r.timeoutSeconds))throw new Ue(me.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ue(me.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ue(me.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zw{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new AL({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ue(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ue(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new AL(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new lx;switch(t.type){case"firstParty":return new iw(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Ue(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=DL.get(e);t&&($e("ComponentProvider","Removing Datastore"),DL.delete(e),t.terminate())}(this),Promise.resolve()}}function xL(n,e,t,i={}){var r;const s=(n=Pn(n,zw))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&io("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${t}`,ssl:!1})),i.mockUserToken){let u,h;if("string"==typeof i.mockUserToken)u=i.mockUserToken,h=_r.MOCK_USER;else{u=(0,vn.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const p=i.mockUserToken.sub||i.mockUserToken.user_id;if(!p)throw new Ue(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new _r(p)}n._authCredentials=new pI(new fI(u,h))}}class Pi{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pi(this.firestore,e,this._key)}}class ss{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new ss(this.firestore,e,this._query)}}class Fl extends ss{constructor(e,t,i){super(e,t,D_(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pi(this.firestore,null,new ct(e))}withConverter(e){return new Fl(this.firestore,e,this._path)}}function pR(n,e,...t){if(n=(0,vn.m9)(n),fR("collection","path",e),n instanceof zw){const i=Rn.fromString(e,...t);return SL(i),new Fl(n,null,i)}{if(!(n instanceof Pi||n instanceof Fl))throw new Ue(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Rn.fromString(e,...t));return SL(i),new Fl(n.firestore,null,i)}}function jw(n,e,...t){if(n=(0,vn.m9)(n),1===arguments.length&&(e=np.A()),fR("doc","path",e),n instanceof zw){const i=Rn.fromString(e,...t);return TL(i),new Pi(n,null,new ct(i))}{if(!(n instanceof Pi||n instanceof Fl))throw new Ue(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Rn.fromString(e,...t));return TL(i),new Pi(n.firestore,n instanceof Fl?n.converter:null,new ct(i))}}function kL(n,e){return n=(0,vn.m9)(n),e=(0,vn.m9)(e),(n instanceof Pi||n instanceof Fl)&&(e instanceof Pi||e instanceof Fl)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function mR(n,e){return n=(0,vn.m9)(n),e=(0,vn.m9)(e),n instanceof ss&&e instanceof ss&&n.firestore===e.firestore&&yw(n._query,e._query)&&n.converter===e.converter}class b3{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new ak(this,"async_queue_retry"),this.Xc=()=>{const t=ZI();t&&$e("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=ZI();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=ZI();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Gi;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,be.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Wc(t))throw t;$e("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(i=>{throw this.Wc=i,this.Hc=!1,ir("INTERNAL UNHANDLED ERROR: ",function(s){let u=s.message||"";return s.stack&&(u=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),u}(i)),i}).then(i=>(this.Hc=!1,i))));return this.Gc=t,t}enqueueAfterDelay(e,t,i){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const r=Tk.createAndSchedule(this,e,t,i,s=>this.na(s));return this.zc.push(r),r}Zc(){this.Wc&&Tt()}verifyOperationInProgress(){}sa(){var e=this;return(0,be.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function gR(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class w3{constructor(){this._progressObserver={},this._taskCompletionResolver=new Gi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Ni extends zw{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new b3,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||RL(this),this._firestoreClient.terminate()}}function E3(n,e){const t="object"==typeof n?n:(0,ji.getApp)(),i="string"==typeof n?n:e||"(default)",r=(0,ji._getProvider)(t,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=(0,vn.P0)("firestore");s&&xL(r,...s)}return r}function vr(n){return n._firestoreClient||RL(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function RL(n){var e,t,i;const r=n._freezeSettings(),s=(h=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new QH(n._databaseId,h,n._persistenceKey,(y=r).host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,EL(y.experimentalLongPollingOptions),y.useFetchStreams));var h,y;n._firestoreClient=new u3(n._authCredentials,n._appCheckCredentials,n._queue,s),(null===(t=r.cache)||void 0===t?void 0:t._offlineComponentProvider)&&(null===(i=r.cache)||void 0===i?void 0:i._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}function OL(n,e,t){const i=new Gi;return n.asyncQueue.enqueue((0,be.Z)(function*(){try{yield XI(n,t),yield oR(n,e),i.resolve()}catch(r){const s=r;if(!_L(s))throw s;io("Error enabling indexeddb cache. Falling back to memory cache: "+s),i.reject(s)}})).then(()=>i.promise)}function PL(n){if(n._initialized||n._terminated)throw new Ue(me.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ll{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ll(Lr.fromBase64String(e))}catch(t){throw new Ue(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ll(Lr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class tu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ue(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class bp{constructor(e){this._methodName=e}}class nT{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ue(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ue(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return yn(this._lat,e._lat)||yn(this._long,e._long)}}const O3=/^__.*__$/;class P3{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new Xc(e,this.data,this.fieldMask,t,this.fieldTransforms):new S_(e,this.data,t,this.fieldTransforms)}}class NL{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Xc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function FL(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tt()}}class iT{constructor(e,t,i,r,s,u){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=u||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new iT(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:i,la:!1});return r.fa(e),r}da(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:i,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return oT(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(FL(this.ca)&&O3.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class N3{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Vw(e)}ya(e,t,i,r=!1){return new iT({ca:e,methodName:t,ga:i,path:qi.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wp(n){const e=n._freezeSettings(),t=Vw(n._databaseId);return new N3(n._databaseId,!!e.ignoreUndefinedProperties,t)}function rT(n,e,t,i,r,s={}){const u=n.ya(s.merge||s.mergeFields?2:0,e,t,r);bR("Data must be an object, but it was:",u,i);const h=BL(i,u);let p,y;if(s.merge)p=new so(u.fieldMask),y=u.fieldTransforms;else if(s.mergeFields){const E=[];for(const I of s.mergeFields){const O=qw(e,I,t);if(!u.contains(O))throw new Ue(me.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);HL(E,O)||E.push(O)}p=new so(E),y=u.fieldTransforms.filter(I=>p.covers(I.field))}else p=null,y=u.fieldTransforms;return new P3(new rs(h),p,y)}class Gw extends bp{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Gw}}function LL(n,e,t){return new iT({ca:3,ga:e.settings.ga,methodName:n._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class _R extends bp{_toFieldTransform(e){return new Cw(e.path,new I_)}isEqual(e){return e instanceof _R}}class F3 extends bp{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=LL(this,e,!0),i=this.pa.map(s=>Cp(s,t)),r=new dp(i);return new Cw(e.path,r)}isEqual(e){return this===e}}class L3 extends bp{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=LL(this,e,!0),i=this.pa.map(s=>Cp(s,t)),r=new hp(i);return new Cw(e.path,r)}isEqual(e){return this===e}}class V3 extends bp{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new T_(e.serializer,kN(e.serializer,this.Ia));return new Cw(e.path,t)}isEqual(e){return this===e}}function yR(n,e,t,i){const r=n.ya(1,e,t);bR("Data must be an object, but it was:",r,i);const s=[],u=rs.empty();Fd(i,(p,y)=>{const E=sT(e,p,t);y=(0,vn.m9)(y);const I=r.da(E);if(y instanceof Gw)s.push(E);else{const O=Cp(y,I);null!=O&&(s.push(E),u.set(E,O))}});const h=new so(s);return new NL(u,h,r.fieldTransforms)}function vR(n,e,t,i,r,s){const u=n.ya(1,e,t),h=[qw(e,i,t)],p=[r];if(s.length%2!=0)throw new Ue(me.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<s.length;O+=2)h.push(qw(e,s[O])),p.push(s[O+1]);const y=[],E=rs.empty();for(let O=h.length-1;O>=0;--O)if(!HL(y,h[O])){const B=h[O];let $=p[O];$=(0,vn.m9)($);const ne=u.da(B);if($ instanceof Gw)y.push(B);else{const te=Cp($,ne);null!=te&&(y.push(B),E.set(B,te))}}const I=new so(y);return new NL(E,I,u.fieldTransforms)}function VL(n,e,t,i=!1){return Cp(t,n.ya(i?4:3,e))}function Cp(n,e){if(UL(n=(0,vn.m9)(n)))return bR("Unsupported field value:",e,n),BL(n,e);if(n instanceof bp)return function(t,i){if(!FL(i.ca))throw i._a(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,i){const r=[];let s=0;for(const u of t){let h=Cp(u,i.wa(s));null==h&&(h={nullValue:"NULL_VALUE"}),r.push(h),s++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,vn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return kN(i.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=ki.fromDate(t);return{timestampValue:A_(i.serializer,r)}}if(t instanceof ki){const r=new ki(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:A_(i.serializer,r)}}if(t instanceof nT)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ll)return{bytesValue:XN(i.serializer,t._byteString)};if(t instanceof Pi){const r=i.databaseId,s=t.firestore._databaseId;if(!s.isEqual(r))throw i._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:Nx(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i._a(`Unsupported field value: ${tT(t)}`)}(n,e)}function BL(n,e){const t={};return eN(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fd(n,(i,r)=>{const s=Cp(r,e.ha(i));null!=s&&(t[i]=s)}),{mapValue:{fields:t}}}function UL(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof ki||n instanceof nT||n instanceof Ll||n instanceof Pi||n instanceof bp)}function bR(n,e,t){if(!UL(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=tT(t);throw e._a("an object"===i?n+" a custom object":n+" "+i)}var i}function qw(n,e,t){if((e=(0,vn.m9)(e))instanceof tu)return e._internalPath;if("string"==typeof e)return sT(n,e);throw oT("Field path arguments must be of type string or ",n,!1,void 0,t)}const B3=new RegExp("[~\\*/\\[\\]]");function sT(n,e,t){if(e.search(B3)>=0)throw oT(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new tu(...e.split("."))._internalPath}catch{throw oT(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function oT(n,e,t,i,r){const s=i&&!i.isEmpty(),u=void 0!==r;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let p="";return(s||u)&&(p+=" (found",s&&(p+=` in field ${i}`),u&&(p+=` in document ${r}`),p+=")"),new Ue(me.INVALID_ARGUMENT,h+n+p)}function HL(n,e){return n.some(t=>t.isEqual(e))}class Ww{constructor(e,t,i,r,s){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Pi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new U3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(aT("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class U3 extends Ww{data(){return super.data()}}function aT(n,e){return"string"==typeof e?sT(n,e):e instanceof tu?e._internalPath:e._delegate._internalPath}function zL(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ue(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class wR{}class Zw extends wR{}function Yd(n,e,...t){let i=[];e instanceof wR&&i.push(e),i=i.concat(t),function(r){const s=r.filter(h=>h instanceof $_).length,u=r.filter(h=>h instanceof Yw).length;if(s>1||s>0&&u>0)throw new Ue(me.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class Yw extends Zw{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Yw(e,t,i)}_apply(e){const t=this._parse(e);return qL(e._query,t),new ss(e.firestore,e.converter,Ix(e._query,t))}_parse(e){const t=wp(e.firestore);return function(r,s,u,h,p,y,E){let I;if(p.isKeyField()){if("array-contains"===y||"array-contains-any"===y)throw new Ue(me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if("in"===y||"not-in"===y){GL(E,y);const O=[];for(const B of E)O.push($L(h,r,B));I={arrayValue:{values:O}}}else I=$L(h,r,E)}else"in"!==y&&"not-in"!==y&&"array-contains-any"!==y||GL(E,y),I=VL(u,"where",E,"in"===y||"not-in"===y);return On.create(p,y,I)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class $_ extends wR{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new $_(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:oi.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,r){let s=i;const u=r.getFlattenedFilters();for(const h of u)qL(s,h),s=Ix(s,h)}(e._query,t),new ss(e.firestore,e.converter,Ix(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class CR extends Zw{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new CR(e,t)}_apply(e){const t=function(i,r,s){if(null!==i.startAt)throw new Ue(me.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Ue(me.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new C_(r,s);return function(h,p){if(null===Ex(h)){const y=TI(h);null!==y&&WL(0,y,p.field)}}(i,u),u}(e._query,this._field,this._direction);return new ss(e.firestore,e.converter,function(i,r){const s=i.explicitOrderBy.concat([r]);return new Kc(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class lT extends Zw{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new lT(e,t,i)}_apply(e){return new ss(e.firestore,e.converter,SI(e._query,this._limit,this._limitType))}}class cT extends Zw{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new cT(e,t,i)}_apply(e){const t=jL(e,this.type,this._docOrFields,this._inclusive);return new ss(e.firestore,e.converter,(r=t,new Kc((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class uT extends Zw{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new uT(e,t,i)}_apply(e){const t=jL(e,this.type,this._docOrFields,this._inclusive);return new ss(e.firestore,e.converter,(r=t,new Kc((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function jL(n,e,t,i){if(t[0]=(0,vn.m9)(t[0]),t[0]instanceof Ww)return function(r,s,u,h,p){if(!h)throw new Ue(me.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const y=[];for(const E of up(r))if(E.field.isKeyField())y.push(lp(s,h.key));else{const I=h.data.field(E.field);if(vI(I))throw new Ue(me.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+E.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===I){const O=E.field.canonicalString();throw new Ue(me.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${O}' (used as the orderBy) does not exist.`)}y.push(I)}return new zd(y,p)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=wp(n.firestore);return function(s,u,h,p,y,E){const I=s.explicitOrderBy;if(y.length>I.length)throw new Ue(me.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const O=[];for(let B=0;B<y.length;B++){const $=y[B];if(I[B].field.isKeyField()){if("string"!=typeof $)throw new Ue(me.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof $}`);if(!Dx(s)&&-1!==$.indexOf("/"))throw new Ue(me.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${$}' contains a slash.`);const ne=s.path.child(Rn.fromString($));if(!ct.isDocumentKey(ne))throw new Ue(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${ne}' is not because it contains an odd number of segments.`);const te=new ct(ne);O.push(lp(u,te))}else{const ne=VL(h,p,$);O.push(ne)}}return new zd(O,E)}(n._query,n.firestore._databaseId,r,e,t,i)}}function $L(n,e,t){if("string"==typeof(t=(0,vn.m9)(t))){if(""===t)throw new Ue(me.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Dx(e)&&-1!==t.indexOf("/"))throw new Ue(me.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Rn.fromString(t));if(!ct.isDocumentKey(i))throw new Ue(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return lp(n,new ct(i))}if(t instanceof Pi)return lp(n,t._key);throw new Ue(me.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${tT(t)}.`)}function GL(n,e){if(!Array.isArray(n)||0===n.length)throw new Ue(me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function qL(n,e){if(e.isInequality()){const i=TI(n),r=e.field;if(null!==i&&!i.isEqual(r))throw new Ue(me.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const s=Ex(n);null!==s&&WL(0,r,s)}const t=function(i,r){for(const s of i)for(const u of s.getFlattenedFilters())if(r.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Ue(me.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function WL(n,e,t){if(!t.isEqual(e))throw new Ue(me.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class ER{convertValue(e,t="none"){switch(Ud(e)){case 0:return null;case 1:return e.booleanValue;case 2:return hr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Yc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Tt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Fd(e,(r,s)=>{i[r]=this.convertValue(s,t)}),i}convertGeoPoint(e){return new nT(hr(e.latitude),hr(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=bI(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(fw(e));default:return null}}convertTimestamp(e){const t=Ld(e);return new ki(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Rn.fromString(e);Ut(lF(i));const r=new Vd(i.get(1),i.get(3)),s=new ct(i.popFirst(5));return r.isEqual(t)||ir(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function dT(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class Y3 extends ER{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ll(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Pi(this.firestore,null,t)}}class Ep{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class nu extends Ww{constructor(e,t,i,r,s,u){super(e,t,i,r,u),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Kw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(aT("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Kw extends nu{data(e={}){return super.data(e)}}class Kd{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Ep(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Kw(this._firestore,this._userDataWriter,i.key,i,new Ep(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ue(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(u=>({type:"added",doc:new Kw(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Ep(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>r||3!==u.type).map(u=>{const h=new Kw(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Ep(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,y=-1;return 0!==u.type&&(p=s.indexOf(u.doc.key),s=s.delete(u.doc.key)),1!==u.type&&(s=s.add(u.doc),y=s.indexOf(u.doc.key)),{type:Q3(u.type),doc:h,oldIndex:p,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Q3(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tt()}}function YL(n,e){return n instanceof nu&&e instanceof nu?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Kd&&e instanceof Kd&&n._firestore===e._firestore&&mR(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Qd extends ER{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ll(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Pi(this.firestore,null,t)}}function DR(n,e,t){n=Pn(n,Pi);const i=Pn(n.firestore,Ni),r=dT(n.converter,e,t);return G_(i,[rT(wp(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,Wi.none())])}function IR(n,e,t,...i){n=Pn(n,Pi);const r=Pn(n.firestore,Ni),s=wp(r);let u;return u="string"==typeof(e=(0,vn.m9)(e))||e instanceof tu?vR(s,"updateDoc",n._key,e,t,i):yR(s,"updateDoc",n._key,e),G_(r,[u.toMutation(n._key,Wi.exists(!0))])}function KL(n){return G_(Pn(n.firestore,Ni),[new M_(n._key,Wi.none())])}function QL(n,e){const t=Pn(n.firestore,Ni),i=jw(n),r=dT(n.converter,e);return G_(t,[rT(wp(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Wi.exists(!1))]).then(()=>i)}function TR(n,...e){var t,i,r;n=(0,vn.m9)(n);let s={includeMetadataChanges:!1},u=0;"object"!=typeof e[u]||gR(e[u])||(s=e[u],u++);const h={includeMetadataChanges:s.includeMetadataChanges};if(gR(e[u])){const I=e[u];e[u]=null===(t=I.next)||void 0===t?void 0:t.bind(I),e[u+1]=null===(i=I.error)||void 0===i?void 0:i.bind(I),e[u+2]=null===(r=I.complete)||void 0===r?void 0:r.bind(I)}let p,y,E;if(n instanceof Pi)y=Pn(n.firestore,Ni),E=D_(n._key.path),p={next:I=>{e[u]&&e[u](SR(y,n,I))},error:e[u+1],complete:e[u+2]};else{const I=Pn(n,ss);y=Pn(I.firestore,Ni),E=I._query;const O=new Qd(y);p={next:B=>{e[u]&&e[u](new Kd(y,O,I,B))},error:e[u+1],complete:e[u+2]},zL(n._query)}return function(I,O,B,$){const ne=new QI($),te=new Rk(O,ne,B);return I.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return Sk(yield j_(I),te)})),()=>{ne.Dc(),I.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return Ak(yield j_(I),te)}))}}(vr(y),E,h,p)}function G_(n,e){return function(t,i){const r=new Gi;return t.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function jj(n,e,t){return Lk.apply(this,arguments)}(yield dR(t),i,r)})),r.promise}(vr(n),e)}function SR(n,e,t){const i=t.docs.get(e._key),r=new Qd(n);return new nu(n,r,e._key,i,new Ep(t.hasPendingWrites,t.fromCache),e.converter)}const f$={maxAttempts:5};class XL{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=wp(e)}set(e,t,i){this._verifyNotCommitted();const r=Xd(e,this._firestore),s=dT(r.converter,t,i),u=rT(this._dataReader,"WriteBatch.set",r._key,s,null!==r.converter,i);return this._mutations.push(u.toMutation(r._key,Wi.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const s=Xd(e,this._firestore);let u;return u="string"==typeof(t=(0,vn.m9)(t))||t instanceof tu?vR(this._dataReader,"WriteBatch.update",s._key,t,i,r):yR(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(u.toMutation(s._key,Wi.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Xd(e,this._firestore);return this._mutations=this._mutations.concat(new M_(t._key,Wi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ue(me.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Xd(n,e){if((n=(0,vn.m9)(n)).firestore!==e)throw new Ue(me.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class p$ extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=wp(e)}get(e){const t=Xd(e,this._firestore),i=new Y3(this._firestore);return this._transaction.lookup([t._key]).then(r=>{if(!r||1!==r.length)return Tt();const s=r[0];if(s.isFoundDocument())return new Ww(this._firestore,i,s.key,s,t.converter);if(s.isNoDocument())return new Ww(this._firestore,i,t._key,null,t.converter);throw Tt()})}set(e,t,i){const r=Xd(e,this._firestore),s=dT(r.converter,t,i),u=rT(this._dataReader,"Transaction.set",r._key,s,null!==r.converter,i);return this._transaction.set(r._key,u),this}update(e,t,i,...r){const s=Xd(e,this._firestore);let u;return u="string"==typeof(t=(0,vn.m9)(t))||t instanceof tu?vR(this._dataReader,"Transaction.update",s._key,t,i,r):yR(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,u),this}delete(e){const t=Xd(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Xd(e,this._firestore),i=new Qd(this._firestore);return super.get(e).then(r=>new nu(this._firestore,i,t._key,r._document,new Ep(!1,!1),t.converter))}}!function(n,e=!0){Pd=ji.SDK_VERSION,(0,ji._registerComponent)(new Nc.wA("firestore",(t,{instanceIdentifier:i,options:r})=>{const s=t.getProvider("app").getImmediate(),u=new Ni(new Gc(t.getProvider("auth-internal")),new cx(t.getProvider("app-check-internal")),function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Ue(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vd(h.options.projectId,p)}(s,i),s);return r=Object.assign({useFetchStreams:e},r),u._setSettings(r),u},"PUBLIC").setMultipleInstances(!0)),(0,ji.registerVersion)(tw,"3.12.0",n),(0,ji.registerVersion)(tw,"3.12.0","esm2017")}();var w$={includeMetadataChanges:!1};function MR(n,e){return void 0===e&&(e=w$),new Vi.y(function(t){return{unsubscribe:TR(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)})}})}function E$(n,e){return void 0===e&&(e={}),function C$(n){return MR(n,{includeMetadataChanges:!0})}(n).pipe((0,Et.U)(function(t){return e2(t,e)}))}function e2(n,e){void 0===e&&(e={});var t=n.data();return!n.exists()||"object"!=typeof t||null===t||e.idField&&(t[e.idField]=n.id),t}function A$(n,e){return void 0===e&&(e={}),function M$(n){return MR(n,{includeMetadataChanges:!0}).pipe((0,Et.U)(function(e){return e.docs}))}(n).pipe((0,Et.U)(function(t){return t.map(function(i){return e2(i,e)})}))}class Qw{constructor(e){return e}}const s2="firestore",kR=new l.OlP("angularfire2.firestore-instances");function R$(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new Qw(i)}}const O$={provide:class x${constructor(){return(0,Pt.vb)(s2)}},deps:[[new l.FiY,kR]]},P$={provide:Qw,useFactory:function k$(n,e){const t=(0,Pt.JM)(s2,n,e);return t&&new Qw(t)},deps:[[new l.FiY,kR],ea]};let N$=(()=>{class n{constructor(){(0,wo.KN)("angularfire",Pt.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[P$,O$]}),n})();function F$(n,...e){return{ngModule:N$,providers:[{provide:kR,useFactory:R$(n),multi:!0,deps:[l.R0b,l.zs3,Pt.HU,gd,[new l.FiY,mi],[new l.FiY,Dl],...e]}]}}const L$=(0,Pt.u3)(A$,!0),V$=(0,Pt.u3)(E$,!0),B$=(0,Pt.u3)(QL,!0),o2=(0,Pt.u3)(pR,!0),U$=(0,Pt.u3)(KL,!0),hT=(0,Pt.u3)(jw,!0),H$=(0,Pt.u3)(E3,!0),z$=(0,Pt.u3)(DR,!0),j$=(0,Pt.u3)(IR,!0),a2="firebasestorage.googleapis.com",l2="storageBucket";class rr extends vn.ZR{constructor(e,t,i=0){super(RR(e),`Firebase Storage: ${t} (${RR(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,rr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return RR(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Ti=(()=>(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(Ti||(Ti={})),Ti))();function RR(n){return"storage/"+n}function OR(){return new rr(Ti.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function PR(n){return new rr(Ti.INVALID_ARGUMENT,n)}function h2(){return new rr(Ti.APP_DELETED,"The Firebase app was deleted.")}function Xw(n,e){return new rr(Ti.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Jw(n){throw new rr(Ti.INTERNAL_ERROR,"Internal error: "+n)}class zs{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=zs.makeFromUrl(e,t)}catch{return new zs(e,"")}if(""===i.path)return i;throw function J$(n){return new rr(Ti.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let i=null;const r="([A-Za-z0-9.\\-_]+)",h=new RegExp("^gs://"+r+"(/(.*))?$","i");function y(at){at.path_=decodeURIComponent(at.path)}const I=t.replace(/[.]/g,"\\."),nt=[{regex:h,indices:{bucket:1,path:3},postModify:function s(at){"/"===at.path.charAt(at.path.length-1)&&(at.path_=at.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${I}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:y},{regex:new RegExp(`^https?://${t===a2?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:y}];for(let at=0;at<nt.length;at++){const en=nt[at],tn=en.regex.exec(e);if(tn){let sr=tn[en.indices.path];sr||(sr=""),i=new zs(tn[en.indices.bucket],sr),en.postModify(i);break}}if(null==i)throw function X$(n){return new rr(Ti.INVALID_URL,"Invalid URL '"+n+"'.")}(e);return i}}class s6{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function fT(n){return"string"==typeof n||n instanceof String}function f2(n){return NR()&&n instanceof Blob}function NR(){return typeof Blob<"u"&&!(0,vn.UG)()}function FR(n,e,t,i){if(i<e)throw PR(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw PR(`Invalid value for '${n}'. Expected ${t} or less.`)}function iu(n,e,t){let i=e;return null==t&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function p2(n){const e=encodeURIComponent;let t="?";for(const i in n)n.hasOwnProperty(i)&&(t=t+(e(i)+"=")+e(n[i])+"&");return t=t.slice(0,-1),t}var Jd=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(Jd||(Jd={})),Jd))();class d6{constructor(e,t,i,r,s,u,h,p,y,E,I,O=!0){this.url_=e,this.method_=t,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=u,this.callback_=h,this.errorCallback_=p,this.timeout_=y,this.progressCallback_=E,this.connectionFactory_=I,this.retry=O,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((B,$)=>{this.resolve_=B,this.reject_=$,this.start_()})}start_(){const t=(i,r)=>{const s=this.resolve_,u=this.reject_,h=r.connection;if(r.wasSuccessCode)try{const p=this.callback_(h,h.getResponse());!function l6(n){return void 0!==n}(p)?s():s(p)}catch(p){u(p)}else if(null!==h){const p=OR();p.serverResponse=h.getErrorText(),u(this.errorCallback_?this.errorCallback_(h,p):p)}else u(r.canceled?this.appDelete_?h2():function u2(){return new rr(Ti.CANCELED,"User canceled the upload/download.")}():function c2(){return new rr(Ti.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?t(0,new pT(!1,null,!0)):this.backoffId_=function o6(n,e,t){let i=1,r=null,s=null,u=!1,h=0;function p(){return 2===h}let y=!1;function E(...te){y||(y=!0,e.apply(null,te))}function I(te){r=setTimeout(()=>{r=null,n(B,p())},te)}function O(){s&&clearTimeout(s)}function B(te,...Ve){if(y)return void O();if(te)return O(),void E.call(null,te,...Ve);if(p()||u)return O(),void E.call(null,te,...Ve);let nt;i<64&&(i*=2),1===h?(h=2,nt=0):nt=1e3*(i+Math.random()),I(nt)}let $=!1;function ne(te){$||($=!0,O(),!y&&(null!==r?(te||(h=2),clearTimeout(r),I(0)):te||(h=1)))}return I(0),s=setTimeout(()=>{u=!0,ne(!0)},t),ne}((i,r)=>{if(r)return void i(!1,new pT(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const u=h=>{null!==this.progressCallback_&&this.progressCallback_(h.loaded,h.lengthComputable?h.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(u),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(u),this.pendingConnection_=null;const h=s.getErrorCode()===Jd.NO_ERROR,p=s.getStatus();if(!h||function m2(n,e){const t=n>=500&&n<600,r=-1!==[408,429].indexOf(n),s=-1!==e.indexOf(n);return t||r||s}(p,this.additionalRetryCodes_)&&this.retry){const E=s.getErrorCode()===Jd.ABORT;return void i(!1,new pT(!1,null,E))}const y=-1!==this.successCodes_.indexOf(p);i(!0,new pT(y,s))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function a6(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class pT{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function y6(...n){const e=function _6(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}if(NR())return new Blob(n);throw new rr(Ti.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}class LR{constructor(e,t){this.data=e,this.contentType=t||null}}function _2(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);i<=127?e.push(i):i<=2047?e.push(192|i>>6,128|63&i):55296==(64512&i)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++t),e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):e.push(239,191,189):56320==(64512&i)?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(e)}function y2(n,e){switch(n){case"base64":{const r=-1!==e.indexOf("-"),s=-1!==e.indexOf("_");if(r||s)throw Xw(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case"base64url":{const r=-1!==e.indexOf("+"),s=-1!==e.indexOf("/");if(r||s)throw Xw(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function b6(n){if(typeof atob>"u")throw function i6(n){return new rr(Ti.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(e)}catch(r){throw r.message.includes("polyfill")?r:Xw(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}class v2{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Xw("data_url","Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;null!=i&&(this.base64=function D6(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}class ru{constructor(e,t){let i=0,r="";f2(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(f2(this.data_)){const r=function v6(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===r?null:new ru(r)}{const i=new Uint8Array(this.data_.buffer,e,t-e);return new ru(i,!0)}}static getBlob(...e){if(NR()){const t=e.map(i=>i instanceof ru?i.data_:i);return new ru(y6.apply(null,t))}{const t=e.map(u=>fT(u)?function g2(n,e){switch(n){case"raw":return new LR(_2(e));case"base64":case"base64url":return new LR(y2(n,e));case"data_url":return new LR(function C6(n){const e=new v2(n);return e.base64?y2("base64",e.rest):function w6(n){let e;try{e=decodeURIComponent(n)}catch{throw Xw("data_url","Malformed data URL.")}return _2(e)}(e.rest)}(e),function E6(n){return new v2(n).contentType}(e))}throw OR()}("raw",u).data:u.data_);let i=0;t.forEach(u=>{i+=u.byteLength});const r=new Uint8Array(i);let s=0;return t.forEach(u=>{for(let h=0;h<u.length;h++)r[s++]=u[h]}),new ru(r,!0)}}uploadData(){return this.data_}}function VR(n){let e;try{e=JSON.parse(n)}catch{return null}return function u6(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function b2(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function S6(n,e){return e}class js{constructor(e,t,i,r){this.server=e,this.local=t||e,this.writable=!!i,this.xform=r||S6}}let mT=null;function e0(){if(mT)return mT;const n=[];n.push(new js("bucket")),n.push(new js("generation")),n.push(new js("metageneration")),n.push(new js("name","fullPath",!0));const t=new js("name");t.xform=function e(s,u){return function M6(n){return!fT(n)||n.length<2?n:b2(n)}(u)},n.push(t);const r=new js("size");return r.xform=function i(s,u){return void 0!==u?Number(u):u},n.push(r),n.push(new js("timeCreated")),n.push(new js("updated")),n.push(new js("md5Hash",null,!0)),n.push(new js("cacheControl",null,!0)),n.push(new js("contentDisposition",null,!0)),n.push(new js("contentEncoding",null,!0)),n.push(new js("contentLanguage",null,!0)),n.push(new js("contentType",null,!0)),n.push(new js("metadata","customMetadata",!0)),mT=n,mT}function w2(n,e,t){const i=VR(e);return null===i?null:function x6(n,e,t){const i={type:"file"},r=t.length;for(let s=0;s<r;s++){const u=t[s];i[u.local]=u.xform(i,e[u.server])}return function A6(n,e){Object.defineProperty(n,"ref",{get:function t(){const s=new zs(n.bucket,n.fullPath);return e._makeStorageReference(s)}})}(i,n),i}(n,i,t)}class Vl{constructor(e,t,i,r){this.url=e,this.method=t,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Bl(n){if(!n)throw OR()}function q_(n){return function e(t,i){let r;return r=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function K$(){return new rr(Ti.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function Y$(){return new rr(Ti.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function Z$(n){return new rr(Ti.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function Q$(n){return new rr(Ti.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):i,r.status=t.getStatus(),r.serverResponse=i.serverResponse,r}}function S2(n,e,t,i,r){const s=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"},p=function h(){let nt="";for(let at=0;at<2;at++)nt+=Math.random().toString().slice(2);return nt}();u["Content-Type"]="multipart/related; boundary="+p;const y=function T2(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=function U6(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),i}(e,i,r),E=function BR(n,e){const t={},i=e.length;for(let r=0;r<i;r++){const s=e[r];s.writable&&(t[s.server]=n[s.local])}return JSON.stringify(t)}(y,t),B=ru.getBlob("--"+p+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+E+"\r\n--"+p+"\r\nContent-Type: "+y.contentType+"\r\n\r\n",i,"\r\n--"+p+"--");if(null===B)throw function d2(){return new rr(Ti.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}();const $={name:y.fullPath},ne=iu(s,n.host,n._protocol),Ve=n.maxUploadRetryTime,ot=new Vl(ne,"POST",function gT(n,e){return function t(i,r){const s=w2(n,r,e);return Bl(null!==s),s}}(n,t),Ve);return ot.urlParams=$,ot.headers=u,ot.body=B.uploadData(),ot.errorHandler=q_(e),ot}class q6 extends class G6{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Jd.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Jd.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Jd.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,r){if(this.sent_)throw Jw("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Jw("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Jw("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Jw("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Jw("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function Ha(){return new q6}class Dp{constructor(e,t){this._service=e,this._location=t instanceof zs?t:zs.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Dp(e,t)}get root(){const e=new zs(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return b2(this._location.path)}get storage(){return this._service}get parent(){const e=function I6(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new zs(this._location.bucket,e);return new Dp(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function r6(n){return new rr(Ti.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function sG(n){n._throwIfRoot("getDownloadURL");const e=function L6(n,e,t){const r=iu(e.fullServerUrl(),n.host,n._protocol),u=n.maxOperationRetryTime,h=new Vl(r,"GET",function N6(n,e){return function t(i,r){const s=w2(n,r,e);return Bl(null!==s),function k6(n,e,t,i){const r=VR(e);if(null===r||!fT(r.downloadTokens))return null;const s=r.downloadTokens;if(0===s.length)return null;const u=encodeURIComponent;return s.split(",").map(y=>{const I=n.fullPath;return iu("/b/"+u(n.bucket)+"/o/"+u(I),t,i)+p2({alt:"media",token:y})})[0]}(s,r,n.host,n._protocol)}}(n,t),u);return h.errorHandler=function t0(n){const e=q_(n);return function t(i,r){let s=e(i,r);return 404===i.getStatus()&&(s=function W$(n){return new rr(Ti.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),s.serverResponse=r.serverResponse,s}}(e),h}(n.storage,n._location,e0());return n.storage.makeRequestWithTokens(e,Ha).then(t=>{if(null===t)throw function n6(){return new rr(Ti.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return t})}function P2(n,e){if(n instanceof jR){const t=n;if(null==t._bucket)throw function e6(){return new rr(Ti.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+l2+"' property when initializing the app?")}();const i=new Dp(t,t._bucket);return null!=e?P2(i,e):i}return void 0!==e?function O2(n,e){const t=function T6(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),i=new zs(n._location.bucket,t);return new Dp(n.storage,i)}(n,e):n}function N2(n,e){const t=e?.[l2];return null==t?null:zs.makeFromBucketSpec(t,n)}class jR{constructor(e,t,i,r,s){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=a2,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?zs.makeFromBucketSpec(r,this._host):N2(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?zs.makeFromBucketSpec(this._url,e):N2(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){FR("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){FR("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,be.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const i=yield t.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,be.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Dp(this,e)}_makeRequest(e,t,i,r,s=!0){if(this._deleted)return new s6(h2());{const u=function g6(n,e,t,i,r,s,u=!0){const h=p2(n.urlParams),p=n.url+h,y=Object.assign({},n.headers);return function p6(n,e){e&&(n["X-Firebase-GMPID"]=e)}(y,e),function h6(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(y,t),function f6(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(y,s),function m6(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(y,i),new d6(p,n.method,y,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,u)}(e,this._appId,i,r,t,this._firebaseVersion,s);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}makeRequestWithTokens(e,t){var i=this;return(0,be.Z)(function*(){const[r,s]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(e,t,r,s).getPromise()})()}}const F2="@firebase/storage",V2="storage";function dG(n,e,t){return function x2(n,e,t){n._throwIfRoot("uploadBytes");const i=S2(n.storage,n._location,e0(),new ru(e,!0),t);return n.storage.makeRequestWithTokens(i,Ha).then(r=>({metadata:r,ref:n}))}(n=(0,vn.m9)(n),e,t)}function hG(n){return sG(n=(0,vn.m9)(n))}function fG(n,e){return function cG(n,e){if(e&&function aG(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof jR)return function lG(n,e){return new Dp(n,e)}(n,e);throw PR("To use ref(service, url), the first argument must be a Storage instance.")}return P2(n,e)}(n=(0,vn.m9)(n),e)}function pG(n=(0,ji.getApp)(),e){n=(0,vn.m9)(n);const i=(0,ji._getProvider)(n,V2).getImmediate({identifier:e}),r=(0,vn.P0)("storage");return r&&function mG(n,e,t,i={}){!function uG(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,vn.Sg)(r,n.app.options.projectId))}(n,e,t,i)}(i,...r),i}function gG(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new jR(t,i,r,e,ji.SDK_VERSION)}!function _G(){(0,ji._registerComponent)(new Nc.wA(V2,gG,"PUBLIC").setMultipleInstances(!0)),(0,ji.registerVersion)(F2,"0.11.2",""),(0,ji.registerVersion)(F2,"0.11.2","esm2017")}();class yT{constructor(e){return e}}const B2="storage",$R=new l.OlP("angularfire2.storage-instances");function bG(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new yT(i)}}const wG={provide:class yG{constructor(){return(0,Pt.vb)(B2)}},deps:[[new l.FiY,$R]]},CG={provide:yT,useFactory:function vG(n,e){const t=(0,Pt.JM)(B2,n,e);return t&&new yT(t)},deps:[[new l.FiY,$R],ea]};let EG=(()=>{class n{constructor(){(0,wo.KN)("angularfire",Pt.q4.full,"gcs")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[CG,wG]}),n})();function DG(n,...e){return{ngModule:EG,providers:[{provide:$R,useFactory:bG(n),multi:!0,deps:[l.R0b,l.zs3,Pt.HU,gd,[new l.FiY,mi],[new l.FiY,Dl],...e]}]}}const IG=(0,Pt.u3)(hG,!0),TG=(0,Pt.u3)(pG,!0),SG=(0,Pt.u3)(fG,!0),MG=(0,Pt.u3)(dG,!0);var vT=P(4986);function GR(){return(0,pr.e)((n,e)=>{let t,i=!1;n.subscribe((0,xi.x)(e,r=>{const s=t;t=r,i&&e.next([s,r]),i=!0}))})}function qR(n,e=Vo.y){return n=n??AG,(0,pr.e)((t,i)=>{let r,s=!0;t.subscribe((0,xi.x)(i,u=>{const h=e(u);(s||!n(r,h))&&(s=!1,r=h,i.next(u))}))})}function AG(n,e){return n===e}var za=P(2011),xG=(P(9568),P(3942));function WR(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ue("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function U2(){if(typeof Uint8Array>"u")throw new Ue("unimplemented","Uint8Arrays are not available in this environment.")}function H2(){if(!function YH(){return typeof atob<"u"}())throw new Ue("unimplemented","Blobs are unavailable in Firestore in this environment.")}class n0{constructor(e){this._delegate=e}static fromBase64String(e){return H2(),new n0(Ll.fromBase64String(e))}static fromUint8Array(e){return U2(),new n0(Ll.fromUint8Array(e))}toBase64(){return H2(),this._delegate.toBase64()}toUint8Array(){return U2(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function ZR(n){return function OG(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class PG{enableIndexedDbPersistence(e,t){return function D3(n,e){PL(n=Pn(n,Ni));const t=vr(n);if(t._uninitializedComponentsProvider)throw new Ue(me.FAILED_PRECONDITION,"SDK cache is already specified.");io("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),r=new z_;return OL(t,r,new rR(r,i.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function I3(n){PL(n=Pn(n,Ni));const e=vr(n);if(e._uninitializedComponentsProvider)throw new Ue(me.FAILED_PRECONDITION,"SDK cache is already specified.");io("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),i=new z_;return OL(e,i,new mL(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function T3(n){if(n._initialized&&!n._terminated)throw new Ue(me.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Gi;return n._queue.enqueueAndForgetEvenWhileRestricted((0,be.Z)(function*(){try{yield(t=(0,be.Z)(function*(i){if(!aa.D())return Promise.resolve();const r=i+"main";yield aa.delete(r)}),function(i){return t.apply(this,arguments)})(Kx(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class z2{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof Vd||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&io("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){xL(this._delegate,e,t,i)}enableNetwork(){return function M3(n){return function d3(n){return n.asyncQueue.enqueue((0,be.Z)(function*(){const e=yield yL(n),t=yield vL(n);return e.setNetworkEnabled(!0),function(i){const r=_t(i);return r.vu.delete(0),Bw(r)}(t)}))}(vr(n=Pn(n,Ni)))}(this._delegate)}disableNetwork(){return function A3(n){return function h3(n){return n.asyncQueue.enqueue((0,be.Z)(function*(){const e=yield yL(n),t=yield vL(n);return e.setNetworkEnabled(!1),(i=(0,be.Z)(function*(r){const s=_t(r);s.vu.add(0),yield N_(s),s.bu.set("Offline")}),function(r){return i.apply(this,arguments)})(t);var i}))}(vr(n=Pn(n,Ni)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,IL("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function S3(n){return function(e){const t=new Gi;return e.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function Wj(n,e){return zk.apply(this,arguments)}(yield dR(e),t)})),t.promise}(vr(n=Pn(n,Ni)))}(this._delegate)}onSnapshotsInSync(e){return function r$(n,e){return function m3(n,e){const t=new QI(e);return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return i=yield j_(n),r=t,_t(i).ku.add(r),void r.next();var i,r})),()=>{t.Dc(),n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return i=yield j_(n),r=t,void _t(i).ku.delete(r);var i,r}))}}(vr(n=Pn(n,Ni)),gR(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ue("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Z_(this,pR(this._delegate,e))}catch(t){throw $s(t,"collection()","Firestore.collection()")}}doc(e){try{return new la(this,jw(this._delegate,e))}catch(t){throw $s(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Gs(this,function v3(n,e){if(n=Pn(n,zw),fR("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ue(me.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ss(n,null,(t=e,new Kc(Rn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw $s(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function m$(n,e,t){n=Pn(n,Ni);const i=Object.assign(Object.assign({},f$),t);return function(r){if(r.maxAttempts<1)throw new Ue(me.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,s,u){const h=new Gi;return r.asyncQueue.enqueueAndForget((0,be.Z)(function*(){const p=yield function bL(n){return JI(n).then(e=>e.datastore)}(r);new c3(r.asyncQueue,p,u,s,h).run()})),h.promise}(vr(n),r=>e(new p$(n,r)),i)}(this._delegate,t=>e(new j2(this,t)))}batch(){return vr(this._delegate),new $2(new XL(this._delegate,e=>G_(this._delegate,e)))}loadBundle(e){return function x3(n,e){const t=vr(n=Pn(n,Ni)),i=new w3;return function g3(n,e,t,i){const r=function(s,u){let h;return h="string"==typeof s?$N().encode(s):s,p=function(p,y){if(p instanceof Uint8Array)return gL(p,y);if(p instanceof ArrayBuffer)return gL(new Uint8Array(p),y);if(p instanceof ReadableStream)return p.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(h),new a3(p,u);var p}(t,Vw(e));n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){!function s3(n,e,t){const i=_t(n);var r;(r=(0,be.Z)(function*(s,u,h){try{const p=yield u.getMetadata();if(yield function(O,B){const $=_t(O),ne=yr(B.createTime);return $.persistence.runTransaction("hasNewerBundle","readonly",te=>$.qs.getBundleMetadata(te,B.id)).then(te=>!!te&&te.createTime.compareTo(ne)>=0)}(s.localStore,p))return yield u.close(),h._completeWith({taskState:"Success",documentsLoaded:(O=p).totalDocuments,bytesLoaded:O.totalBytes,totalDocuments:O.totalDocuments,totalBytes:O.totalBytes}),Promise.resolve(new Set);h._updateProgress(oL(p));const y=new Lj(p,s.localStore,u.serializer);let E=yield u.bc();for(;E;){const O=yield y.zu(E);O&&h._updateProgress(O),E=yield u.bc()}const I=yield y.complete();return yield eu(s,I.Ju,void 0),yield function(O,B){const $=_t(O);return $.persistence.runTransaction("Save bundle","readwrite",ne=>$.qs.saveBundleMetadata(ne,B))}(s.localStore,p),h._completeWith(I.progress),Promise.resolve(I.Hu)}catch(p){return io("SyncEngine",`Loading bundle failed with ${p}`),h._failWith(p),Promise.resolve(new Set)}var O}),function(s,u,h){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield dR(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function k3(n,e){return function _3(n,e){return n.asyncQueue.enqueue((0,be.Z)(function*(){return function(t,i){const r=_t(t);return r.persistence.runTransaction("Get named query","readonly",s=>r.qs.getNamedQuery(s,i))}(yield eT(n),e)}))}(vr(n=Pn(n,Ni)),e).then(t=>t?new ss(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Gs(this,t):null)}}class bT extends ER{constructor(e){super(),this.firestore=e}convertBytes(e){return new n0(new Ll(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return la.forKey(t,this.firestore,null)}}class j2{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new bT(e)}get(e){const t=Tp(e);return this._delegate.get(t).then(i=>new r0(this._firestore,new nu(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=Tp(e);return i?(WR("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const s=Tp(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,i,...r),this}delete(e){const t=Tp(e);return this._delegate.delete(t),this}}class $2{constructor(e){this._delegate=e}set(e,t,i){const r=Tp(e);return i?(WR("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const s=Tp(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,i,...r),this}delete(e){const t=Tp(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Ip{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new Kw(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new s0(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=Ip.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let s=r.get(t);return s||(s=new Ip(e,new bT(e),t),r.set(t,s)),s}}Ip.INSTANCES=new WeakMap;class la{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new bT(e)}static forPath(e,t,i){if(e.length%2!=0)throw new Ue("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new la(t,new Pi(t._delegate,i,new ct(e)))}static forKey(e,t,i){return new la(t,new Pi(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new Z_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Z_(this.firestore,pR(this._delegate,e))}catch(t){throw $s(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,vn.m9)(e))instanceof Pi&&kL(this._delegate,e)}set(e,t){t=WR("DocumentReference.set",t);try{return t?DR(this._delegate,e,t):DR(this._delegate,e)}catch(i){throw $s(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?IR(this._delegate,e):IR(this._delegate,e,t,...i)}catch(r){throw $s(r,"updateDoc()","DocumentReference.update()")}}delete(){return KL(this._delegate)}onSnapshot(...e){const t=G2(e),i=q2(e,r=>new r0(this.firestore,new nu(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return TR(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function J3(n){n=Pn(n,Pi);const e=Pn(n.firestore,Ni),t=vr(e),i=new Qd(e);return function f3(n,e){const t=new Gi;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return(i=(0,be.Z)(function*(r,s,u){try{const h=yield function(p,y){const E=_t(p);return E.persistence.runTransaction("read document","readonly",I=>E.localDocuments.getDocument(I,y))}(r,s);h.isFoundDocument()?u.resolve(h):h.isNoDocument()?u.resolve(null):u.reject(new Ue(me.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const p=V_(h,`Failed to get document '${s} from cache`);u.reject(p)}}),function(r,s,u){return i.apply(this,arguments)})(yield eT(n),e,t);var i})),t.promise}(t,n._key).then(r=>new nu(e,i,n._key,r,new Ep(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function e$(n){n=Pn(n,Pi);const e=Pn(n.firestore,Ni);return wL(vr(e),n._key,{source:"server"}).then(t=>SR(e,n,t))}(this._delegate):function X3(n){n=Pn(n,Pi);const e=Pn(n.firestore,Ni);return wL(vr(e),n._key).then(t=>SR(e,n,t))}(this._delegate),t.then(i=>new r0(this.firestore,new nu(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new la(this.firestore,this._delegate.withConverter(e?Ip.getInstance(this.firestore,e):null))}}function $s(n,e,t){return n.message=n.message.replace(e,t),n}function G2(n){for(const e of n)if("object"==typeof e&&!ZR(e))return e;return{}}function q2(n,e){var t,i;let r;return r=ZR(n[0])?n[0]:ZR(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{r.next&&r.next(e(s))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class r0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new la(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return YL(this._delegate,e._delegate)}}class s0 extends r0{data(e){const t=this._delegate.data(e);return function KP(n,e){n||Tt()}(void 0!==t),t}}class Gs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new bT(e)}where(e,t,i){try{return new Gs(this.firestore,Yd(this._delegate,function H3(n,e,t){const i=e,r=aT("where",n);return Yw._create(r,i,t)}(e,t,i)))}catch(r){throw $s(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Gs(this.firestore,Yd(this._delegate,function z3(n,e="asc"){const t=e,i=aT("orderBy",n);return CR._create(i,t)}(e,t)))}catch(i){throw $s(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Gs(this.firestore,Yd(this._delegate,function j3(n){return ML("limit",n),lT._create("limit",n,"F")}(e)))}catch(t){throw $s(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Gs(this.firestore,Yd(this._delegate,function $3(n){return ML("limitToLast",n),lT._create("limitToLast",n,"L")}(e)))}catch(t){throw $s(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Gs(this.firestore,Yd(this._delegate,function G3(...n){return cT._create("startAt",n,!0)}(...e)))}catch(t){throw $s(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Gs(this.firestore,Yd(this._delegate,function q3(...n){return cT._create("startAfter",n,!1)}(...e)))}catch(t){throw $s(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Gs(this.firestore,Yd(this._delegate,function W3(...n){return uT._create("endBefore",n,!1)}(...e)))}catch(t){throw $s(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Gs(this.firestore,Yd(this._delegate,function Z3(...n){return uT._create("endAt",n,!0)}(...e)))}catch(t){throw $s(t,"endAt()","Query.endAt()")}}isEqual(e){return mR(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function n$(n){n=Pn(n,ss);const e=Pn(n.firestore,Ni),t=vr(e),i=new Qd(e);return function p3(n,e){const t=new Gi;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return(i=(0,be.Z)(function*(r,s,u){try{const h=yield $I(r,s,!0),p=new cL(s,h.ir),y=p.sc(h.documents),E=p.applyChanges(y,!1);u.resolve(E.snapshot)}catch(h){const p=V_(h,`Failed to execute query '${s} against cache`);u.reject(p)}}),function(r,s,u){return i.apply(this,arguments)})(yield eT(n),e,t);var i})),t.promise}(t,n._query).then(r=>new Kd(e,i,n,r))}(this._delegate):"server"===e?.source?function i$(n){n=Pn(n,ss);const e=Pn(n.firestore,Ni),t=vr(e),i=new Qd(e);return CL(t,n._query,{source:"server"}).then(r=>new Kd(e,i,n,r))}(this._delegate):function t$(n){n=Pn(n,ss);const e=Pn(n.firestore,Ni),t=vr(e),i=new Qd(e);return zL(n._query),CL(t,n._query).then(r=>new Kd(e,i,n,r))}(this._delegate),t.then(i=>new YR(this.firestore,new Kd(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=G2(e),i=q2(e,r=>new YR(this.firestore,new Kd(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return TR(this._delegate,t,i)}withConverter(e){return new Gs(this.firestore,this._delegate.withConverter(e?Ip.getInstance(this.firestore,e):null))}}class FG{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new s0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class YR{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Gs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new s0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new FG(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new s0(this._firestore,i))})}isEqual(e){return YL(this._delegate,e._delegate)}}class Z_ extends Gs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new la(this.firestore,e):null}doc(e){try{return new la(this.firestore,void 0===e?jw(this._delegate):jw(this._delegate,e))}catch(t){throw $s(t,"doc()","CollectionReference.doc()")}}add(e){return QL(this._delegate,e).then(t=>new la(this.firestore,t))}isEqual(e){return kL(this._delegate,e._delegate)}withConverter(e){return new Z_(this.firestore,this._delegate.withConverter(e?Ip.getInstance(this.firestore,e):null))}}function Tp(n){return Pn(n,Pi)}class KR{constructor(...e){this._delegate=new tu(...e)}static documentId(){return new KR(qi.keyField().canonicalString())}isEqual(e){return(e=(0,vn.m9)(e))instanceof tu&&this._delegate._internalPath.isEqual(e._internalPath)}}class Sp{constructor(e){this._delegate=e}static serverTimestamp(){const e=function _$(){return new _R("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Sp(e)}static delete(){const e=function g$(){return new Gw("deleteField")}();return e._methodName="FieldValue.delete",new Sp(e)}static arrayUnion(...e){const t=function y$(...n){return new F3("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Sp(t)}static arrayRemove(...e){const t=function v$(...n){return new L3("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Sp(t)}static increment(e){const t=function b$(n){return new V3("increment",n)}(e);return t._methodName="FieldValue.increment",new Sp(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const LG={Firestore:z2,GeoPoint:nT,Timestamp:ki,Blob:n0,Transaction:j2,WriteBatch:$2,DocumentReference:la,DocumentSnapshot:r0,Query:Gs,QueryDocumentSnapshot:s0,QuerySnapshot:YR,CollectionReference:Z_,FieldPath:KR,FieldValue:Sp,setLogLevel:function NG(n){!function YP(n){kl.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function BG(n){(function VG(n,e){n.INTERNAL.registerComponent(new Nc.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},LG)))})(n,(e,t)=>new z2(e,t,new PG)),n.registerVersion("@firebase/firestore-compat","0.3.9")}(xG.Z);var ca=P(6451),wT=P(5363),UG=P(6063);class HG extends Ot.x{constructor(e=1/0,t=1/0,i=UG.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:u}=this;t||(i.push(e),!r&&i.push(s.now()+u)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let u=0;u<s.length&&!e.closed;u+=i?1:2)e.next(s[u]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*e;if(e<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const u=t.now();let h=0;for(let p=1;p<i.length&&i[p]<=u;p+=2)h=p;h&&i.splice(0,h+1)}}}var W2=P(3099);function Z2(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=n??1/0,(0,W2.B)({connector:()=>new HG(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function Y2(n,e){return(0,jr.m)(e)?pi(()=>n,e):pi(()=>n)}var QR=P(9468);P(9260);const K2=new l.OlP("angularfire2.auth.use-emulator"),Q2=new l.OlP("angularfire2.auth.settings"),X2=new l.OlP("angularfire2.auth.tenant-id"),J2=new l.OlP("angularfire2.auth.langugage-code"),eV=new l.OlP("angularfire2.auth.use-device-language"),tV=new l.OlP("angularfire.auth.persistence"),nV=(n,e,t,i,r,s,u,h)=>(0,za.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const p=e.runOutsideAngular(()=>n.auth());if(t&&p.useEmulator(...t),i&&(p.tenantId=i),p.languageCode=r,s&&p.useDeviceLanguage(),u)for(const[y,E]of Object.entries(u))p.settings[y]=E;return h&&p.setPersistence(h),p},[t,i,r,s,u,h]);let XR=(()=>{class n{constructor(t,i,r,s,u,h,p,y,E,I,O,B){const $=new Ot.x,ne=bt(void 0).pipe((0,wT.Q)(u.outsideAngular),pi(()=>s.runOutsideAngular(()=>Promise.resolve().then(P.bind(P,9568)))),(0,Et.U)(()=>(0,za.on)(t,s,i)),(0,Et.U)(te=>nV(te,s,h,y,E,I,p,O)),Z2({bufferSize:1,refCount:!1}));if(Ds(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=bt(null);else{ne.pipe(fo()).subscribe();const Ve=ne.pipe(pi(at=>at.getRedirectResult().then(en=>en,()=>null)),Pt.iC,Z2({bufferSize:1,refCount:!1})),ot=ne.pipe(pi(at=>new Vi.y(en=>({unsubscribe:s.runOutsideAngular(()=>at.onAuthStateChanged(tn=>en.next(tn),tn=>en.error(tn),()=>en.complete()))})))),nt=ne.pipe(pi(at=>new Vi.y(en=>({unsubscribe:s.runOutsideAngular(()=>at.onIdTokenChanged(tn=>en.next(tn),tn=>en.error(tn),()=>en.complete()))}))));this.authState=Ve.pipe(Y2(ot),(0,QR.R)(u.outsideAngular),(0,wT.Q)(u.insideAngular)),this.user=Ve.pipe(Y2(nt),(0,QR.R)(u.outsideAngular),(0,wT.Q)(u.insideAngular)),this.idToken=this.user.pipe(pi(at=>at?(0,Ln.D)(at.getIdToken()):bt(null))),this.idTokenResult=this.user.pipe(pi(at=>at?(0,Ln.D)(at.getIdTokenResult()):bt(null))),this.credential=(0,ca.T)(Ve,$,this.authState.pipe(Ui(at=>!at))).pipe((0,Et.U)(at=>at?.user?at:null),(0,QR.R)(u.outsideAngular),(0,wT.Q)(u.insideAngular))}return(0,za.pX)(this,ne,s,{spy:{apply:(te,Ve,ot)=>{(te.startsWith("signIn")||te.startsWith("createUser"))&&ot.then(nt=>$.next(nt))}}})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(za.Dh),l.LFG(za.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Pt.HU),l.LFG(K2,8),l.LFG(Q2,8),l.LFG(X2,8),l.LFG(J2,8),l.LFG(eV,8),l.LFG(tV,8),l.LFG(Dl,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function iV(n,e){return function jG(n,e=vT.z){return new Vi.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}(n,e)}function JR(n,e){return iV(n,e).pipe((0,Et.U)(t=>({payload:t,type:"query"})))}function CT(n,e){return JR(n,e).pipe(es(void 0),GR(),(0,Et.U)(([t,i])=>{const r=i.payload.docChanges(),s=r.map(u=>({type:u.type,payload:u}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((u,h)=>{const p=r.find(E=>E.doc.ref.isEqual(u.ref)),y=t?.payload.docs.find(E=>E.ref.isEqual(u.ref));p&&JSON.stringify(p.doc.metadata)===JSON.stringify(u.metadata)||!p&&y&&JSON.stringify(y.metadata)===JSON.stringify(u.metadata)||s.push({type:"modified",payload:{oldIndex:h,newIndex:h,type:"modified",doc:u}})}),s}))}function rV(n,e,t){return CT(n,t).pipe(Sa((i,r)=>function GG(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function qG(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return eO(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return eO(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return eO(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(s=>s.payload),e),[]),qR(),(0,Et.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function eO(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function sV(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class oV{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=CT(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Et.U)(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(es(void 0),GR(),Ui(([i,r])=>r.length>0||!i),(0,Et.U)(([i,r])=>r),Pt.iC)}auditTrail(e){return this.stateChanges(e).pipe(Sa((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=sV(e);return rV(this.query,t,this.afs.schedulers.outsideAngular).pipe(Pt.iC)}valueChanges(e={}){return JR(this.query,this.afs.schedulers.outsideAngular).pipe((0,Et.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),Pt.iC)}get(e){return(0,Ln.D)(this.query.get(e)).pipe(Pt.iC)}add(e){return this.ref.add(e)}doc(e){return new aV(this.ref.doc(e),this.afs)}}class aV{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:s}=lV(i,t);return new oV(r,s,this.afs)}snapshotChanges(){return function $G(n,e){return iV(n,e).pipe(es(void 0),GR(),(0,Et.U)(([t,i])=>i.exists?t?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Pt.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Et.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Ln.D)(this.ref.get(e)).pipe(Pt.iC)}}class WG{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?CT(this.query,this.afs.schedulers.outsideAngular).pipe((0,Et.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),Ui(t=>t.length>0),Pt.iC):CT(this.query,this.afs.schedulers.outsideAngular).pipe(Pt.iC)}auditTrail(e){return this.stateChanges(e).pipe(Sa((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=sV(e);return rV(this.query,t,this.afs.schedulers.outsideAngular).pipe(Pt.iC)}valueChanges(e={}){return JR(this.query,this.afs.schedulers.outsideAngular).pipe((0,Et.U)(i=>i.payload.docs.map(r=>e.idField?Object.assign({[e.idField]:r.id},r.data()):r.data())),Pt.iC)}get(e){return(0,Ln.D)(this.query.get(e)).pipe(Pt.iC)}}const ZG=new l.OlP("angularfire2.enableFirestorePersistence"),YG=new l.OlP("angularfire2.firestore.persistenceSettings"),KG=new l.OlP("angularfire2.firestore.settings"),QG=new l.OlP("angularfire2.firestore.use-emulator");function lV(n,e=(t=>t)){return{query:e(n),ref:n}}let cV=(()=>{class n{constructor(t,i,r,s,u,h,p,y,E,I,O,B,$,ne,te,Ve,ot){this.schedulers=p;const nt=(0,za.on)(t,h,i),at=E;I&&nV(nt,h,O,$,ne,te,B,Ve),[this.firestore,this.persistenceEnabled$]=(0,za.cc)(`${nt.name}.firestore`,"AngularFirestore",nt.name,()=>{const en=h.runOutsideAngular(()=>nt.firestore());if(s&&en.settings(s),at&&en.useEmulator(...at),r&&!Ds(u)){const tn=()=>{try{return(0,Ln.D)(en.enablePersistence(y||void 0).then(()=>!0,()=>!1))}catch(Nn){return typeof console<"u"&&console.warn(Nn),bt(!1)}};return[en,h.runOutsideAngular(tn)]}return[en,bt(!1)]},[s,at,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:s,query:u}=lV(r,i),h=this.schedulers.ngZone.run(()=>s);return new oV(h,u,this)}collectionGroup(t,i){const r=i||(u=>u),s=this.firestore.collectionGroup(t);return new WG(r(s),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new aV(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(za.Dh),l.LFG(za.xv,8),l.LFG(ZG,8),l.LFG(KG,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Pt.HU),l.LFG(YG,8),l.LFG(QG,8),l.LFG(XR,8),l.LFG(K2,8),l.LFG(Q2,8),l.LFG(X2,8),l.LFG(J2,8),l.LFG(eV,8),l.LFG(tV,8),l.LFG(Dl,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),ET=(()=>{class n{constructor(t,i){this.database=t,this.firestor=i}createDoc(t,i,r){return this.database.collection(i).doc(r).set(t)}addPokemon(t){const i=o2(this.firestor,"pokemon");return B$(i,t)}getPokemon(){const t=o2(this.firestor,"pokemon");return L$(t,{idField:"id"})}deletePokemon(t){const i=hT(this.firestor,`pokemon/${t.id}`);return U$(i)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(cV),l.LFG(Qw))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),o0=(()=>{class n{constructor(t,i,r,s,u,h,p){this.afs=t,this.firestore=i,this.auth=r,this.fireauth=s,this.router=u,this.firestoreService=h,this.storage=p,this.currentUser$=hA(this.auth),this.datos={id:"",nombre:"",apellido:"",email:"",tel:"",image:"",password:""},this.user$=this.fireauth.authState.pipe(pi(y=>y?this.afs.doc(`Usuario/${y.uid}`).valueChanges():bt(null)))}recuperar(t){this.fireauth.sendPasswordResetEmail(t).then(()=>{},i=>{alert("Something went wrong")})}register(t){return this.fireauth.createUserWithEmailAndPassword(t.email,t.password)}login({email:t,password:i}){return pD(this.auth,t,i)}logout(){return this.auth.signOut()}SendVerficationEmail(t){this.fireauth.currentUser.then(i=>i?.sendEmailVerification()).then(()=>{},i=>{alert("Ha ocurrido un problema.")})}get currentUserProfile$(){return this.currentUser$.pipe(pi(t=>{if(!t?.uid)return bt(null);const i=hT(this.firestore,"Usuario",t?.uid);return V$(i)}))}addUser(t){const i=hT(this.firestore,"Usuario",t.id);return(0,Ln.D)(z$(i,t))}updateUser(t){const i=hT(this.firestore,"Usuario",t.id);return(0,Ln.D)(j$(i,{...t}))}uploadImage(t,i){const r=SG(this.storage,i);return(0,Ln.D)(MG(r,t)).pipe(pi(u=>IG(u.ref)))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(cV),l.LFG(Qw),l.LFG(Lc),l.LFG(XR),l.LFG(Un),l.LFG(ET),l.LFG(yT))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class uV{}const su="*";function Mp(n,e){return{type:7,name:n,definitions:e,options:{}}}function Ul(n,e=null){return{type:4,styles:e,timings:n}}function dV(n,e=null){return{type:2,steps:n,options:e}}function fr(n){return{type:6,styles:n,offset:null}}function ja(n,e,t){return{type:0,name:n,styles:e,options:t}}function JG(n){return{type:5,steps:n}}function $a(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function e4(n=null){return{type:9,options:n}}function t4(n,e,t=null){return{type:11,selector:n,animation:e,options:t}}function hV(n){Promise.resolve().then(n)}class a0{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){hV(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class fV{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const s=this.players.length;0==s?hV(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++t==s&&this._onFinish()}),u.onDestroy(()=>{++i==s&&this._onDestroy()}),u.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((u,h)=>Math.max(u,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}const pV=["toast-component",""];function n4(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",5),l.NdJ("click",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.remove())}),l.TgZ(1,"span",6),l._uU(2,"\xd7"),l.qZA()()}}function i4(n,e){if(1&n&&(l.ynx(0),l._uU(1),l.BQk()),2&n){const t=l.oxw(2);l.xp6(1),l.hij("[",t.duplicatesCount+1,"]")}}function r4(n,e){if(1&n&&(l.TgZ(0,"div"),l._uU(1),l.YNc(2,i4,2,1,"ng-container",4),l.qZA()),2&n){const t=l.oxw();l.Tol(t.options.titleClass),l.uIk("aria-label",t.title),l.xp6(1),l.hij(" ",t.title," "),l.xp6(1),l.Q6J("ngIf",t.duplicatesCount)}}function s4(n,e){if(1&n&&l._UZ(0,"div",7),2&n){const t=l.oxw();l.Tol(t.options.messageClass),l.Q6J("innerHTML",t.message,l.oJD)}}function o4(n,e){if(1&n&&(l.TgZ(0,"div",8),l._uU(1),l.qZA()),2&n){const t=l.oxw();l.Tol(t.options.messageClass),l.uIk("aria-label",t.message),l.xp6(1),l.hij(" ",t.message," ")}}function a4(n,e){if(1&n&&(l.TgZ(0,"div"),l._UZ(1,"div",9),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Udp("width",t.width+"%")}}class p4{constructor(e,t){this.component=e,this.injector=t}attach(e,t){return this._attachedHost=e,e.attach(this,t)}detach(){const e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class g4{constructor(e){this._overlayRef=e,this.duplicatesCount=0,this._afterClosed=new Ot.x,this._activate=new Ot.x,this._manualClose=new Ot.x,this._resetTimeout=new Ot.x,this._countDuplicate=new Ot.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}}class DT{constructor(e,t,i,r,s,u){this.toastId=e,this.config=t,this.message=i,this.title=r,this.toastType=s,this.toastRef=u,this._onTap=new Ot.x,this._onAction=new Ot.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}}const gV=new l.OlP("ToastConfig");class _4 extends class m4{attach(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}}{constructor(e,t,i){super(),this._hostDomElement=e,this._componentFactoryResolver=t,this._appRef=i}attachComponentPortal(e,t){const i=this._componentFactoryResolver.resolveComponentFactory(e.component);let r;return r=i.create(e.injector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(r),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(r)),r}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}class y4{constructor(e){this._portalHost=e}attach(e,t=!0){return this._portalHost.attach(e,t)}detach(){return this._portalHost.detach()}}let v4=(()=>{class n{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),t.setAttribute("aria-live","polite"),this._document.body.appendChild(t),this._containerElement=t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(re))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),b4=(()=>{class n{constructor(t,i,r,s){this._overlayContainer=t,this._componentFactoryResolver=i,this._appRef=r,this._document=s,this._paneElements=new Map}create(t,i){return this._createOverlayRef(this.getPaneElement(t,i))}getPaneElement(t="",i){return this._paneElements.get(i)||this._paneElements.set(i,{}),this._paneElements.get(i)[t]||(this._paneElements.get(i)[t]=this._createPaneElement(t,i)),this._paneElements.get(i)[t]}_createPaneElement(t,i){const r=this._document.createElement("div");return r.id="toast-container",r.classList.add(t),r.classList.add("toast-container"),i?i.getContainerElement().appendChild(r):this._overlayContainer.getContainerElement().appendChild(r),r}_createPortalHost(t){return new _4(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new y4(this._createPortalHost(t))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(v4),l.LFG(l._Vd),l.LFG(l.z2F),l.LFG(re))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),l0=(()=>{class n{constructor(t,i,r,s,u){this.overlay=i,this._injector=r,this.sanitizer=s,this.ngZone=u,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig={...t.default,...t.config},t.config.iconClasses&&(this.toastrConfig.iconClasses={...t.default.iconClasses,...t.config.iconClasses})}show(t,i,r={},s=""){return this._preBuildNotification(s,t,i,this.applyConfig(r))}success(t,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,i,this.applyConfig(r))}error(t,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,i,this.applyConfig(r))}info(t,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,i,this.applyConfig(r))}warning(t,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,i,this.applyConfig(r))}clear(t){for(const i of this.toasts)if(void 0!==t){if(i.toastId===t)return void i.toastRef.manualClose()}else i.toastRef.manualClose()}remove(t){const i=this._findToast(t);if(!i||(i.activeToast.toastRef.close(),this.toasts.splice(i.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const r=this.toasts[this.currentlyActive].toastRef;r.isInactive()||(this.currentlyActive=this.currentlyActive+1,r.activate())}return!0}findDuplicate(t="",i="",r,s){const{includeTitleDuplicates:u}=this.toastrConfig;for(const h of this.toasts){const p=u&&h.title===t;if((!u||p)&&h.message===i)return h.toastRef.onDuplicate(r,s),h}return null}applyConfig(t={}){return{...this.toastrConfig,...t}}_findToast(t){for(let i=0;i<this.toasts.length;i++)if(this.toasts[i].toastId===t)return{index:i,activeToast:this.toasts[i]};return null}_preBuildNotification(t,i,r,s){return s.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,i,r,s)):this._buildNotification(t,i,r,s)}_buildNotification(t,i,r,s){if(!s.toastComponent)throw new Error("toastComponent required");const u=this.findDuplicate(r,i,this.toastrConfig.resetTimeoutOnDuplicate&&s.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&r||i)&&this.toastrConfig.preventDuplicates&&null!==u)return u;this.previousToastMessage=i;let h=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(h=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const p=this.overlay.create(s.positionClass,this.overlayContainer);this.index=this.index+1;let y=i;i&&s.enableHtml&&(y=this.sanitizer.sanitize(l.q3G.HTML,i));const E=new g4(p),I=new DT(this.index,s,y,r,t,E),B=l.zs3.create({providers:[{provide:DT,useValue:I}],parent:this._injector}),$=new p4(s.toastComponent,B),ne=p.attach($,s.newestOnTop);E.componentInstance=ne.instance;const te={toastId:this.index,title:r||"",message:i||"",toastRef:E,onShown:E.afterActivate(),onHidden:E.afterClosed(),onTap:I.onTap(),onAction:I.onAction(),portal:ne};return h||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{te.toastRef.activate()})),this.toasts.push(te),te}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(gV),l.LFG(b4),l.LFG(l.zs3),l.LFG(Nu),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const w4={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null,toastComponent:(()=>{class n{constructor(t,i,r){this.toastrService=t,this.toastPackage=i,this.ngZone=r,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),i)):this.timeout=setTimeout(()=>t(),i)}outsideInterval(t,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),i)):this.intervalId=setInterval(()=>t(),i)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l0),l.Y36(DT),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,i){1&t&&l.NdJ("click",function(){return i.tapToast()})("mouseenter",function(){return i.stickAround()})("mouseleave",function(){return i.delayedHideToast()}),2&t&&(l.d8E("@flyInOut",i.state),l.Tol(i.toastClasses),l.Udp("display",i.displayStyle))},attrs:pV,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(t,i){1&t&&(l.YNc(0,n4,3,0,"button",0),l.YNc(1,r4,3,5,"div",1),l.YNc(2,s4,1,3,"div",2),l.YNc(3,o4,2,4,"div",3),l.YNc(4,a4,2,2,"div",4)),2&t&&(l.Q6J("ngIf",i.options.closeButton),l.xp6(1),l.Q6J("ngIf",i.title),l.xp6(1),l.Q6J("ngIf",i.message&&i.options.enableHtml),l.xp6(1),l.Q6J("ngIf",i.message&&!i.options.enableHtml),l.xp6(1),l.Q6J("ngIf",i.options.progressBar))},dependencies:[U],encapsulation:2,data:{animation:[Mp("flyInOut",[ja("inactive",fr({opacity:0})),ja("active",fr({opacity:1})),ja("removed",fr({opacity:0})),$a("inactive => active",Ul("{{ easeTime }}ms {{ easing }}")),$a("active => removed",Ul("{{ easeTime }}ms {{ easing }}"))])]}}),n})()};let C4=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[{provide:gV,useValue:{default:w4,config:t}}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[co]}),n})();const _V="body[_ngcontent-%COMP%]{font-family:Overpass,sans-serif;font-weight:400;font-size:100%;color:#1b262c;margin:0;background-color:#96d6a4}#contenedor[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin:0;padding:0;min-width:100vw;min-height:100vh;width:100%;height:100%;background-image:url(/src/assets/Imagenes/side-nav-bg.jpg);background-position:center;background-size:cover}#contenedorcentrado[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:row;min-width:380px;max-width:900px;width:90%;background-color:#5f6769;border-radius:10px;-moz-border-radius:10px 10px 10px 10px;-webkit-border-radius:10px 10px 10px 10px;box-shadow:0 0 5px 5px #00000026;padding:30px;box-sizing:border-box}#login[_ngcontent-%COMP%]{width:100%;max-width:320px;min-width:320px;padding:30px 30px 50px;background-color:#719192;box-shadow:0 0 5px 5px #00000026;border-radius:3px;-moz-border-radius:3px 3px 3px 3px;-webkit-border-radius:3px 3px 3px 3px;box-sizing:border-box;opacity:1;filter:alpha(opacity=1)}#login[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-family:Overpass,sans-serif;font-size:120%;color:#3c4245;margin-top:15px}#login[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-family:Overpass,sans-serif;font-size:110%;color:#1b262c;display:block;width:100%;height:40px;margin-bottom:10px;padding:5px 5px 5px 10px;box-sizing:border-box;border:none;border-radius:3px;-moz-border-radius:3px 3px 3px 3px;-webkit-border-radius:3px 3px 3px 3px}#login[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{font-family:Overpass,sans-serif;color:#e4e4e4}#derecho[_ngcontent-%COMP%]{text-align:center;width:100%;opacity:.7;filter:alpha(opacity=70);padding:20px 20px 20px 50px;box-sizing:border-box}.titulo[_ngcontent-%COMP%]{font-size:300%;color:#dfcdc3}.logo-empresa[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60%}hr[_ngcontent-%COMP%]{border-top:1px solid #8c8b8b;border-bottom:1px solid #dfcdc3}.pie-form[_ngcontent-%COMP%]{font-size:90%;text-align:center;margin-top:15px}.pie-form[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;text-decoration:none;color:#dfcdc3;margin-bottom:3px}.pie-form[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#719192}@keyframes pulse{0%{box-shadow:0 0 0 0 var(--hover)}}.up[_ngcontent-%COMP%]:hover, .up[_ngcontent-%COMP%]:focus{box-shadow:inset 0 -3.25em 0 0 var(--hover)}.up[_ngcontent-%COMP%]{--color: #e4cb58;--hover: #94e458}button[_ngcontent-%COMP%]{color:var(--color);transition:.25s}button[_ngcontent-%COMP%]:hover, button[_ngcontent-%COMP%]:focus{border-color:var(--hover);color:#fff}button[_ngcontent-%COMP%]{background:none;border:2px solid;font:inherit;line-height:1;margin:1em;padding:1em 3em}@media all and (max-width: 775px){#contenedorcentrado[_ngcontent-%COMP%]{flex-direction:column-reverse;min-width:380px;max-width:900px;width:90%;background-color:#5f6769;border-radius:10px;-moz-border-radius:10px 10px 10px 10px;-webkit-border-radius:10px 10px 10px 10px;box-shadow:0 0 5px 5px #00000026;padding:30px;box-sizing:border-box}#login[_ngcontent-%COMP%]{margin:0 auto}#derecho[_ngcontent-%COMP%]{padding:20px}#login[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{text-align:left}}";let E4=(()=>{class n{constructor(t,i,r,s){this.userService=t,this.firestore=i,this.router=r,this.toastr=s,this.datos={id:"",nombre:"",apellido:"",email:"",tel:"",image:"",password:""},this.formReg=new Ko({email:new gs("",Pa.required),password:new gs("",Pa.required),nombre:new gs("",Pa.required),apellidos:new gs("",Pa.required),telefono:new gs("",Pa.required)})}showsucces(){this.toastr.success("Registrado correctamente","Datos guardados :)")}ngOnInit(){}registrar(){var t=this;return(0,be.Z)(function*(){console.log("datos -> ",t.datos);const i=yield t.userService.register(t.datos).catch(r=>{t.toastr.error("El usuario ya existe","Error debido a que:",{timeOut:3e3})});if(i){t.showsucces();const r="Usuario",s=i.user?.uid;t.datos.id=s,t.datos.password="",yield t.firestore.createDoc(t.datos,r,s),t.router.navigate(["/iniciosesion"])}})()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(o0),l.Y36(ET),l.Y36(Un),l.Y36(l0))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-registro"]],decls:33,vars:5,consts:[["lang","es"],["charset","utf-8"],["name","viewport","content","width=device-width, initial-scale=1.0"],["id","contenedor"],["id","contenedorcentrado"],["id","login"],["novalidate","",3,"formGroup","ngSubmit"],["for","usuario"],["id","usuario","type","text","name","usuario","placeholder","Ingresa Nombre","required","","formControlName","nombre",3,"ngModel","ngModelChange"],["id","usuario","type","text","name","usuario","placeholder","Coloca Apellidos","required","","formControlName","apellidos",3,"ngModel","ngModelChange"],["id","usuario","type","text","name","usuario","placeholder","Usuario","required","","formControlName","email",3,"ngModel","ngModelChange"],["for","password"],["id","password","type","password","placeholder","Contrase\xf1a","name","password","required","","formControlName","password",3,"ngModel","ngModelChange"],[1,"buttons"],["type","submit","title","Ingresar","name","Ingresar",1,"up"],["id","derecho"],[1,"titulo"],[1,"pie-form"],["href","/InicioSesion"]],template:function(t,i){1&t&&(l.TgZ(0,"html",0)(1,"head"),l._UZ(2,"meta",1),l.TgZ(3,"title"),l._uU(4," Inicio De Sesi\xf3n "),l.qZA(),l._UZ(5,"meta",2),l.qZA(),l.TgZ(6,"body")(7,"div",3)(8,"div",4)(9,"div",5)(10,"form",6),l.NdJ("ngSubmit",function(){return i.registrar()}),l.TgZ(11,"label",7),l._uU(12,"Nombre"),l.qZA(),l.TgZ(13,"input",8),l.NdJ("ngModelChange",function(s){return i.datos.nombre=s}),l.qZA(),l.TgZ(14,"label",7),l._uU(15,"Apellidos"),l.qZA(),l.TgZ(16,"input",9),l.NdJ("ngModelChange",function(s){return i.datos.apellido=s}),l.qZA(),l.TgZ(17,"label",7),l._uU(18,"Email"),l.qZA(),l.TgZ(19,"input",10),l.NdJ("ngModelChange",function(s){return i.datos.email=s}),l.qZA(),l.TgZ(20,"label",11),l._uU(21,"Contrase\xf1a"),l.qZA(),l.TgZ(22,"input",12),l.NdJ("ngModelChange",function(s){return i.datos.password=s}),l.qZA(),l.TgZ(23,"div",13)(24,"button",14),l._uU(25,"Registrar Usuario"),l.qZA()()()(),l.TgZ(26,"div",15)(27,"div",16),l._uU(28," Bienvenido al Registro de Usuario "),l.qZA(),l._UZ(29,"hr"),l.TgZ(30,"div",17)(31,"a",18),l._uU(32,"Regresar al inicio de sesi\xf3n"),l.qZA()()()()()()()),2&t&&(l.xp6(10),l.Q6J("formGroup",i.formReg),l.xp6(3),l.Q6J("ngModel",i.datos.nombre),l.xp6(3),l.Q6J("ngModel",i.datos.apellido),l.xp6(3),l.Q6J("ngModel",i.datos.email),l.xp6(3),l.Q6J("ngModel",i.datos.password))},dependencies:[ig,Oa,Gm,qm,Jo,Qo,dd],styles:[_V,_V]}),n})(),nO=(()=>{class n{constructor(t,i){this.document=t,this.platformId=i,this.documentIsAccessible=vu(this.platformId)}static getCookieRegExp(t){const i=t.replace(/([\[\]\{\}\(\)\|\=\;\+\?\,\.\*\^\$])/gi,"\\$1");return new RegExp("(?:^"+i+"|;\\s*"+i+")=(.*?)(?:;|$)","g")}static safeDecodeURIComponent(t){try{return decodeURIComponent(t)}catch{return t}}check(t){return!!this.documentIsAccessible&&(t=encodeURIComponent(t),n.getCookieRegExp(t).test(this.document.cookie))}get(t){if(this.documentIsAccessible&&this.check(t)){t=encodeURIComponent(t);const r=n.getCookieRegExp(t).exec(this.document.cookie);return r[1]?n.safeDecodeURIComponent(r[1]):""}return""}getAll(){if(!this.documentIsAccessible)return{};const t={},i=this.document;return i.cookie&&""!==i.cookie&&i.cookie.split(";").forEach(r=>{const[s,u]=r.split("=");t[n.safeDecodeURIComponent(s.replace(/^ /,""))]=n.safeDecodeURIComponent(u)}),t}set(t,i,r,s,u,h,p){if(!this.documentIsAccessible)return;if("number"==typeof r||r instanceof Date||s||u||h||p)return void this.set(t,i,{expires:r,path:s,domain:u,secure:h,sameSite:p||"Lax"});let y=encodeURIComponent(t)+"="+encodeURIComponent(i)+";";const E=r||{};E.expires&&(y+="number"==typeof E.expires?"expires="+new Date((new Date).getTime()+1e3*E.expires*60*60*24).toUTCString()+";":"expires="+E.expires.toUTCString()+";"),E.path&&(y+="path="+E.path+";"),E.domain&&(y+="domain="+E.domain+";"),!1===E.secure&&"None"===E.sameSite&&(E.secure=!0,console.warn(`[ngx-cookie-service] Cookie ${t} was forced with secure flag because sameSite=None.More details : https://github.com/stevermeister/ngx-cookie-service/issues/86#issuecomment-597720130`)),E.secure&&(y+="secure;"),E.sameSite||(E.sameSite="Lax"),y+="sameSite="+E.sameSite+";",this.document.cookie=y}delete(t,i,r,s,u="Lax"){if(!this.documentIsAccessible)return;const h=new Date("Thu, 01 Jan 1970 00:00:01 GMT");this.set(t,"",{expires:h,path:i,domain:r,secure:s,sameSite:u})}deleteAll(t,i,r,s="Lax"){if(!this.documentIsAccessible)return;const u=this.getAll();for(const h in u)u.hasOwnProperty(h)&&this.delete(h,t,i,r,s)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(re),l.LFG(l.Lbi))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const yV="body[_ngcontent-%COMP%]{font-family:Overpass,sans-serif;font-weight:400;font-size:100%;color:#1b262c;margin:0;background-color:#96d6a4}#contenedor[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin:0;padding:0;min-width:100vw;min-height:100vh;width:100%;height:100%;background-image:url(/src/assets/Imagenes/side-nav-bg.jpg);background-position:center;background-size:cover}#contenedorcentrado[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:row;min-width:380px;max-width:900px;width:90%;background-color:#5f6769;border-radius:10px;-moz-border-radius:10px 10px 10px 10px;-webkit-border-radius:10px 10px 10px 10px;box-shadow:0 0 5px 5px #00000026;padding:30px;box-sizing:border-box}#login[_ngcontent-%COMP%]{width:100%;max-width:320px;min-width:320px;padding:30px 30px 50px;background-color:#719192;box-shadow:0 0 5px 5px #00000026;border-radius:3px;-moz-border-radius:3px 3px 3px 3px;-webkit-border-radius:3px 3px 3px 3px;box-sizing:border-box;opacity:1;filter:alpha(opacity=1)}#login[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-family:Overpass,sans-serif;font-size:120%;color:#3c4245;margin-top:15px}#login[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-family:Overpass,sans-serif;font-size:110%;color:#1b262c;display:block;width:100%;height:40px;margin-bottom:10px;padding:5px 5px 5px 10px;box-sizing:border-box;border:none;border-radius:3px;-moz-border-radius:3px 3px 3px 3px;-webkit-border-radius:3px 3px 3px 3px}#login[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{font-family:Overpass,sans-serif;color:#e4e4e4}#derecho[_ngcontent-%COMP%]{text-align:center;width:100%;opacity:.7;filter:alpha(opacity=70);padding:20px 20px 20px 50px;box-sizing:border-box}.titulo[_ngcontent-%COMP%]{font-size:300%;color:#dfcdc3}.logo-empresa[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60%}hr[_ngcontent-%COMP%]{border-top:1px solid #8c8b8b;border-bottom:1px solid #dfcdc3}.pie-form[_ngcontent-%COMP%]{font-size:90%;text-align:center;margin-top:15px}.pie-form[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;text-decoration:none;color:#dfcdc3;margin-bottom:3px}.pie-form[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#719192}@keyframes pulse{0%{box-shadow:0 0 0 0 var(--hover)}}.up[_ngcontent-%COMP%]:hover, .up[_ngcontent-%COMP%]:focus{box-shadow:inset 0 -3.25em 0 0 var(--hover)}.up[_ngcontent-%COMP%]{--color: #e4cb58;--hover: #94e458}button[_ngcontent-%COMP%]{color:var(--color);transition:.25s}button[_ngcontent-%COMP%]:hover, button[_ngcontent-%COMP%]:focus{border-color:var(--hover);color:#fff}button[_ngcontent-%COMP%]{background:none;border:2px solid;font:inherit;line-height:1;margin:1.8em;padding:1em 3em}@media all and (max-width: 775px){#contenedorcentrado[_ngcontent-%COMP%]{flex-direction:column-reverse;min-width:380px;max-width:900px;width:90%;background-color:#5f6769;border-radius:10px;-moz-border-radius:10px 10px 10px 10px;-webkit-border-radius:10px 10px 10px 10px;box-shadow:0 0 5px 5px #00000026;padding:30px;box-sizing:border-box}#login[_ngcontent-%COMP%]{margin:0 auto}#derecho[_ngcontent-%COMP%]{padding:20px}#login[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{text-align:left}}";let vV=(()=>{class n{constructor(t,i,r,s){this.cookieServices=t,this.userService=i,this.router=r,this.toastr=s,this.formlog=new Ko({email:new gs,password:new gs})}ngOnInit(){}showsucces(){this.toastr.success("Inicio de sesi\xf3n correcto","Ya puedes entrar a la plataforma")}showErr(){this.toastr.error("Hubo un problema con sus credenciales","Error causado por:",{timeOut:3e3})}onbutton(){this.userService.login(this.formlog.value).then(t=>{this.showsucces(),this.cookieServices.set("token_access",t.accessToken,2,"/"),this.router.navigate(["inicio"])}).catch(t=>this.showErr())}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(nO),l.Y36(o0),l.Y36(Un),l.Y36(l0))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-inicio-sesion"]],decls:27,vars:1,consts:[["lang","es"],["charset","utf-8"],["name","viewport","content","width=device-width, initial-scale=1.0"],["id","contenedor"],["id","contenedorcentrado"],["id","login"],["id","loginform",3,"formGroup","ngSubmit"],["for","usuario"],["id","usuario","type","text","name","usuario","placeholder","Usuario","required","","formControlName","email"],["for","password"],["id","password","type","password","placeholder","Contrase\xf1a","name","password","required","","formControlName","password"],[1,"buttons"],["type","submit","title","Ingresar","name","Ingresar",1,"up"],["id","derecho"],[1,"titulo"],[1,"pie-form"],["href","/registro"]],template:function(t,i){1&t&&(l.TgZ(0,"html",0)(1,"head"),l._UZ(2,"meta",1),l.TgZ(3,"title"),l._uU(4," Inicio De Sesi\xf3n "),l.qZA(),l._UZ(5,"meta",2),l.qZA(),l.TgZ(6,"body")(7,"div",3)(8,"div",4)(9,"div",5)(10,"form",6),l.NdJ("ngSubmit",function(){return i.onbutton()}),l.TgZ(11,"label",7),l._uU(12,"Usuario"),l.qZA(),l._UZ(13,"input",8),l.TgZ(14,"label",9),l._uU(15,"Contrase\xf1a"),l.qZA(),l._UZ(16,"input",10),l.TgZ(17,"div",11)(18,"button",12),l._uU(19,"Iniciar Sesi\xf3n"),l.qZA()()()(),l.TgZ(20,"div",13)(21,"div",14),l._uU(22," Bienvenido "),l.qZA(),l._UZ(23,"hr"),l.TgZ(24,"div",15)(25,"a",16),l._uU(26,"\xbfNo tienes Cuenta? Registrate"),l.qZA()()()()()()()),2&t&&(l.xp6(10),l.Q6J("formGroup",i.formlog))},dependencies:[ig,Oa,Gm,qm,Jo,Qo,dd],styles:[yV,yV]}),n})();function iO(n){return n instanceof l.Rgc}function rO(n){return"function"==typeof n}function bV(n){return"string"==typeof n}let D4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["dynamic-view"]],inputs:{content:"content"},decls:1,vars:1,consts:[[3,"innerHTML"]],template:function(t,i){1&t&&l._UZ(0,"div",0),2&t&&l.Q6J("innerHTML",i.content,l.oJD)},encapsulation:2}),n})();class I4{constructor(e){this.args=e,this.wrapper=null,this.args.vcr?(this.viewRef=this.args.vcr.createEmbeddedView(this.args.tpl,this.args.context||{}),this.viewRef.detectChanges()):(this.viewRef=this.args.tpl.createEmbeddedView(this.args.context||{}),this.viewRef.detectChanges(),this.args.appRef.attachView(this.viewRef))}detectChanges(){this.viewRef.detectChanges()}getElement(){const e=this.viewRef.rootNodes;return 1===e.length&&e[0]===Node.ELEMENT_NODE?this.element=e[0]:(this.element=document.createElement("div"),this.element.append(...e)),this.element}destroy(){1!==this.viewRef.rootNodes[0]&&(this.element?.parentNode.removeChild(this.element),this.element=null),this.args.vcr||this.args.appRef.detachView(this.viewRef),this.viewRef.destroy(),this.viewRef=null}}class T4{constructor(e){this.value=e}getElement(){return this.value}detectChanges(){}destroy(){}}class S4{constructor(e){if(this.options=e,e.vcr)this.compRef=e.vcr.createComponent(e.component,{index:e.vcr.length,injector:e.injector||e.vcr.injector});else{const t=e.resolver.resolveComponentFactory(e.component);this.compRef=t.create(e.injector),e.appRef.attachView(this.compRef.hostView)}}get ref(){return this.compRef}setInput(e,t){return this.compRef.instance[e]=t,this}setInputs(e){return Object.keys(e).forEach(t=>{this.compRef.instance[t]=e[t]}),this}detectChanges(){return this.compRef.hostView.detectChanges(),this}appendTo(e){return e.appendChild(this.getElement()),this}removeFrom(e){return e.removeChild(this.getElement()),this}getRawContent(){return this.getElement().outerHTML}getElement(){return this.compRef.location.nativeElement}destroy(){this.compRef.destroy(),!this.options.vcr&&this.options.appRef.detachView(this.compRef.hostView),this.compRef=null}}let wV=(()=>{class n{constructor(t,i,r){this.resolver=t,this.injector=i,this.appRef=r}createComponent(t,i={}){return new S4({component:t,vcr:i.vcr,injector:i.injector||this.injector,appRef:this.appRef,resolver:this.resolver})}createTemplate(t,i={}){return new I4({vcr:i.vcr,appRef:this.appRef,tpl:t,context:i.context})}createView(t,i={}){if(iO(t))return this.createTemplate(t,i);if(rO(t))return this.createComponent(t,i);if(bV(t))return new T4(t);throw"Type of content is not supported"}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l._Vd),l.LFG(l.zs3),l.LFG(l.z2F))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),M4=(()=>{class n{constructor(t,i,r){this.defaultTpl=t,this.vcr=i,this.viewService=r}ngOnInit(){this.resolveContentType()}ngOnChanges(t){t.view&&!t.view.isFirstChange()&&this.resolveContentType()}resolveContentType(){this.viewRef?.destroy(),bV(this.view)?(this.viewRef=this.viewService.createComponent(D4,{vcr:this.vcr,injector:this.injector}),this.viewRef.setInput("content",this.view).detectChanges()):this.viewRef=this.viewService.createView(this.view||this.defaultTpl,{vcr:this.vcr,injector:this.injector??this.vcr.injector,context:this.context})}ngOnDestroy(){this.viewRef?.destroy()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc),l.Y36(l.s_b),l.Y36(wV))},n.\u0275dir=l.lG2({type:n,selectors:[["","dynamicView",""]],inputs:{view:["dynamicView","view"],injector:["dynamicViewInjector","injector"],context:["dynamicViewContext","context"]},features:[l.TTD]}),n})();const{isArray:A4}=Array;const O4=["*"],P4=function(n,e){return{"border-color":n,"border-right-color":e}};function N4(n,e){if(1&n&&(l.TgZ(0,"div"),l._uU(1,"\n        "),l._UZ(2,"hot-toast-error",2),l._uU(3,"\n      "),l.qZA()),2&n){const t=l.oxw(3);l.xp6(2),l.Q6J("theme",t.theme)}}function F4(n,e){if(1&n&&(l.TgZ(0,"div"),l._uU(1,"\n        "),l._UZ(2,"hot-toast-checkmark",2),l._uU(3,"\n      "),l.qZA()),2&n){const t=l.oxw(3);l.xp6(2),l.Q6J("theme",t.theme)}}function L4(n,e){if(1&n&&(l.TgZ(0,"div"),l._uU(1,"\n        "),l._UZ(2,"hot-toast-warning",2),l._uU(3,"\n      "),l.qZA()),2&n){const t=l.oxw(3);l.xp6(2),l.Q6J("theme",t.theme)}}function V4(n,e){if(1&n&&(l.TgZ(0,"div"),l._uU(1,"\n        "),l._UZ(2,"hot-toast-info",2),l._uU(3,"\n      "),l.qZA()),2&n){const t=l.oxw(3);l.xp6(2),l.Q6J("theme",t.theme)}}function B4(n,e){if(1&n&&(l.TgZ(0,"div",4),l._uU(1,"\n    "),l.TgZ(2,"div",5),l._uU(3,"\n      "),l.YNc(4,N4,4,1,"div",6),l._uU(5,"\n      "),l.YNc(6,F4,4,1,"div",6),l._uU(7,"\n      "),l.YNc(8,L4,4,1,"div",6),l._uU(9,"\n      "),l.YNc(10,V4,4,1,"div",6),l._uU(11,"\n    "),l.qZA(),l._uU(12,"\n  "),l.qZA()),2&n){const t=l.oxw(2);l.xp6(2),l.Q6J("ngSwitch",t.type),l.xp6(2),l.Q6J("ngSwitchCase","error"),l.xp6(2),l.Q6J("ngSwitchCase","success"),l.xp6(2),l.Q6J("ngSwitchCase","warning"),l.xp6(2),l.Q6J("ngSwitchCase","info")}}function U4(n,e){if(1&n&&(l.TgZ(0,"div",1),l._uU(1,"\n  "),l._UZ(2,"hot-toast-loader",2),l._uU(3,"\n  "),l.YNc(4,B4,13,5,"div",3),l._uU(5,"\n"),l.qZA()),2&n){const t=l.oxw();l.xp6(2),l.Q6J("theme",t.theme),l.xp6(2),l.Q6J("ngIf","loading"!==t.type)}}const H4=["hotToastBarBase"];function z4(n,e){if(1&n&&(l.ynx(0),l._uU(1,"\n          "),l.TgZ(2,"hot-toast-animated-icon",10),l._uU(3),l.qZA(),l._uU(4,"\n        "),l.BQk()),2&n){const t=l.oxw(2);l.xp6(2),l.Q6J("iconTheme",t.toast.iconTheme),l.xp6(1),l.Oqu(t.toast.icon)}}function j4(n,e){if(1&n&&(l._uU(0,"\n          "),l.TgZ(1,"div"),l._uU(2,"\n            "),l.GkF(3,11),l._uU(4,"\n          "),l.qZA(),l._uU(5,"\n        ")),2&n){const t=l.oxw(2);l.xp6(3),l.Q6J("dynamicView",t.toast.icon)}}function $4(n,e){if(1&n&&(l.ynx(0),l._uU(1,"\n        "),l.YNc(2,z4,5,2,"ng-container",4),l._uU(3,"\n        "),l.YNc(4,j4,6,1,"ng-template",null,9,l.W1O),l._uU(6,"\n      "),l.BQk()),2&n){const t=l.MAs(5),i=l.oxw();l.xp6(2),l.Q6J("ngIf",i.isIconString)("ngIfElse",t)}}function G4(n,e){if(1&n&&(l._uU(0,"\n        "),l._UZ(1,"hot-toast-indicator",12),l._uU(2,"\n      ")),2&n){const t=l.oxw();l.xp6(1),l.Q6J("theme",t.toast.iconTheme)("type",t.toast.type)}}function q4(n,e){1&n&&l.GkF(0)}function W4(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",13),l.NdJ("click",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.close())}),l.qZA()}if(2&n){const t=l.oxw();l.Q6J("ngStyle",t.toast.closeStyle)}}function Z4(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"hot-toast",3),l.NdJ("height",function(r){const u=l.CHM(t).$implicit,h=l.oxw();return l.KtG(h.updateHeight(r,u))})("beforeClosed",function(){const s=l.CHM(t).$implicit,u=l.oxw();return l.KtG(u.beforeClosed(s))})("afterClosed",function(r){l.CHM(t);const s=l.oxw();return l.KtG(s.afterClosed(r))}),l.qZA()}if(2&n){const t=e.$implicit,i=e.index,r=l.oxw();l.Q6J("toast",t)("offset",r.calculateOffset(t.id,t.position))("toastRef",r.toastRefs[i])}}const CV={blank:4e3,error:4e3,success:4e3,loading:3e4,warning:4e3,info:4e3};class DV{constructor(e){this.toast=e,this._onClosed=new Ot.x}set dispose(e){this._dispose=e}getToast(){return this.toast}appendTo(e){const{dispose:t,updateMessage:i,updateToast:r,afterClosed:s}=e.addToast(this);return this.dispose=t,this.updateMessage=i,this.updateToast=r,this.afterClosed=function k4(...n){return 1===(n=function x4(n){return 1===n.length&&A4(n[0])?n[0]:n}(n)).length?(0,Jr.Xf)(n[0]):new Vi.y(function R4(n){return e=>{let t=[];for(let i=0;t&&!e.closed&&i<n.length;i++)t.push((0,Jr.Xf)(n[i]).subscribe((0,xi.x)(e,r=>{if(t){for(let s=0;s<t.length;s++)s!==i&&t[s].unsubscribe();t=null}e.next(r)})))}}(n))}(this._onClosed.asObservable(),s),this}close(e={dismissedByAction:!1}){this._dispose(),this._onClosed.next({dismissedByAction:e.dismissedByAction,id:this.toast.id}),this._onClosed.complete()}get data(){return this.toast.data}}let X4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["hot-toast-animated-icon"]],inputs:{iconTheme:"iconTheme"},ngContentSelectors:O4,decls:5,vars:2,consts:[[1,"hot-toast-animated-icon"]],template:function(t,i){1&t&&(l.F$t(),l.TgZ(0,"div",0),l._uU(1,"\n  "),l.Hsn(2),l._uU(3,"\n"),l.qZA(),l._uU(4,"\n")),2&t&&l.Udp("color",null==i.iconTheme?null:i.iconTheme.primary)},styles:["@keyframes hotToastEnter{0%{transform:scale(0)}to{transform:scale(1)}}.hot-toast-animated-icon[_ngcontent-%COMP%]{animation:var(--hot-toast-animated-icon-animation, hotToastEnter .3s ease-in-out forwards);position:var(--hot-toast-animated-icon-position, relative);transform:var(--hot-toast-animated-icon-transform, scale(0))}@media (prefers-reduced-motion: reduce){.hot-toast-animated-icon[_ngcontent-%COMP%]{animation-duration:var(--hot-toast-animated-icon-reduced-motion-animation-duration, none);opacity:var(--hot-toast-animated-icon-reduced-motion-opacity, 1);transform:var(--hot-toast-animated-icon-reduced-motion-transform, scale(1))}}"],changeDetection:0}),n})(),J4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["hot-toast-loader"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-loader-icon",3,"ngStyle"]],template:function(t,i){1&t&&(l._UZ(0,"div",0),l._uU(1,"\n")),2&t&&l.Q6J("ngStyle",l.WLB(1,P4,null==i.theme?null:i.theme.primary,null==i.theme?null:i.theme.secondary))},dependencies:[Qt],styles:["@keyframes hotToastRotate{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.hot-toast-loader-icon[_ngcontent-%COMP%]{animation:var(--hot-toast-loader-icon-animation, hotToastRotate 1s linear infinite);border:var(--hot-toast-loader-icon-border, 2px solid);border-bottom-color:var(--hot-toast-loader-icon-border-color, #e0e0e0);border-left-color:var(--hot-toast-loader-icon-border-color, #e0e0e0);border-radius:var(--hot-toast-loader-icon-border-radius, 100%);border-right-color:var(--hot-toast-loader-icon-border-right-color, #616161);border-top-color:var(--hot-toast-loader-icon-border-color, #e0e0e0);box-sizing:var(--hot-toast-loader-icon-box-sizing, border-box);height:var(--hot-toast-loader-icon-height, 18px);padding-top:var(--hot-toast-loader-icon-padding-top, 2px);width:var(--hot-toast-loader-icon-width, 18px)}@media (prefers-reduced-motion: reduce){.hot-toast-loader-icon[_ngcontent-%COMP%]{animation-duration:var(--hot-toast-loader-icon-reduced-motion-animation-duration, 5s)}}"],changeDetection:0}),n})(),e5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["hot-toast-error"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-error-icon"]],template:function(t,i){1&t&&(l._UZ(0,"div",0),l._uU(1,"\n")),2&t&&l.Udp("--error-primary",null==i.theme?null:i.theme.primary)("--error-secondary",null==i.theme?null:i.theme.secondary)},styles:['@keyframes hotToastErrorCircleAnimation{0%{opacity:0;transform:scale(0) rotate(45deg)}to{opacity:1;transform:scale(1) rotate(45deg)}}@keyframes hotToastFirstLineAnimation{0%{opacity:0;transform:scale(0)}to{opacity:1;transform:scale(1)}}@keyframes hotToastSecondLineAnimation{0%{opacity:0;transform:scale(0) rotate(90deg)}to{opacity:1;transform:scale(1) rotate(90deg)}}.hot-toast-error-icon[_ngcontent-%COMP%]{animation:var(--hot-toast-error-icon-animation, hotToastErrorCircleAnimation .3s cubic-bezier(.175, .885, .32, 1.275) forwards);animation-delay:var(--hot-toast-error-icon-animation-delay, .1s);background:var(--hot-toast-error-icon-background, var(--error-primary, #ff4b4b));border-radius:var(--hot-toast-error-icon-border-radius, 10px);height:var(--hot-toast-error-icon-height, 20px);opacity:var(--hot-toast-error-icon-opacity, 0);position:var(--hot-toast-error-icon-position, relative);transform:var(--hot-toast-error-icon-transform, rotate(45deg));width:var(--hot-toast-error-icon-width, 20px)}@media (prefers-reduced-motion: reduce){.hot-toast-error-icon[_ngcontent-%COMP%]{animation-duration:var(--hot-toast-error-icon-reduced-motion-animation-duration, 0ms)}}.hot-toast-error-icon[_ngcontent-%COMP%]:after, .hot-toast-error-icon[_ngcontent-%COMP%]:before{animation:var(--hot-toast-error-icon-after-before-animation, hotToastFirstLineAnimation .15s ease-out forwards);animation-delay:var(--hot-toast-error-icon-after-before-animation-delay, .15s);background:var(--hot-toast-error-icon-after-before-background, var(--error-secondary, #fff));border-radius:var(--hot-toast-error-icon-after-before-border-radius, 3px);bottom:var(--hot-toast-error-icon-after-before-bottom, 9px);content:var(--hot-toast-error-icon-after-before-content, "");height:var(--hot-toast-error-icon-after-before-height, 2px);left:var(--hot-toast-error-icon-after-before-left, 4px);opacity:var(--hot-toast-error-icon-after-before-opacity, 0);position:var(--hot-toast-error-icon-after-before-position, absolute);width:var(--hot-toast-error-icon-after-before-width, 12px)}@media (prefers-reduced-motion: reduce){.hot-toast-error-icon[_ngcontent-%COMP%]:after, .hot-toast-error-icon[_ngcontent-%COMP%]:before{animation-duration:var(--hot-toast-error-icon-after-before-reduced-motion-animation-duration, 0ms)}}.hot-toast-error-icon[_ngcontent-%COMP%]:before{animation:var(--hot-toast-error-icon-before-animation, hotToastSecondLineAnimation .15s ease-out forwards);animation-delay:var(--hot-toast-error-icon-before-animation-delay, .18s);transform:var(--hot-toast-error-icon-before-transform, rotate(90deg))}@media (prefers-reduced-motion: reduce){.hot-toast-error-icon[_ngcontent-%COMP%]:before{animation-duration:var(--hot-toast-error-icon-before-reduced-motion-animation-duration, 0ms)}}'],changeDetection:0}),n})(),t5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["hot-toast-checkmark"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-checkmark-icon"]],template:function(t,i){1&t&&(l._UZ(0,"div",0),l._uU(1,"\n")),2&t&&l.Udp("--check-primary",null==i.theme?null:i.theme.primary)("--check-secondary",null==i.theme?null:i.theme.secondary)},styles:['@keyframes hotToastCircleAnimation{0%{opacity:0;transform:scale(0) rotate(45deg)}to{opacity:1;transform:scale(1) rotate(45deg)}}@keyframes hotToastCheckmarkAnimation{0%{height:0;opacity:0;width:0}40%{height:0;opacity:1;width:6px}to{height:10px;opacity:1}}.hot-toast-checkmark-icon[_ngcontent-%COMP%]{animation:var(--hot-toast-checkmark-icon-animation, hotToastCircleAnimation .3s cubic-bezier(.175, .885, .32, 1.275) forwards);animation-delay:var(--hot-toast-checkmark-icon-animation-delay, .1s);background-color:var(--hot-toast-checkmark-icon-background-color, var(--check-primary, #61d345));border-radius:var(--hot-toast-checkmark-icon-border-radius, 10px);height:var(--hot-toast-checkmark-icon-height, 20px);opacity:var(--hot-toast-checkmark-icon-opacity, 0);position:var(--hot-toast-checkmark-icon-position, relative);transform:var(--hot-toast-checkmark-icon-transform, rotate(45deg));width:var(--hot-toast-checkmark-icon-width, 20px)}@media (prefers-reduced-motion: reduce){.hot-toast-checkmark-icon[_ngcontent-%COMP%]{animation-duration:var(--hot-toast-checkmark-icon-reduced-motion-animation-duration, 0ms)}}.hot-toast-checkmark-icon[_ngcontent-%COMP%]:after{animation:var(--hot-toast-checkmark-icon-after-animation, hotToastCheckmarkAnimation .2s ease-out forwards);animation-delay:var(--hot-toast-checkmark-icon-after-animation-delay, .2s);border-bottom-style:solid;border-bottom-width:var(--hot-toast-checkmark-icon-after-border-bottom, 2px);border-color:var(--hot-toast-checkmark-icon-after-border-color, var(--check-secondary, #fff));border-right-style:solid;border-right-width:var(--hot-toast-checkmark-icon-after-border-right, 2px);bottom:var(--hot-toast-checkmark-icon-after-bottom, 6px);box-sizing:var(--hot-toast-checkmark-icon-after-box-sizing, border-box);content:var(--hot-toast-checkmark-icon-after-content, "");height:var(--hot-toast-checkmark-icon-after-height, 10px);left:var(--hot-toast-checkmark-icon-after-left, 6px);opacity:var(--hot-toast-checkmark-icon-after-opacity, 0);position:var(--hot-toast-checkmark-icon-after-position, absolute);width:var(--hot-toast-checkmark-icon-after-width, 6px)}@media (prefers-reduced-motion: reduce){.hot-toast-checkmark-icon[_ngcontent-%COMP%]:after{animation-duration:var(--hot-toast-checkmark-icon-after-reduced-motion-animation-duration, 0ms)}}'],changeDetection:0}),n})(),n5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["hot-toast-warning"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-warning-icon"]],template:function(t,i){1&t&&(l._UZ(0,"div",0),l._uU(1,"\n")),2&t&&l.Udp("--warn-primary",null==i.theme?null:i.theme.primary)("--warn-secondary",null==i.theme?null:i.theme.secondary)},styles:['@keyframes animate-warn-background{0%{opacity:0;transform:scale(0)}to{opacity:1;transform:scale(1)}}@keyframes animate-warn-line{0%{height:0;opacity:0}40%{height:4.8px;opacity:1}to{height:8px;opacity:1}}.hot-toast-warning-icon[_ngcontent-%COMP%]{animation:var(--hot-toast-warning-icon-animation, animate-warn-background .3s cubic-bezier(.175, .885, .32, 1.275) forwards);animation-delay:var(--hot-toast-warning-icon-animation-delay, .1s);background-color:var(--hot-toast-warning-icon-background-color, var(--warn-primary, #ffab00));border-radius:var(--hot-toast-warning-icon-border-radius, 50%);display:var(--hot-toast-warning-icon-display, block);height:var(--hot-toast-warning-icon-height, 20px);opacity:var(--hot-toast-warning-icon-opacity, 0);position:var(--hot-toast-warning-icon-position, relative);transform:var(--hot-toast-warning-icon-transform, scale(0));width:var(--hot-toast-warning-icon-width, 20px)}.hot-toast-warning-icon[_ngcontent-%COMP%]:after, .hot-toast-warning-icon[_ngcontent-%COMP%]:before{background-color:var(--hot-toast-warning-icon-after-before-background-color, var(--warn-secondary, #fff));border-radius:var(--hot-toast-warning-icon-after-before-border-radius, 3px);box-sizing:var(--hot-toast-warning-icon-after-before-box-sizing, border-box);content:var(--hot-toast-warning-icon-after-before-content, "");display:var(--hot-toast-warning-icon-after-before-display, block);left:var(--hot-toast-warning-icon-after-before-left, 8.5px);position:var(--hot-toast-warning-icon-after-before-position, absolute);width:var(--hot-toast-warning-icon-after-before-width, 2.5px)}.hot-toast-warning-icon[_ngcontent-%COMP%]:after{animation:var(--hot-toast-warning-icon-after-animation, animate-warn-line .2s ease-out forwards);animation-delay:var(--hot-toast-warning-icon-after-animation-delay, .2s);height:var(--hot-toast-warning-icon-after-height, 0);opacity:var(--hot-toast-warning-icon-after-opacity, 0);top:var(--hot-toast-warning-icon-after-top, 4px)}.hot-toast-warning-icon[_ngcontent-%COMP%]:before{bottom:var(--hot-toast-warning-icon-before-bottom, 4px);height:var(--hot-toast-warning-icon-before-height, 2px)}'],changeDetection:0}),n})(),i5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["hot-toast-info"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-info-icon"]],template:function(t,i){1&t&&(l._UZ(0,"div",0),l._uU(1,"\n")),2&t&&l.Udp("--warn-primary",null==i.theme?null:i.theme.primary)("--warn-secondary",null==i.theme?null:i.theme.secondary)},styles:['@keyframes animate-info-background{0%{opacity:0;transform:scale(0)}to{opacity:1;transform:scale(1)}}@keyframes animate-info-line{0%{height:0;opacity:0}40%{height:4.8px;opacity:1}to{height:8px;opacity:1}}.hot-toast-info-icon[_ngcontent-%COMP%]{animation:var(--hot-toast-info-icon-animation, animate-info-background .3s cubic-bezier(.175, .885, .32, 1.275) forwards);animation-delay:var(--hot-toast-info-icon-animation-delay, .1s);background-color:var(--hot-toast-info-icon-background-color, var(--info-primary, #0d6efd));border-radius:var(--hot-toast-info-icon-border-radius, 50%);display:var(--hot-toast-info-icon-display, block);height:var(--hot-toast-info-icon-height, 20px);opacity:var(--hot-toast-info-icon-opacity, 0);position:var(--hot-toast-info-icon-position, relative);transform:var(--hot-toast-info-icon-transform, scale(0));width:var(--hot-toast-info-icon-width, 20px)}.hot-toast-info-icon[_ngcontent-%COMP%]:after, .hot-toast-info-icon[_ngcontent-%COMP%]:before{background-color:var(--hot-toast-info-icon-after-before-background-color, var(--info-secondary, #fff));border-radius:var(--hot-toast-info-icon-after-before-border-radius, 3px);box-sizing:var(--hot-toast-info-icon-after-before-box-sizing, border-box);content:var(--hot-toast-info-icon-after-before-content, "");display:var(--hot-toast-info-icon-after-before-display, block);left:var(--hot-toast-info-icon-after-before-left, 8.5px);position:var(--hot-toast-info-icon-after-before-position, absolute);width:var(--hot-toast-info-icon-after-before-width, 2.5px)}.hot-toast-info-icon[_ngcontent-%COMP%]:after{animation:var(--hot-toast-info-icon-after-animation, animate-info-line .2s ease-out forwards);animation-delay:var(--hot-toast-info-icon-after-animation-delay, .2s);height:var(--hot-toast-info-icon-after-height, 0);opacity:var(--hot-toast-info-icon-after-opacity, 0);top:var(--hot-toast-info-icon-after-bottom, 8px)}.hot-toast-info-icon[_ngcontent-%COMP%]:before{height:var(--hot-toast-info-icon-before-height, 2px);top:var(--hot-toast-info-icon-before-top, 4px)}'],changeDetection:0}),n})(),r5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["hot-toast-indicator"]],inputs:{theme:"theme",type:"type"},decls:2,vars:1,consts:[["class","hot-toast-indicator-wrapper",4,"ngIf"],[1,"hot-toast-indicator-wrapper"],[3,"theme"],["class","hot-toast-status-wrapper",4,"ngIf"],[1,"hot-toast-status-wrapper"],[3,"ngSwitch"],[4,"ngSwitchCase"]],template:function(t,i){1&t&&(l.YNc(0,U4,6,2,"div",0),l._uU(1,"\n")),2&t&&l.Q6J("ngIf","blank"!==i.type)},dependencies:[J4,e5,t5,n5,i5,U,Mt,F],styles:[".hot-toast-indicator-wrapper[_ngcontent-%COMP%]{align-items:var(--hot-toast-indicator-wrapper-align-items, center);display:var(--hot-toast-indicator-wrapper-display, flex);justify-content:var(--hot-toast-indicator-wrapper-justify-content, center);min-height:var(--hot-toast-indicator-wrapper-min-height, 20px);min-width:var(--hot-toast-indicator-wrapper-min-width, 20px);position:var(--hot-toast-indicator-wrapper-position, relative)}.hot-toast-status-wrapper[_ngcontent-%COMP%]{position:var(--hot-toast-status-wrapper-position, absolute)}"],changeDetection:0}),n})(),IV=(()=>{class n{constructor(t,i,r){this.injector=t,this.renderer=i,this.ngZone=r,this.offset=0,this.height=new l.vpe,this.beforeClosed=new l.vpe,this.afterClosed=new l.vpe,this.isManualClose=!1,this.unlisteners=[]}ngOnInit(){iO(this.toast.message)&&(this.context={$implicit:this.toastRef}),rO(this.toast.message)&&(this.toastComponentInjector=l.zs3.create({providers:[{provide:DV,useValue:this.toastRef}],parent:this.toast.injector||this.injector}))}ngAfterViewInit(){const t=this.toastBarBase.nativeElement;requestAnimationFrame(()=>{this.height.emit(t.offsetHeight)}),this.ngZone.runOutsideAngular(()=>{this.unlisteners.push(this.renderer.listen(t,"animationstart",i=>{this.isExitAnimation(i)&&this.ngZone.run(()=>this.beforeClosed.emit())}),this.renderer.listen(t,"animationend",i=>{this.isExitAnimation(i)&&this.ngZone.run(()=>this.afterClosed.emit({dismissedByAction:this.isManualClose,id:this.toast.id}))}))}),this.setToastAttributes()}get containerPositionStyle(){const t=this.toast.position.includes("top"),i=t?{top:0}:{bottom:0},r=this.toast.position.includes("left")?{left:0}:this.toast.position.includes("right")?{right:0}:{left:0,right:0,justifyContent:"center"};return{transform:`translateY(${this.offset*(t?1:-1)}px)`,...i,...r}}get toastBarBaseStyles(){const t=this.toast.position.includes("top"),i=`hotToastEnterAnimation${t?"Negative":"Positive"} 350ms cubic-bezier(0.21, 1.02, 0.73, 1) forwards`;return{...this.toast.style,animation:this.toast.autoClose?`${i}, hotToastExitAnimation${t?"Negative":"Positive"} 800ms forwards cubic-bezier(0.06, 0.71, 0.55, 1) ${this.toast.duration}ms`:i}}get isIconString(){return"string"==typeof this.toast.icon}close(){this.isManualClose=!0;((n,e)=>{this.toastBarBase.nativeElement.style.animation=e})(0,`hotToastExitAnimation${this.toast.position.includes("top")?"Negative":"Positive"} 800ms forwards cubic-bezier(0.06, 0.71, 0.55, 1)`)}ngOnDestroy(){for(this.close();this.unlisteners.length;)this.unlisteners.pop()()}isExitAnimation(t){return t.animationName.includes("hotToastExitAnimation")}setToastAttributes(){const t=this.toast.attributes;for(const[i,r]of Object.entries(t))this.renderer.setAttribute(this.toastBarBase.nativeElement,i,r)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.zs3),l.Y36(l.Qsj),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["hot-toast"]],viewQuery:function(t,i){if(1&t&&l.Gf(H4,5),2&t){let r;l.iGM(r=l.CRH())&&(i.toastBarBase=r.first)}},inputs:{toast:"toast",offset:"offset",defaultConfig:"defaultConfig",toastRef:"toastRef"},outputs:{height:"height",beforeClosed:"beforeClosed",afterClosed:"afterClosed"},decls:25,vars:14,consts:[[1,"hot-toast-bar-base-container",3,"ngStyle","ngClass"],[1,"hot-toast-bar-base",3,"ngStyle","ngClass"],["hotToastBarBase",""],["aria-hidden","true",1,"hot-toast-icon"],[4,"ngIf","ngIfElse"],["indicator",""],[1,"hot-toast-message"],[4,"dynamicView","dynamicViewContext","dynamicViewInjector"],["type","button","class","hot-toast-close-btn","aria-label","Close",3,"ngStyle","click",4,"ngIf"],["iconTemplateOrComponent",""],[3,"iconTheme"],[3,"dynamicView"],[3,"theme","type"],["type","button","aria-label","Close",1,"hot-toast-close-btn",3,"ngStyle","click"]],template:function(t,i){if(1&t&&(l.TgZ(0,"div",0),l._uU(1,"\n  "),l.TgZ(2,"div",1,2),l._uU(4,"\n    "),l.TgZ(5,"div",3),l._uU(6,"\n      "),l.YNc(7,$4,7,2,"ng-container",4),l._uU(8,"\n\n      "),l.YNc(9,G4,3,2,"ng-template",null,5,l.W1O),l._uU(11,"\n    "),l.qZA(),l._uU(12,"\n\n    "),l.TgZ(13,"div",6),l._uU(14,"\n      "),l.TgZ(15,"div"),l._uU(16,"\n        "),l.YNc(17,q4,1,0,"ng-container",7),l._uU(18,"\n      "),l.qZA(),l._uU(19,"\n    "),l.qZA(),l._uU(20,"\n\n    "),l.YNc(21,W4,1,1,"button",8),l._uU(22,"\n  "),l.qZA(),l._uU(23,"\n"),l.qZA(),l._uU(24,"\n")),2&t){const r=l.MAs(10);l.Q6J("ngStyle",i.containerPositionStyle)("ngClass","hot-toast-theme-"+i.toast.theme),l.xp6(2),l.Udp("--hot-toast-animation-state",i.isManualClose?"running":"paused"),l.Q6J("ngStyle",i.toastBarBaseStyles)("ngClass",i.toast.className),l.uIk("aria-live",i.toast.ariaLive)("role",i.toast.role),l.xp6(5),l.Q6J("ngIf",void 0!==i.toast.icon)("ngIfElse",r),l.xp6(10),l.Q6J("dynamicView",i.toast.message)("dynamicViewContext",i.context)("dynamicViewInjector",i.toastComponentInjector),l.xp6(4),l.Q6J("ngIf",i.toast.dismissible)}},dependencies:[X4,r5,Qt,un,U,M4],styles:[".hot-toast-bar-base[_ngcontent-%COMP%]{align-items:var(--hot-toast-align-items, center);background-color:var(--hot-toast-bg, #fff);border-radius:var(--hot-toast-border-radius, 4px);box-shadow:var(--hot-toast-shadow, 0 3px 10px rgba(0, 0, 0, .1), 0 3px 3px rgba(0, 0, 0, .05));color:var(--hot-toast-color, #363636);display:var(--hot-toast-display, flex);line-height:var(--hot-toast-line, 1.3);margin:var(--hot-toast-margin, 16px);max-width:var(--hot-toast-max-width, 350px);padding:var(--hot-toast-padding, 8px 10px);pointer-events:var(--hot-toast-pointer-events, auto);width:var(--hot-toast-width, -moz-fit-content);width:var(--hot-toast-width, fit-content);will-change:var(--hot-toast-will-change, transform)}.hot-toast-bar-base[_ngcontent-%COMP%]:hover, .hot-toast-bar-base[_ngcontent-%COMP%]:focus{animation-play-state:var(--hot-toast-animation-state, paused)!important}@media (prefers-reduced-motion: reduce){.hot-toast-bar-base[_ngcontent-%COMP%]{animation-duration:var(--hot-toast-reduced-motion-animation-duration, 10ms)!important}}.hot-toast-message[_ngcontent-%COMP%]{color:var(--hot-toast-message-color, inherit);display:var(--hot-toast-message-display, flex);flex:var(--hot-toast-message-flex, 1);justify-content:var(--hot-toast-message-justify-content, center);margin:var(--hot-toast-message-margin, 4px 10px)}.hot-toast-bar-base-container[_ngcontent-%COMP%]{display:var(--hot-toast-container-display, flex);pointer-events:var(--hot-toast-container-pointer-events, none);position:var(--hot-toast-container-position, absolute);transition:var(--hot-toast-container-transition, transform .23s cubic-bezier(.21, 1.02, .73, 1))}@media (prefers-reduced-motion: reduce){.hot-toast-bar-base-container[_ngcontent-%COMP%]{transition-duration:var(--hot-toast-container-reduced-motion-transition-duration, 10ms)!important}}.hot-toast-bar-base-container.hot-toast-theme-snackbar[_ngcontent-%COMP%]   .hot-toast-bar-base[_ngcontent-%COMP%]{background:var(--hot-toast-snackbar-bg, #323232);box-shadow:var(--hot-toast-snackbar-shadow, 0 3px 5px -1px rgba(0, 0, 0, .2), 0 6px 10px 0 rgba(0, 0, 0, .14), 0 1px 18px 0 rgba(0, 0, 0, .12));color:var(--hot-toast-snackbar-color, white)}.hot-toast-bar-base-container.hot-toast-theme-snackbar[_ngcontent-%COMP%]   .hot-toast-close-btn[_ngcontent-%COMP%]{filter:var(--hot-toast-snackbar-close-btn-filter, invert(1) grayscale(100%) brightness(200%))}@keyframes hotToastEnterAnimationNegative{0%{opacity:.5;transform:translateY(-80px) scale(.6)}to{opacity:1;transform:translate(0) scale(1)}}@keyframes hotToastEnterAnimationPositive{0%{opacity:.5;transform:translateY(80px) scale(.6)}to{opacity:1;transform:translate(0) scale(1)}}@keyframes hotToastExitAnimationPositive{0%{opacity:1;transform:translateZ(-1px) scale(1)}to{opacity:0;transform:translate3d(0,130px,-1px) scale(.5)}}@keyframes hotToastExitAnimationNegative{0%{opacity:1;transform:translateZ(-1px) scale(1)}to{opacity:0;transform:translate3d(0,-130px,-1px) scale(.5)}}.hot-toast-close-btn[_ngcontent-%COMP%]{align-self:var(--hot-toast-close-btn-align-self, flex-start);background-color:var(--hot-toast-close-btn-background-color, transparent);background-image:var(--hot-toast-close-btn-background-image, url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%23000'%3e%3cpath d='M.293.293a1 1 0 011.414 0L8 6.586 14.293.293a1 1 0 111.414 1.414L9.414 8l6.293 6.293a1 1 0 01-1.414 1.414L8 9.414l-6.293 6.293a1 1 0 01-1.414-1.414L6.586 8 .293 1.707a1 1 0 010-1.414z'/%3e%3c/svg%3e\"));background-position:var(--hot-toast-close-btn-background-position, center);background-repeat:var(--hot-toast-close-btn-background-repeat, no-repeat);background-size:var(--hot-toast-close-btn-background-size, .75em);border:var(--hot-toast-close-btn-border, 0);border-radius:var(--hot-toast-close-btn-border-radius, .25rem);box-sizing:var(--hot-toast-close-btn-box-sizing, content-box);display:var(--hot-toast-close-btn-display, flex);height:var(--hot-toast-close-btn-height, .8em);margin-top:var(--hot-toast-close-btn-margin-top, .25em);opacity:var(--hot-toast-close-btn-opacity, .5);padding:var(--hot-toast-close-btn-padding, .25em);width:var(--hot-toast-close-btn-width, .8em)}.hot-toast-close-btn[_ngcontent-%COMP%]:focus{box-shadow:var(--hot-toast-close-btn-box-shadow, 0 0 0 .125rem rgba(13, 110, 253, .25));outline:var(--hot-toast-close-btn-outline, none)}.hot-toast-close-btn[_ngcontent-%COMP%]:hover, .hot-toast-close-btn[_ngcontent-%COMP%]:focus{opacity:var(--hot-toast-close-btn-opacity, .75)}.hot-toast-icon[_ngcontent-%COMP%]{align-self:var(--hot-toast-icon-align-self, flex-start);padding-top:var(--hot-toast-icon-padding-top, .25em)}"],changeDetection:0}),n})(),s5=(()=>{class n{constructor(t){this.cdr=t,this.toasts=[],this.toastRefs=[],this._onClosed=new Ot.x,this.onClosed$=this._onClosed.asObservable()}trackById(t,i){return i.id}calculateOffset(t,i){const r=this.toasts.filter(h=>h.visible&&h.position===i),s=r.findIndex(h=>h.id===t);return-1!==s?r.slice(...this.defaultConfig.reverseOrder?[s+1]:[0,s]).reduce((h,p)=>h+(p.height||0)+8,0):0}updateHeight(t,i){i.height=t,this.cdr.detectChanges()}addToast(t){this.toastRefs.push(t);const i=t.getToast();return this.toasts.push(t.getToast()),this.cdr.detectChanges(),{dispose:()=>{this.closeToast(i.id)},updateMessage:r=>{i.message=r,this.cdr.detectChanges()},updateToast:r=>{this.updateToasts(i,r),this.cdr.detectChanges()},afterClosed:this.getAfterClosed(i)}}closeToast(t){if(t){const i=this.hotToastComponentList.find(r=>r.toast.id===t);i&&i.close()}else this.hotToastComponentList.forEach(i=>i.close())}beforeClosed(t){t.visible=!1}afterClosed(t){this.toasts.findIndex(r=>r.id===t.id)>-1&&(this._onClosed.next(t),this.toasts=this.toasts.filter(r=>r.id!==t.id),this.toastRefs=this.toastRefs.filter(r=>r.getToast().id!==t.id),this.cdr.detectChanges())}hasToast(t){return this.toasts.findIndex(i=>i.id===t)>-1}getAfterClosed(t){return this.onClosed$.pipe(Ui(i=>i.id===t.id))}updateToasts(t,i){this.toasts=this.toasts.map(r=>({...r,...r.id===t.id&&{...t,...i}}))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.sBO))},n.\u0275cmp=l.Xpm({type:n,selectors:[["hot-toast-container"]],viewQuery:function(t,i){if(1&t&&l.Gf(IV,5),2&t){let r;l.iGM(r=l.CRH())&&(i.hotToastComponentList=r)}},inputs:{defaultConfig:"defaultConfig"},decls:8,vars:2,consts:[[2,"position","fixed","z-index","9999","top","0","right","0","bottom","0","left","0","pointer-events","none"],[2,"position","relative","height","100%"],[3,"toast","offset","toastRef","height","beforeClosed","afterClosed",4,"ngFor","ngForOf","ngForTrackBy"],[3,"toast","offset","toastRef","height","beforeClosed","afterClosed"]],template:function(t,i){1&t&&(l.TgZ(0,"div",0),l._uU(1,"\n  "),l.TgZ(2,"div",1),l._uU(3,"\n    "),l.YNc(4,Z4,1,3,"hot-toast",2),l._uU(5,"\n  "),l.qZA(),l._uU(6,"\n"),l.qZA(),l._uU(7,"\n")),2&t&&(l.xp6(4),l.Q6J("ngForOf",i.toasts)("ngForTrackBy",i.trackById))},dependencies:[IV,ri],encapsulation:2,changeDetection:0}),n})();class TV{constructor(){this.reverseOrder=!1,this.ariaLive="polite",this.role="status",this.position="top-center",this.autoClose=!0,this.theme="toast",this.attributes={},this.success={content:""},this.error={content:""},this.loading={content:""},this.blank={content:""},this.warning={content:""}}}class l5{constructor(){this.storage="local",this.key="ngneat/hototast-${id}",this.count=1,this.enabled=!1}}let SV=(()=>{class n{constructor(t,i,r){this._viewService=t,this.platformId=i,this._isInitialized=!1,this._defaultConfig=new TV,this._defaultPersistConfig=new l5,r&&(this._defaultConfig={...this._defaultConfig,...r})}get defaultConfig(){return this._defaultConfig}set defaultConfig(t){this._defaultConfig={...this._defaultConfig,...t},this._componentRef&&this._componentRef.setInput("defaultConfig",this._defaultConfig)}show(t,i){return this.createToast(t||this._defaultConfig.blank.content,"blank",{...this._defaultConfig,...i})}error(t,i){return this.createToast(t||this._defaultConfig.error.content,"error",{...this._defaultConfig,...this._defaultConfig?.error,...i})}success(t,i){return this.createToast(t||this._defaultConfig.success.content,"success",{...this._defaultConfig,...this._defaultConfig?.success,...i})}loading(t,i){return this.createToast(t||this._defaultConfig.loading.content,"loading",{...this._defaultConfig,...this._defaultConfig?.loading,...i})}warning(t,i){return this.createToast(t||this._defaultConfig.warning.content,"warning",{...this._defaultConfig,...this._defaultConfig?.warning,...i})}info(t,i){return this.createToast(t||this._defaultConfig.warning.content,"info",{...this._defaultConfig,...this._defaultConfig?.warning,...i})}observe(t){return i=>{let r,s=0;const u=t.loading??this._defaultConfig.loading?.content,h=t.success??this._defaultConfig.success?.content,p=t.error??this._defaultConfig.error?.content;return hc(()=>(u&&(r=this.createLoadingToast(u),s=Date.now()),i.pipe((0,zi.b)({...h&&{next:y=>{r=this.createOrUpdateToast(t,y,r,"success",0===s?s:Date.now()-s)}},...p&&{error:y=>{r=this.createOrUpdateToast(t,y,r,"error",0===s?s:Date.now()-s)}}}))))}}close(t){this._componentRef&&this._componentRef.ref.instance.closeToast(t)}init(){Ds(this.platformId)||(this._componentRef=this._viewService.createComponent(s5).setInput("defaultConfig",this._defaultConfig).appendTo(document.body))}createOrUpdateToast(t,i,r,s,u){let h=null,p={};if(({content:h,options:p}=this.getContentAndOptions(s,t[s]||(this._defaultConfig[s]?this._defaultConfig[s].content:""))),h=((n,e)=>(n=>"function"==typeof n)(n)?n(e):n)(h,i),r){r.updateMessage(h);const y={type:s,duration:u+CV[s],...p,...p.duration&&{duration:u+p.duration}};r.updateToast(y)}else this.createToast(h,s,p);return r}createToast(t,i,r,s){this._isInitialized||(this._isInitialized=!0,this.init());const u=Date.now(),h=r?.id??u.toString();if(!this.isDuplicate(h)&&(!r.persist?.enabled||r.persist?.enabled&&this.handleStorageValue(h,r))){const p={ariaLive:r?.ariaLive??"polite",createdAt:u,duration:r?.duration??CV[i],id:h,message:t,role:r?.role??"status",type:i,visible:!0,observableMessages:s??void 0,...r};return new DV(p).appendTo(this._componentRef.ref.instance)}}isDuplicate(t){return this._componentRef.ref.instance.hasToast(t)}handleStorageValue(t,i){let r=1;const s={...this._defaultPersistConfig,...i.persist},u="local"===s.storage?localStorage:sessionStorage,h=s.key.replace(/\${id}/g,t);let p=u.getItem(h);return p?(p=parseInt(p,10),r=p>0?p-1:p):r=s.count,u.setItem(h,r.toString()),r}getContentAndOptions(t,i){let r,s={...this._defaultConfig,...this._defaultConfig[t]};if("string"==typeof i||iO(i)||rO(i))r=i;else{let u;({content:r,...u}=i),s={...s,...u}}return{content:r,options:s}}createLoadingToast(t){let i=null,r={};return({content:i,options:r}=this.getContentAndOptions("loading",t)),this.loading(i,r)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(wV),l.LFG(l.Lbi),l.LFG(TV,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const MV="body[_ngcontent-%COMP%]{font-family:Overpass,sans-serif;font-weight:400;font-size:100%;color:#1b262c;margin:0;background-color:#96d6a4}#contenedor[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin:0;padding:0;min-width:100vw;min-height:100vh;width:100%;height:100%;background-image:url(/src/assets/Imagenes/side-nav-bg.jpg);background-position:center;background-size:cover}#login[_ngcontent-%COMP%]{width:100%;max-width:320px;min-width:320px;padding:30px 30px 50px;background-color:#719192;box-shadow:0 0 5px 5px #00000026;border-radius:3px;-moz-border-radius:3px 3px 3px 3px;-webkit-border-radius:3px 3px 3px 3px;box-sizing:border-box;opacity:1;filter:alpha(opacity=1)}#login[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-family:Overpass,sans-serif;font-size:120%;color:#3c4245;margin-top:15px}#login[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-family:Overpass,sans-serif;font-size:110%;color:#1b262c;display:block;width:100%;height:40px;margin-bottom:10px;padding:5px 5px 5px 10px;box-sizing:border-box;border:none;border-radius:3px;-moz-border-radius:3px 3px 3px 3px;-webkit-border-radius:3px 3px 3px 3px}#login[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{font-family:Overpass,sans-serif;color:#e4e4e4}@keyframes pulse{0%{box-shadow:0 0 0 0 var(--hover)}}.up[_ngcontent-%COMP%]:hover, .up[_ngcontent-%COMP%]:focus{box-shadow:inset 0 -3.25em 0 0 var(--hover)}.up[_ngcontent-%COMP%]{--color: #e4cb58;--hover: #94e458}button[_ngcontent-%COMP%]{color:var(--color);transition:.25s}button[_ngcontent-%COMP%]:hover, button[_ngcontent-%COMP%]:focus{border-color:var(--hover);color:#fff}button[_ngcontent-%COMP%]{background:none;border:2px solid;font:inherit;line-height:1;margin:1em;padding:1em 3em}@media all and (max-width: 775px){#contenedorcentrado[_ngcontent-%COMP%]{flex-direction:column-reverse;min-width:380px;max-width:900px;width:90%;background-color:#5f6769;border-radius:10px;-moz-border-radius:10px 10px 10px 10px;-webkit-border-radius:10px 10px 10px 10px;box-shadow:0 0 5px 5px #00000026;padding:30px;box-sizing:border-box}#login[_ngcontent-%COMP%]{margin:0 auto}#derecho[_ngcontent-%COMP%]{padding:20px}#login[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{text-align:left}}";let c5=(()=>{class n{constructor(t,i,r){this.fb=t,this.userService=i,this.toast=r,this.user$=this.userService.currentUserProfile$,this.profileForm=this.fb.group({id:[""],nombre:[""],apellido:[""],email:[""],tel:[""],image:[""]})}ngOnInit(){this.userService.currentUserProfile$.subscribe(t=>{this.profileForm.patchValue({...t})})}uploadFile(t,{id:i}){this.userService.uploadImage(t.target.files[0],`UserServerP/${i}`).pipe(this.toast.observe({loading:"Subiendo foto de perfil...",success:"foto de perfil actualizada",error:"Ocurrio un error al subir la foto"}),pi(r=>this.userService.updateUser({id:i,image:r}))).subscribe()}saveProfile(){const{id:t,...i}=this.profileForm.value;!t||this.userService.updateUser({id:t,...i}).pipe(this.toast.observe({loading:"Guardando datos del perfil...",success:"Perfil actualizado con exito",error:"Ocurrio un error al actualizar"})).subscribe()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Vv),l.Y36(o0),l.Y36(SV))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-perfil"]],decls:26,vars:1,consts:[["lang","es"],["charset","utf-8"],["name","viewport","content","width=device-width, initial-scale=1.0"],["id","contenedor"],["id","login"],["id","loginform",3,"formGroup","ngSubmit"],["for","usuario"],["formControlName","nombre","onkeydown","return /[a-z, ]/i.test(event.key)","id","usuario","type","text","name","usuario","placeholder","Usuario","required",""],["formControlName","apellido","onkeydown","return /[a-z, ]/i.test(event.key)","id","usuario","type","text","name","apellidos","placeholder","Apellidos","required",""],["formControlName","email","id","usuario","type","text","name","usuario","placeholder","Correo","required",""],[1,"buttons"],["type","submit","title","Ingresar","name","Ingresar",1,"up"],["routerLink","/inicio"]],template:function(t,i){1&t&&(l.TgZ(0,"html",0)(1,"head"),l._UZ(2,"meta",1),l.TgZ(3,"title"),l._uU(4," Perfil "),l.qZA(),l._UZ(5,"meta",2),l.qZA(),l.TgZ(6,"body")(7,"div",3)(8,"div",4)(9,"form",5),l.NdJ("ngSubmit",function(){return i.saveProfile()}),l.TgZ(10,"label",6),l._uU(11,"Nombre"),l.qZA(),l._UZ(12,"input",7),l.TgZ(13,"label",6),l._uU(14,"Apellidos"),l.qZA(),l._UZ(15,"input",8),l.TgZ(16,"label",6),l._uU(17,"Correo"),l.qZA(),l._UZ(18,"input",9),l.TgZ(19,"div",10)(20,"button",11),l._uU(21,"Actualizar Datos"),l.qZA()(),l.TgZ(22,"div",10)(23,"a",12)(24,"button",11),l._uU(25,"Regresar al Inicio"),l.qZA()()()()()()()()),2&t&&(l.xp6(9),l.Q6J("formGroup",i.profileForm))},dependencies:[td,ig,Oa,Gm,qm,Jo,Qo,dd],styles:[MV,MV]}),n})();function eh(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function lO(n,e=vT.z){return(0,pr.e)((t,i)=>{let r=null,s=null,u=null;const h=()=>{if(r){r.unsubscribe(),r=null;const y=s;s=null,i.next(y)}};function p(){const y=u+n,E=e.now();if(E<y)return r=this.schedule(void 0,y-E),void i.add(r);h()}t.subscribe((0,xi.x)(i,y=>{s=y,u=e.now(),r||(r=e.schedule(p,n),i.add(r))},()=>{h(),i.complete()},void 0,()=>{s=r=null}))})}function PV(n){return Ui((e,t)=>n<=t)}var w5=P(5032);function di(n){return(0,pr.e)((e,t)=>{(0,Jr.Xf)(n).subscribe((0,xi.x)(t,()=>t.complete(),w5.Z)),!t.closed&&e.subscribe(t)})}function $n(n){return null!=n&&"false"!=`${n}`}function Ap(n,e=0){return NV(n)?Number(n):e}function NV(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function ST(n){return Array.isArray(n)?n:[n]}function Sr(n){return null==n?"":"string"==typeof n?n:`${n}px`}function ou(n){return n instanceof l.SBq?n.nativeElement:n}let cO;try{cO=typeof Intl<"u"&&Intl.v8BreakIterator}catch{cO=!1}let Y_,os=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?vu(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!cO)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.Lbi))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),MT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const FV=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function LV(){if(Y_)return Y_;if("object"!=typeof document||!document)return Y_=new Set(FV),Y_;let n=document.createElement("input");return Y_=new Set(FV.filter(e=>(n.setAttribute("type",e),n.type===e))),Y_}let c0,xp,uO,Ga;function K_(n){return function C5(){if(null==c0&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>c0=!0}))}finally{c0=c0||!1}return c0}()?n:!!n.capture}function E5(){if(null==xp){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return xp=!1,xp;if("scrollBehavior"in document.documentElement.style)xp=!0;else{const n=Element.prototype.scrollTo;xp=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return xp}function kp(n){return n.composedPath?n.composedPath()[0]:n.target}function dO(){return typeof Ga.__karma__<"u"&&!!Ga.__karma__||typeof Ga.jasmine<"u"&&!!Ga.jasmine||typeof Ga.jest<"u"&&!!Ga.jest||typeof Ga.Mocha<"u"&&!!Ga.Mocha}Ga=typeof global<"u"?global:typeof window<"u"?window:{};let VV=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),T5=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,i)=>this._cleanupObserver(i))}observe(t){const i=ou(t);return new Vi.y(r=>{const u=this._observeElement(i).subscribe(r);return()=>{u.unsubscribe(),this._unobserveElement(i)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const i=new Ot.x,r=this._mutationObserverFactory.create(s=>i.next(s));r&&r.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:r,stream:i,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:i,stream:r}=this._observedElements.get(t);i&&i.disconnect(),r.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(VV))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),S5=(()=>{class n{constructor(t,i,r){this._contentObserver=t,this._elementRef=i,this._ngZone=r,this.event=new l.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=$n(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=Ap(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(lO(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(T5),l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),BV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[VV]}),n})();function xT(n,e){return(n.getAttribute(e)||"").match(/\S+/g)||[]}const HV="cdk-describedby-message-container",zV="cdk-describedby-message",kT="cdk-describedby-host";let x5=0;const Hl=new Map;let Do=null,k5=(()=>{class n{constructor(t){this._document=t}describe(t,i,r){if(!this._canBeDescribed(t,i))return;const s=hO(i,r);"string"!=typeof i?(jV(i),Hl.set(s,{messageElement:i,referenceCount:0})):Hl.has(s)||this._createMessageElement(i,r),this._isElementDescribedByMessage(t,s)||this._addMessageReference(t,s)}removeDescription(t,i,r){if(!i||!this._isElementNode(t))return;const s=hO(i,r);if(this._isElementDescribedByMessage(t,s)&&this._removeMessageReference(t,s),"string"==typeof i){const u=Hl.get(s);u&&0===u.referenceCount&&this._deleteMessageElement(s)}Do&&0===Do.childNodes.length&&this._deleteMessagesContainer()}ngOnDestroy(){const t=this._document.querySelectorAll(`[${kT}]`);for(let i=0;i<t.length;i++)this._removeCdkDescribedByReferenceIds(t[i]),t[i].removeAttribute(kT);Do&&this._deleteMessagesContainer(),Hl.clear()}_createMessageElement(t,i){const r=this._document.createElement("div");jV(r),r.textContent=t,i&&r.setAttribute("role",i),this._createMessagesContainer(),Do.appendChild(r),Hl.set(hO(t,i),{messageElement:r,referenceCount:0})}_deleteMessageElement(t){Hl.get(t)?.messageElement?.remove(),Hl.delete(t)}_createMessagesContainer(){Do||(this._document.getElementById(HV)?.remove(),Do=this._document.createElement("div"),Do.id=HV,Do.style.visibility="hidden",Do.classList.add("cdk-visually-hidden"),this._document.body.appendChild(Do))}_deleteMessagesContainer(){Do&&(Do.remove(),Do=null)}_removeCdkDescribedByReferenceIds(t){const i=xT(t,"aria-describedby").filter(r=>0!=r.indexOf(zV));t.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(t,i){const r=Hl.get(i);(function M5(n,e,t){const i=xT(n,e);i.some(r=>r.trim()==t.trim())||(i.push(t.trim()),n.setAttribute(e,i.join(" ")))})(t,"aria-describedby",r.messageElement.id),t.setAttribute(kT,""),r.referenceCount++}_removeMessageReference(t,i){const r=Hl.get(i);r.referenceCount--,function A5(n,e,t){const r=xT(n,e).filter(s=>s!=t.trim());r.length?n.setAttribute(e,r.join(" ")):n.removeAttribute(e)}(t,"aria-describedby",r.messageElement.id),t.removeAttribute(kT)}_isElementDescribedByMessage(t,i){const r=xT(t,"aria-describedby"),s=Hl.get(i),u=s&&s.messageElement.id;return!!u&&-1!=r.indexOf(u)}_canBeDescribed(t,i){if(!this._isElementNode(t))return!1;if(i&&"object"==typeof i)return!0;const r=null==i?"":`${i}`.trim(),s=t.getAttribute("aria-label");return!(!r||s&&s.trim()===r)}_isElementNode(t){return t.nodeType===this._document.ELEMENT_NODE}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(re))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function hO(n,e){return"string"==typeof n?`${e||""}/${n}`:n}function jV(n){n.id||(n.id=`${zV}-${x5++}`)}class R5 extends class $V{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Ot.x,this._typeaheadSubscription=ps.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new Ot.x,this.change=new Ot.x,e instanceof l.n_E&&e.changes.subscribe(t=>{if(this._activeItem){const r=t.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}})}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,zi.b)(t=>this._pressedLetters.push(t)),lO(e),Ui(()=>this._pressedLetters.length>0),(0,Et.U)(()=>this._pressedLetters.join(""))).subscribe(t=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const s=(this._activeItemIndex+r)%i.length,u=i[s];if(!this._skipPredicateFn(u)&&0===u.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!e[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;default:return void((r||eh(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),i="number"==typeof e?e:t.indexOf(e);this._activeItem=t[i]??null,this._activeItemIndex=i}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let i=1;i<=t.length;i++){const r=(this._activeItemIndex+e*i+t.length)%t.length;if(!this._skipPredicateFn(t[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const i=this._getItemsArray();if(i[e]){for(;this._skipPredicateFn(i[e]);)if(!i[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof l.n_E?this._items.toArray():this._items}}{setActiveItem(e){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(e),this.activeItem&&this.activeItem.setActiveStyles()}}function qV(n){return 0===n.offsetX&&0===n.offsetY}function WV(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const B5=new l.OlP("cdk-input-modality-detector-options"),U5={ignoreKeys:[18,17,224,91,16]},Q_=K_({passive:!0,capture:!0});let H5=(()=>{class n{constructor(t,i,r,s){this._platform=t,this._mostRecentTarget=null,this._modality=new Li(null),this._lastTouchMs=0,this._onKeydown=u=>{this._options?.ignoreKeys?.some(h=>h===u.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=kp(u))},this._onMousedown=u=>{Date.now()-this._lastTouchMs<650||(this._modality.next(qV(u)?"keyboard":"mouse"),this._mostRecentTarget=kp(u))},this._onTouchstart=u=>{WV(u)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=kp(u))},this._options={...U5,...s},this.modalityDetected=this._modality.pipe(PV(1)),this.modalityChanged=this.modalityDetected.pipe(qR()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Q_),r.addEventListener("mousedown",this._onMousedown,Q_),r.addEventListener("touchstart",this._onTouchstart,Q_)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Q_),document.removeEventListener("mousedown",this._onMousedown,Q_),document.removeEventListener("touchstart",this._onTouchstart,Q_))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(os),l.LFG(l.R0b),l.LFG(re),l.LFG(B5,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const z5=new l.OlP("liveAnnouncerElement",{providedIn:"root",factory:function j5(){return null}}),$5=new l.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let G5=(()=>{class n{constructor(t,i,r,s){this._ngZone=i,this._defaultOptions=s,this._document=r,this._liveElement=t||this._createLiveElement()}announce(t,...i){const r=this._defaultOptions;let s,u;return 1===i.length&&"number"==typeof i[0]?u=i[0]:[s,u]=i,this.clear(),clearTimeout(this._previousTimeout),s||(s=r&&r.politeness?r.politeness:"polite"),null==u&&r&&(u=r.duration),this._liveElement.setAttribute("aria-live",s),this._ngZone.runOutsideAngular(()=>new Promise(h=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,h(),"number"==typeof u&&(this._previousTimeout=setTimeout(()=>this.clear(),u))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null}_createLiveElement(){const t="cdk-live-announcer-element",i=this._document.getElementsByClassName(t),r=this._document.createElement("div");for(let s=0;s<i.length;s++)i[s].remove();return r.classList.add(t),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),this._document.body.appendChild(r),r}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(z5,8),l.LFG(l.R0b),l.LFG(re),l.LFG($5,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const q5=new l.OlP("cdk-focus-monitor-default-options"),RT=K_({passive:!0,capture:!0});let YV=(()=>{class n{constructor(t,i,r,s,u){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Ot.x,this._rootNodeFocusAndBlurListener=h=>{const p=kp(h),y="focus"===h.type?this._onFocus:this._onBlur;for(let E=p;E;E=E.parentElement)y.call(this,h,E)},this._document=s,this._detectionMode=u?.detectionMode||0}monitor(t,i=!1){const r=ou(t);if(!this._platform.isBrowser||1!==r.nodeType)return bt(null);const s=function I5(n){if(function D5(){if(null==uO){const n=typeof document<"u"?document.head:null;uO=!(!n||!n.createShadowRoot&&!n.attachShadow)}return uO}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),u=this._elementInfo.get(r);if(u)return i&&(u.checkChildren=!0),u.subject;const h={checkChildren:i,subject:new Ot.x,rootNode:s};return this._elementInfo.set(r,h),this._registerGlobalListeners(h),h.subject}stopMonitoring(t){const i=ou(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const s=ou(t);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([h,p])=>this._originChanged(h,i,p)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),s=kp(t);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r.subject,null))}_emitOrigin(t,i){this._ngZone.run(()=>t.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,RT),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,RT)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(di(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,RT),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,RT),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r.subject,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,s)=>{(s===t||r.checkChildren&&s.contains(t))&&i.push([s,r])}),i}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.R0b),l.LFG(os),l.LFG(H5),l.LFG(re,8),l.LFG(q5,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const KV="cdk-high-contrast-black-on-white",QV="cdk-high-contrast-white-on-black",fO="cdk-high-contrast-active";let XV=(()=>{class n{constructor(t,i){this._platform=t,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(fO),t.remove(KV),t.remove(QV),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(t.add(fO),t.add(KV)):2===i&&(t.add(fO),t.add(QV))}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(os),l.LFG(re))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),W5=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(XV))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[MT,BV]]}),n})();const Z5=new l.OlP("cdk-dir-doc",{providedIn:"root",factory:function Y5(){return(0,l.f3M)(re)}});let Rp=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new l.vpe,t){const r=t.documentElement?t.documentElement.dir:null,s=(t.body?t.body.dir:null)||r;this.value="ltr"===s||"rtl"===s?s:"ltr"}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Z5,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),u0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const JV=new l.GfV("13.0.0");function K5(n,e){if(1&n&&l._UZ(0,"mat-pseudo-checkbox",4),2&n){const t=l.oxw();l.Q6J("state",t.selected?"checked":"unchecked")("disabled",t.disabled)}}function Q5(n,e){if(1&n&&(l.TgZ(0,"span",5),l._uU(1),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.hij("(",t.group.label,")")}}const X5=["*"],eB=new l.GfV("13.0.0"),eq=new l.OlP("mat-sanity-checks",{providedIn:"root",factory:function J5(){return!0}});let ai=(()=>{class n{constructor(t,i,r){this._hasDoneGlobalChecks=!1,this._document=r,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=i,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!(!(0,l.X6Q)()||dO())&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);const i=getComputedStyle(t);i&&"none"!==i.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),t.remove()}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&eB.full!==JV.full&&console.warn("The Angular Material version ("+eB.full+") does not match the Angular CDK version ("+JV.full+").\nPlease ensure the versions of these two packages exactly match.")}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(XV),l.LFG(eq,8),l.LFG(re))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[u0],u0]}),n})();function pO(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=$n(e)}}}function OT(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function mO(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=$n(e)}}}function tB(n,e=0){return class extends n{constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?Ap(t):this.defaultTabIndex}}}function gO(n){return class extends n{constructor(...e){super(...e),this.stateChanges=new Ot.x,this.errorState=!1}updateErrorState(){const e=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==e&&(this.errorState=s,this.stateChanges.next())}}}function tq(n){return class extends n{constructor(...e){super(...e),this._isInitialized=!1,this._pendingSubscribers=[],this.initialized=new Vi.y(t=>{this._isInitialized?this._notifySubscriber(t):this._pendingSubscribers.push(t)})}_markInitialized(){this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}_notifySubscriber(e){e.next(),e.complete()}}}let d0=(()=>{class n{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[ai],ai]}),n})();class iq{constructor(e,t,i){this._renderer=e,this.element=t,this.config=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const iB={enterDuration:225,exitDuration:150},_O=K_({passive:!0}),rB=["mousedown","touchstart"],sB=["mouseup","mouseleave","touchend","touchcancel"];class oB{constructor(e,t,i,r){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=ou(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...iB,...i.animation};i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const u=i.radius||function oq(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),h=e-r.left,p=t-r.top,y=s.enterDuration,E=document.createElement("div");E.classList.add("mat-ripple-element"),E.style.left=h-u+"px",E.style.top=p-u+"px",E.style.height=2*u+"px",E.style.width=2*u+"px",null!=i.color&&(E.style.backgroundColor=i.color),E.style.transitionDuration=`${y}ms`,this._containerElement.appendChild(E),function sq(n){window.getComputedStyle(n).getPropertyValue("opacity")}(E),E.style.transform="scale(1)";const I=new iq(this,E,i);return I.state=0,this._activeRipples.add(I),i.persistent||(this._mostRecentTransientRipple=I),this._runTimeoutOutsideZone(()=>{const O=I===this._mostRecentTransientRipple;I.state=1,!i.persistent&&(!O||!this._isPointerDown)&&I.fadeOut()},y),I}fadeOutRipple(e){const t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const i=e.element,r={...iB,...e.config.animation};i.style.transitionDuration=`${r.exitDuration}ms`,i.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(()=>{e.state=3,i.remove()},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=ou(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(rB))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(sB),this._pointerUpEventsRegistered=!0)}_onMousedown(e){const t=qV(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!WV(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,_O)})})}_removeTriggerEvents(){this._triggerElement&&(rB.forEach(e=>{this._triggerElement.removeEventListener(e,this,_O)}),this._pointerUpEventsRegistered&&sB.forEach(e=>{this._triggerElement.removeEventListener(e,this,_O)}))}}const aB=new l.OlP("mat-ripple-global-options");let yO=(()=>{class n{constructor(t,i,r,s,u){this._elementRef=t,this._animationMode=u,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new oB(this,i,t,r)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(os),l.Y36(aB,8),l.Y36(l.QbO,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,i){2&t&&l.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),vO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[ai,MT],ai]}),n})(),aq=(()=>{class n{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.QbO,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(t,i){2&t&&l.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===i.state)("mat-pseudo-checkbox-checked","checked"===i.state)("mat-pseudo-checkbox-disabled",i.disabled)("_mat-animation-noopable","NoopAnimations"===i._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(t,i){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),n})(),lq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[ai]]}),n})();const lB=new l.OlP("MAT_OPTION_PARENT_COMPONENT"),cB=new l.OlP("MatOptgroup");let cq=0;class uq{constructor(e,t=!1){this.source=e,this.isUserInput=t}}let dq=(()=>{class n{constructor(t,i,r,s){this._element=t,this._changeDetectorRef=i,this._parent=r,this.group=s,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+cq++,this.onSelectionChange=new l.vpe,this._stateChanges=new Ot.x}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=$n(t)}get disableRipple(){return this._parent&&this._parent.disableRipple}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(t,i){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){(13===t.keyCode||32===t.keyCode)&&!eh(t)&&(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue=t,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new uq(this,t))}}return n.\u0275fac=function(t){l.$Z()},n.\u0275dir=l.lG2({type:n,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),n})(),uB=(()=>{class n extends dq{constructor(t,i,r,s){super(t,i,r,s)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(lB,8),l.Y36(cB,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(t,i){1&t&&l.NdJ("click",function(){return i._selectViaInteraction()})("keydown",function(s){return i._handleKeydown(s)}),2&t&&(l.Ikx("id",i.id),l.uIk("tabindex",i._getTabIndex())("aria-selected",i._getAriaSelected())("aria-disabled",i.disabled.toString()),l.ekj("mat-selected",i.selected)("mat-option-multiple",i.multiple)("mat-active",i.active)("mat-option-disabled",i.disabled))},exportAs:["matOption"],features:[l.qOj],ngContentSelectors:X5,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(t,i){1&t&&(l.F$t(),l.YNc(0,K5,1,2,"mat-pseudo-checkbox",0),l.TgZ(1,"span",1),l.Hsn(2),l.qZA(),l.YNc(3,Q5,2,1,"span",2),l._UZ(4,"div",3)),2&t&&(l.Q6J("ngIf",i.multiple),l.xp6(3),l.Q6J("ngIf",i.group&&i.group._inert),l.xp6(1),l.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disabled||i.disableRipple))},dependencies:[aq,U,yO],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),n})();function dB(n,e,t){if(t.length){let i=e.toArray(),r=t.toArray(),s=0;for(let u=0;u<n+1;u++)i[u].group&&i[u].group===r[s]&&s++;return s}return 0}let hB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[vO,co,ai,lq]]}),n})();const fq=["mat-button",""],pq=["*"],gq=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],_q=OT(pO(mO(class{constructor(n){this._elementRef=n}})));let yq=(()=>{class n extends _q{constructor(t,i,r){super(t),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const s of gq)this._hasHostAttributes(s)&&this._getHostElement().classList.add(s);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,i){t?this._focusMonitor.focusVia(this._getHostElement(),t,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(YV),l.Y36(l.QbO,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,i){if(1&t&&l.Gf(yO,5),2&t){let r;l.iGM(r=l.CRH())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,i){2&t&&(l.uIk("disabled",i.disabled||null),l.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[l.qOj],attrs:fq,ngContentSelectors:pq,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,i){1&t&&(l.F$t(),l.TgZ(0,"span",0),l.Hsn(1),l.qZA(),l._UZ(2,"span",1)(3,"span",2)),2&t&&(l.xp6(2),l.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),l.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},dependencies:[yO],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),bO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[vO,ai],ai]}),n})();var vq=P(1144);const bq=["addListener","removeListener"],wq=["addEventListener","removeEventListener"],Cq=["on","off"];function PT(n,e,t,i){if((0,jr.m)(t)&&(i=t,t=void 0),i)return PT(n,e,t).pipe(Mh(i));const[r,s]=function Iq(n){return(0,jr.m)(n.addEventListener)&&(0,jr.m)(n.removeEventListener)}(n)?wq.map(u=>h=>n[u](e,h,t)):function Eq(n){return(0,jr.m)(n.addListener)&&(0,jr.m)(n.removeListener)}(n)?bq.map(fB(n,e)):function Dq(n){return(0,jr.m)(n.on)&&(0,jr.m)(n.off)}(n)?Cq.map(fB(n,e)):[];if(!r&&(0,vq.z)(n))return(0,Hi.z)(u=>PT(u,e,t))((0,Jr.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new Vi.y(u=>{const h=(...p)=>u.next(1<p.length?p:p[0]);return r(h),()=>s(h)})}function fB(n,e){return t=>i=>n[t](e,i)}var pB=P(4408);const f0={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=f0;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(s=>{t=void 0,n(s)});return new ps.w0(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=f0;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=f0;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var mB=P(7565);new class Sq extends mB.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class Tq extends pB.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=f0.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:s}=e;null!=t&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==t&&(f0.cancelAnimationFrame(t),e._scheduled=void 0)}});let wO,Aq=1;const NT={};function gB(n){return n in NT&&(delete NT[n],!0)}const xq={setImmediate(n){const e=Aq++;return NT[e]=!0,wO||(wO=Promise.resolve()),wO.then(()=>gB(e)&&n()),e},clearImmediate(n){gB(n)}},{setImmediate:kq,clearImmediate:Rq}=xq,FT={setImmediate(...n){const{delegate:e}=FT;return(e?.setImmediate||kq)(...n)},clearImmediate(n){const{delegate:e}=FT;return(e?.clearImmediate||Rq)(n)},delegate:void 0};new class Pq extends mB.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class Oq extends pB.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=FT.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:s}=e;null!=t&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==t&&(FT.clearImmediate(t),e._scheduled=void 0)}});var Lq=P(3532);function _B(n,e=vT.z){return function Fq(n){return(0,pr.e)((e,t)=>{let i=!1,r=null,s=null,u=!1;const h=()=>{if(s?.unsubscribe(),s=null,i){i=!1;const y=r;r=null,t.next(y)}u&&t.complete()},p=()=>{s=null,u&&t.complete()};e.subscribe((0,xi.x)(t,y=>{i=!0,r=y,s||(0,Jr.Xf)(n(y)).subscribe(s=(0,xi.x)(t,h,p))},()=>{u=!0,(!i||!s||s.closed)&&t.complete()}))})}(()=>function Bq(n=0,e,t=vT.P){let i=-1;return null!=e&&((0,Lq.K)(e)?t=e:i=e),new Vi.y(r=>{let s=function Vq(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let u=0;return t.schedule(function(){r.closed||(r.next(u++),0<=i?this.schedule(void 0,i):r.complete())},s)})}(n,e))}let yB=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new Ot.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Vi.y(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(_B(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):bt()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(Ui(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,t)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=ou(i),s=t.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>PT(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.R0b),l.LFG(os),l.LFG(re,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),LT=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new Ot.x,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,s=r.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(_B(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(os),l.LFG(l.R0b),l.LFG(re,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),p0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),CO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[u0,MT,p0],u0,p0]}),n})();var EO=P(655);class DO{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class vB extends DO{constructor(e,t,i,r){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r}}class bB extends DO{constructor(e,t,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class zq extends DO{constructor(e){super(),this.element=e instanceof l.SBq?e.nativeElement:e}}class $q extends class jq{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof vB?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof bB?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof zq?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(e,t,i,r,s){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=u=>{const h=u.element,p=this._document.createComment("dom-portal");h.parentNode.insertBefore(p,h),this.outletElement.appendChild(h),this._attachedPortal=u,super.setDisposeFn(()=>{p.parentNode&&p.parentNode.replaceChild(h,p)})},this._document=s}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context);return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let Gq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const wB=E5();class qq{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Sr(-this._previousScrollPosition.left),e.style.top=Sr(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,s=i.scrollBehavior||"",u=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),wB&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),wB&&(i.scrollBehavior=s,r.scrollBehavior=u)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class Wq{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class CB{enable(){}disable(){}attach(){}}function IO(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function EB(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class Zq{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();IO(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Yq=(()=>{class n{constructor(t,i,r,s){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new CB,this.close=u=>new Wq(this._scrollDispatcher,this._ngZone,this._viewportRuler,u),this.block=()=>new qq(this._viewportRuler,this._document),this.reposition=u=>new Zq(this._scrollDispatcher,this._viewportRuler,this._ngZone,u),this._document=s}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(yB),l.LFG(LT),l.LFG(l.R0b),l.LFG(re))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class DB{constructor(e){if(this.scrollStrategy=new CB,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class Kq{constructor(e,t,i,r,s){this.offsetX=i,this.offsetY=r,this.panelClass=s,this.originX=e.originX,this.originY=e.originY,this.overlayX=t.overlayX,this.overlayY=t.overlayY}}class Qq{}let Xq=(()=>{let n=class{constructor(t,i){this.connectionPair=t,this.scrollableViewProperties=i}};return n=(0,EO.gn)([(0,EO.fM)(1,(0,l.FiY)()),(0,EO.w6)("design:paramtypes",[Kq,Qq])],n),n})(),IB=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(re))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Jq=(()=>{class n extends IB{constructor(t){super(t),this._keydownListener=i=>{const r=this._attachedOverlays;for(let s=r.length-1;s>-1;s--)if(r[s]._keydownEvents.observers.length>0){r[s]._keydownEvents.next(i);break}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(re))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),eW=(()=>{class n extends IB{constructor(t,i){super(t),this._platform=i,this._cursorStyleIsSet=!1,this._pointerDownListener=r=>{this._pointerDownEventTarget=kp(r)},this._clickListener=r=>{const s=kp(r),u="click"===r.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const h=this._attachedOverlays.slice();for(let p=h.length-1;p>-1;p--){const y=h[p];if(!(y._outsidePointerEvents.observers.length<1)&&y.hasAttached()){if(y.overlayElement.contains(s)||y.overlayElement.contains(u))break;y._outsidePointerEvents.next(r)}}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;i.addEventListener("pointerdown",this._pointerDownListener,!0),i.addEventListener("click",this._clickListener,!0),i.addEventListener("auxclick",this._clickListener,!0),i.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(re),l.LFG(os))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),TB=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||dO()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const i=this._document.createElement("div");i.classList.add(t),dO()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(re),l.LFG(os))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class tW{constructor(e,t,i,r,s,u,h,p,y){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=u,this._document=h,this._location=p,this._outsideClickDispatcher=y,this._backdropElement=null,this._backdropClick=new Ot.x,this._attachments=new Ot.x,this._detachments=new Ot.x,this._locationChanges=ps.w0.EMPTY,this._backdropClickHandler=E=>this._backdropClick.next(E),this._keydownEvents=new Ot.x,this._outsidePointerEvents=new Ot.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){let t=this._portalOutlet.attach(e);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(wr(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=Sr(this._config.width),e.height=Sr(this._config.height),e.minWidth=Sr(this._config.minWidth),e.minHeight=Sr(this._config.minHeight),e.maxWidth=Sr(this._config.maxWidth),e.maxHeight=Sr(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(!e)return;let t;const i=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",i),this._disposeBackdrop(e)),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",i)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(i,500))}_toggleClasses(e,t,i){const r=ST(t||[]).filter(s=>!!s);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(di((0,ca.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.remove(),this._backdropElement===e&&(this._backdropElement=null))}}const SB="cdk-overlay-connected-position-bounding-box",nW=/([A-Za-z%]+)$/;class iW{constructor(e,t,i,r,s){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Ot.x,this._resizeSubscription=ps.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(SB),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=[];let s;for(let u of this._preferredPositions){let h=this._getOriginPoint(e,u),p=this._getOverlayPoint(h,t,u),y=this._getOverlayFit(p,t,i,u);if(y.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(u,h);this._canFitWithFlexibleDimensions(y,p,i)?r.push({position:u,origin:h,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(h,u)}):(!s||s.overlayFit.visibleArea<y.visibleArea)&&(s={overlayFit:y,overlayPoint:p,originPoint:h,position:u,overlayRect:t})}if(r.length){let u=null,h=-1;for(const p of r){const y=p.boundingBoxRect.width*p.boundingBoxRect.height*(p.position.weight||1);y>h&&(h=y,u=p)}return this._isPushed=!1,void this._applyPosition(u.position,u.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Op(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(SB),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const e=this._lastPosition||this._preferredPositions[0],t=this._getOriginPoint(this._originRect,e);this._applyPosition(e,t)}}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t){let i,r;if("center"==t.originX)i=e.left+e.width/2;else{const s=this._isRtl()?e.right:e.left,u=this._isRtl()?e.left:e.right;i="start"==t.originX?s:u}return r="center"==t.originY?e.top+e.height/2:"top"==t.originY?e.top:e.bottom,{x:i,y:r}}_getOverlayPoint(e,t,i){let r,s;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,s="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+s}}_getOverlayFit(e,t,i,r){const s=AB(t);let{x:u,y:h}=e,p=this._getOffset(r,"x"),y=this._getOffset(r,"y");p&&(u+=p),y&&(h+=y);let O=0-h,B=h+s.height-i.height,$=this._subtractOverflows(s.width,0-u,u+s.width-i.width),ne=this._subtractOverflows(s.height,O,B),te=$*ne;return{visibleArea:te,isCompletelyWithinViewport:s.width*s.height===te,fitsInViewportVertically:ne===s.height,fitsInViewportHorizontally:$==s.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,s=i.right-t.x,u=MB(this._overlayRef.getConfig().minHeight),h=MB(this._overlayRef.getConfig().minWidth),y=e.fitsInViewportHorizontally||null!=h&&h<=s;return(e.fitsInViewportVertically||null!=u&&u<=r)&&y}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=AB(t),s=this._viewportRect,u=Math.max(e.x+r.width-s.width,0),h=Math.max(e.y+r.height-s.height,0),p=Math.max(s.top-i.top-e.y,0),y=Math.max(s.left-i.left-e.x,0);let E=0,I=0;return E=r.width<=s.width?y||-u:e.x<this._viewportMargin?s.left-i.left-e.x:0,I=r.height<=s.height?p||-h:e.y<this._viewportMargin?s.top-i.top-e.y:0,this._previousPushAmount={x:E,y:I},{x:e.x+E,y:e.y+I}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new Xq(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let s=0;s<t.length;s++)t[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let s,u,h,E,I,O;if("top"===t.overlayY)u=e.y,s=i.height-u+this._viewportMargin;else if("bottom"===t.overlayY)h=i.height-e.y+2*this._viewportMargin,s=i.height-h+this._viewportMargin;else{const B=Math.min(i.bottom-e.y+i.top,e.y),$=this._lastBoundingBoxSize.height;s=2*B,u=e.y-B,s>$&&!this._isInitialRender&&!this._growAfterOpen&&(u=e.y-$/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)O=i.width-e.x+this._viewportMargin,E=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)I=e.x,E=i.right-e.x;else{const B=Math.min(i.right-e.x+i.left,e.x),$=this._lastBoundingBoxSize.width;E=2*B,I=e.x-B,E>$&&!this._isInitialRender&&!this._growAfterOpen&&(I=e.x-$/2)}return{top:u,left:I,bottom:h,right:O,width:E,height:s}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,u=this._overlayRef.getConfig().maxWidth;r.height=Sr(i.height),r.top=Sr(i.top),r.bottom=Sr(i.bottom),r.width=Sr(i.width),r.left=Sr(i.left),r.right=Sr(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=Sr(s)),u&&(r.maxWidth=Sr(u))}this._lastBoundingBoxSize=i,Op(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Op(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Op(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,u=this._overlayRef.getConfig();if(r){const E=this._viewportRuler.getViewportScrollPosition();Op(i,this._getExactOverlayY(t,e,E)),Op(i,this._getExactOverlayX(t,e,E))}else i.position="static";let h="",p=this._getOffset(t,"x"),y=this._getOffset(t,"y");p&&(h+=`translateX(${p}px) `),y&&(h+=`translateY(${y}px)`),i.transform=h.trim(),u.maxHeight&&(r?i.maxHeight=Sr(u.maxHeight):s&&(i.maxHeight="")),u.maxWidth&&(r?i.maxWidth=Sr(u.maxWidth):s&&(i.maxWidth="")),Op(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},s=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i));let u=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return s.y-=u,"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=Sr(s.y),r}_getExactOverlayX(e,t,i){let u,r={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),u=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===u?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=Sr(s.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:EB(e,i),isOriginOutsideView:IO(e,i),isOverlayClipped:EB(t,i),isOverlayOutsideView:IO(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?e.offsetX??this._offsetX:e.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&ST(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof l.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function Op(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function MB(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(nW);return t&&"px"!==t?null:parseFloat(e)}return n||null}function AB(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const xB="cdk-global-overlay-wrapper";class rW{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(xB),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:u,maxHeight:h}=i,p=!("100%"!==r&&"100vw"!==r||u&&"100%"!==u&&"100vw"!==u),y=!("100%"!==s&&"100vh"!==s||h&&"100%"!==h&&"100vh"!==h);e.position=this._cssPosition,e.marginLeft=p?"0":this._leftOffset,e.marginTop=y?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,p?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=y?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(xB),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let sW=(()=>{class n{constructor(t,i,r,s){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new rW}flexibleConnectedTo(t){return new iW(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(LT),l.LFG(re),l.LFG(os),l.LFG(TB))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),oW=0,Pp=(()=>{class n{constructor(t,i,r,s,u,h,p,y,E,I,O){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=u,this._injector=h,this._ngZone=p,this._document=y,this._directionality=E,this._location=I,this._outsideClickDispatcher=O}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),u=new DB(t);return u.direction=u.direction||this._directionality.value,new tW(s,i,r,u,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+oW++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(l.z2F)),new $q(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Yq),l.LFG(TB),l.LFG(l._Vd),l.LFG(sW),l.LFG(Jq),l.LFG(l.zs3),l.LFG(l.R0b),l.LFG(re),l.LFG(Rp),l.LFG(Ie),l.LFG(eW))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const aW=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],kB=new l.OlP("cdk-connected-overlay-scroll-strategy");let RB=(()=>{class n{constructor(t){this.elementRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),n})(),OB=(()=>{class n{constructor(t,i,r,s,u){this._overlay=t,this._dir=u,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=ps.w0.EMPTY,this._attachSubscription=ps.w0.EMPTY,this._detachSubscription=ps.w0.EMPTY,this._positionSubscription=ps.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new l.vpe,this.positionChange=new l.vpe,this.attach=new l.vpe,this.detach=new l.vpe,this.overlayKeydown=new l.vpe,this.overlayOutsideClick=new l.vpe,this._templatePortal=new bB(i,r),this._scrollStrategyFactory=s,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=$n(t)}get lockPosition(){return this._lockPosition}set lockPosition(t){this._lockPosition=$n(t)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(t){this._flexibleDimensions=$n(t)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(t){this._growAfterOpen=$n(t)}get push(){return this._push}set push(t){this._push=$n(t)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=aW);const t=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=t.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=t.detachments().subscribe(()=>this.detach.emit()),t.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!eh(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const t=this._position=this.positionStrategy||this._createPositionStrategy(),i=new DB({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(t){const i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return t.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const t=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(t),t}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof RB?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(cl(()=>this.positionChange.observers.length>0)).subscribe(t=>{this.positionChange.emit(t),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Pp),l.Y36(l.Rgc),l.Y36(l.s_b),l.Y36(kB),l.Y36(Rp,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[l.TTD]}),n})();const cW={provide:kB,deps:[Pp],useFactory:function lW(n){return()=>n.scrollStrategies.reposition()}};let TO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Pp,cW],imports:[[u0,Gq,CO],CO]}),n})();const uW=["connectionContainer"],dW=["inputContainer"],hW=["label"];function fW(n,e){1&n&&(l.ynx(0),l.TgZ(1,"div",14),l._UZ(2,"div",15)(3,"div",16)(4,"div",17),l.qZA(),l.TgZ(5,"div",18),l._UZ(6,"div",15)(7,"div",16)(8,"div",17),l.qZA(),l.BQk())}function pW(n,e){1&n&&(l.TgZ(0,"div",19),l.Hsn(1,1),l.qZA())}function mW(n,e){if(1&n&&(l.ynx(0),l.Hsn(1,2),l.TgZ(2,"span"),l._uU(3),l.qZA(),l.BQk()),2&n){const t=l.oxw(2);l.xp6(3),l.Oqu(t._control.placeholder)}}function gW(n,e){1&n&&l.Hsn(0,3,["*ngSwitchCase","true"])}function _W(n,e){1&n&&(l.TgZ(0,"span",23),l._uU(1," *"),l.qZA())}function yW(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"label",20,21),l.NdJ("cdkObserveContent",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.updateOutlineGap())}),l.YNc(2,mW,4,1,"ng-container",12),l.YNc(3,gW,1,0,"ng-content",12),l.YNc(4,_W,2,0,"span",22),l.qZA()}if(2&n){const t=l.oxw();l.ekj("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),l.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),l.uIk("for",t._control.id)("aria-owns",t._control.id),l.xp6(2),l.Q6J("ngSwitchCase",!1),l.xp6(1),l.Q6J("ngSwitchCase",!0),l.xp6(1),l.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function vW(n,e){1&n&&(l.TgZ(0,"div",24),l.Hsn(1,4),l.qZA())}function bW(n,e){if(1&n&&(l.TgZ(0,"div",25),l._UZ(1,"span",26),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.ekj("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function wW(n,e){if(1&n&&(l.TgZ(0,"div"),l.Hsn(1,5),l.qZA()),2&n){const t=l.oxw();l.Q6J("@transitionMessages",t._subscriptAnimationState)}}function CW(n,e){if(1&n&&(l.TgZ(0,"div",30),l._uU(1),l.qZA()),2&n){const t=l.oxw(2);l.Q6J("id",t._hintLabelId),l.xp6(1),l.Oqu(t.hintLabel)}}function EW(n,e){if(1&n&&(l.TgZ(0,"div",27),l.YNc(1,CW,2,2,"div",28),l.Hsn(2,6),l._UZ(3,"div",29),l.Hsn(4,7),l.qZA()),2&n){const t=l.oxw();l.Q6J("@transitionMessages",t._subscriptAnimationState),l.xp6(1),l.Q6J("ngIf",t.hintLabel)}}const DW=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],IW=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],TW=new l.OlP("MatError"),SW={transitionMessages:Mp("transitionMessages",[ja("enter",fr({opacity:1,transform:"translateY(0%)"})),$a("void => enter",[fr({opacity:0,transform:"translateY(-5px)"}),Ul("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let m0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n}),n})();const MW=new l.OlP("MatHint");let SO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-label"]]}),n})(),AW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const xW=new l.OlP("MatPrefix"),kW=new l.OlP("MatSuffix");let PB=0;const OW=OT(class{constructor(n){this._elementRef=n}},"primary"),PW=new l.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),MO=new l.OlP("MatFormField");let FB=(()=>{class n extends OW{constructor(t,i,r,s,u,h,p){super(t),this._changeDetectorRef=i,this._dir=r,this._defaults=s,this._platform=u,this._ngZone=h,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new Ot.x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+PB++,this._labelId="mat-form-field-label-"+PB++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==p,this.appearance=s&&s.appearance?s.appearance:"legacy",this._hideRequiredMarker=!(!s||null==s.hideRequiredMarker)&&s.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const i=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&i!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=$n(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(es(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(di(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(di(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,ca.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(es(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(es(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(di(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const i=this._control?this._control.ngControl:null;return i&&i[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,PT(this._label.nativeElement,"transitionend").pipe(wr(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;i?t.push(i.id):this._hintLabel&&t.push(this._hintLabelId),r&&t.push(r.id)}else this._errorChildren&&t.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null;if(!("outline"===this.appearance&&t&&t.children.length&&t.textContent.trim()&&this._platform.isBrowser))return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let i=0,r=0;const s=this._connectionContainerRef.nativeElement,u=s.querySelectorAll(".mat-form-field-outline-start"),h=s.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const p=s.getBoundingClientRect();if(0===p.width&&0===p.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const y=this._getStartEnd(p),E=t.children,I=this._getStartEnd(E[0].getBoundingClientRect());let O=0;for(let B=0;B<E.length;B++)O+=E[B].offsetWidth;i=Math.abs(I-y)-5,r=O>0?.75*O+10:0}for(let p=0;p<u.length;p++)u[p].style.width=`${i}px`;for(let p=0;p<h.length;p++)h[p].style.width=`${r}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const i=t.getRootNode();return i&&i!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(Rp,8),l.Y36(PW,8),l.Y36(os),l.Y36(l.R0b),l.Y36(l.QbO,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,i,r){if(1&t&&(l.Suo(r,m0,5),l.Suo(r,m0,7),l.Suo(r,SO,5),l.Suo(r,SO,7),l.Suo(r,AW,5),l.Suo(r,TW,5),l.Suo(r,MW,5),l.Suo(r,xW,5),l.Suo(r,kW,5)),2&t){let s;l.iGM(s=l.CRH())&&(i._controlNonStatic=s.first),l.iGM(s=l.CRH())&&(i._controlStatic=s.first),l.iGM(s=l.CRH())&&(i._labelChildNonStatic=s.first),l.iGM(s=l.CRH())&&(i._labelChildStatic=s.first),l.iGM(s=l.CRH())&&(i._placeholderChild=s.first),l.iGM(s=l.CRH())&&(i._errorChildren=s),l.iGM(s=l.CRH())&&(i._hintChildren=s),l.iGM(s=l.CRH())&&(i._prefixChildren=s),l.iGM(s=l.CRH())&&(i._suffixChildren=s)}},viewQuery:function(t,i){if(1&t&&(l.Gf(uW,7),l.Gf(dW,5),l.Gf(hW,5)),2&t){let r;l.iGM(r=l.CRH())&&(i._connectionContainerRef=r.first),l.iGM(r=l.CRH())&&(i._inputContainerRef=r.first),l.iGM(r=l.CRH())&&(i._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,i){2&t&&l.ekj("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[l._Bn([{provide:MO,useExisting:n}]),l.qOj],ngContentSelectors:IW,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,i){1&t&&(l.F$t(DW),l.TgZ(0,"div",0)(1,"div",1,2),l.NdJ("click",function(s){return i._control.onContainerClick&&i._control.onContainerClick(s)}),l.YNc(3,fW,9,0,"ng-container",3),l.YNc(4,pW,2,0,"div",4),l.TgZ(5,"div",5,6),l.Hsn(7),l.TgZ(8,"span",7),l.YNc(9,yW,5,16,"label",8),l.qZA()(),l.YNc(10,vW,2,0,"div",9),l.qZA(),l.YNc(11,bW,2,4,"div",10),l.TgZ(12,"div",11),l.YNc(13,wW,2,1,"div",12),l.YNc(14,EW,5,2,"div",13),l.qZA()()),2&t&&(l.xp6(3),l.Q6J("ngIf","outline"==i.appearance),l.xp6(1),l.Q6J("ngIf",i._prefixChildren.length),l.xp6(5),l.Q6J("ngIf",i._hasFloatingLabel()),l.xp6(1),l.Q6J("ngIf",i._suffixChildren.length),l.xp6(1),l.Q6J("ngIf","outline"!=i.appearance),l.xp6(1),l.Q6J("ngSwitch",i._getDisplayedMessages()),l.xp6(1),l.Q6J("ngSwitchCase","error"),l.xp6(1),l.Q6J("ngSwitchCase","hint"))},dependencies:[U,Mt,S5,F],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[SW.transitionMessages]},changeDetection:0}),n})(),g0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[co,ai,BV],ai]}),n})();function AO(n){return n&&"function"==typeof n.connect}class LB{applyChanges(e,t,i,r,s){e.forEachOperation((u,h,p)=>{let y,E;if(null==u.previousIndex){const I=i(u,h,p);y=t.createEmbeddedView(I.templateRef,I.context,I.index),E=1}else null==p?(t.remove(h),E=3):(y=t.get(h),t.move(y,p),E=2);s&&s({context:y?.context,operation:E,record:u})})}detach(){}}class BB{constructor(e=!1,t,i=!0){this._multiple=e,this._emitChanges=i,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new Ot.x,t&&t.length&&(e?t.forEach(r=>this._markSelected(r)):this._markSelected(t[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...e){this._verifyValueAssignment(e),e.forEach(t=>this._markSelected(t)),this._emitChangeEvent()}deselect(...e){this._verifyValueAssignment(e),e.forEach(t=>this._unmarkSelected(t)),this._emitChangeEvent()}toggle(e){this.isSelected(e)?this.deselect(e):this.select(e)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(e){return this._selection.has(e)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){this.isSelected(e)||(this._multiple||this._unmarkAll(),this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){}}const _0=new l.OlP("_ViewRepeater"),FW=["trigger"],LW=["panel"];function VW(n,e){if(1&n&&(l.TgZ(0,"span",8),l._uU(1),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Oqu(t.placeholder)}}function BW(n,e){if(1&n&&(l.TgZ(0,"span",12),l._uU(1),l.qZA()),2&n){const t=l.oxw(2);l.xp6(1),l.Oqu(t.triggerValue)}}function UW(n,e){1&n&&l.Hsn(0,0,["*ngSwitchCase","true"])}function HW(n,e){if(1&n&&(l.TgZ(0,"span",9),l.YNc(1,BW,2,1,"span",10),l.YNc(2,UW,1,0,"ng-content",11),l.qZA()),2&n){const t=l.oxw();l.Q6J("ngSwitch",!!t.customTrigger),l.xp6(2),l.Q6J("ngSwitchCase",!0)}}function zW(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",13)(1,"div",14,15),l.NdJ("@transformPanel.done",function(r){l.CHM(t);const s=l.oxw();return l.KtG(s._panelDoneAnimatingStream.next(r.toState))})("keydown",function(r){l.CHM(t);const s=l.oxw();return l.KtG(s._handleKeydown(r))}),l.Hsn(3,1),l.qZA()()}if(2&n){const t=l.oxw();l.Q6J("@transformPanelWrap",void 0),l.xp6(1),l.Gre("mat-select-panel ",t._getPanelTheme(),""),l.Udp("transform-origin",t._transformOrigin)("font-size",t._triggerFontSize,"px"),l.Q6J("ngClass",t.panelClass)("@transformPanel",t.multiple?"showing-multiple":"showing"),l.uIk("id",t.id+"-panel")("aria-multiselectable",t.multiple)("aria-label",t.ariaLabel||null)("aria-labelledby",t._getPanelAriaLabelledby())}}const jW=[[["mat-select-trigger"]],"*"],$W=["mat-select-trigger","*"],UB={transformPanelWrap:Mp("transformPanelWrap",[$a("* => void",t4("@transformPanel",[e4()],{optional:!0}))]),transformPanel:Mp("transformPanel",[ja("void",fr({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),ja("showing",fr({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),ja("showing-multiple",fr({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),$a("void => *",Ul("120ms cubic-bezier(0, 0, 0.2, 1)")),$a("* => void",Ul("100ms 25ms linear",fr({opacity:0})))])};let HB=0;const jB=new l.OlP("mat-select-scroll-strategy"),ZW=new l.OlP("MAT_SELECT_CONFIG"),YW={provide:jB,deps:[Pp],useFactory:function WW(n){return()=>n.scrollStrategies.reposition()}};class KW{constructor(e,t){this.source=e,this.value=t}}const QW=mO(tB(pO(gO(class{constructor(n,e,t,i,r){this._elementRef=n,this._defaultErrorStateMatcher=e,this._parentForm=t,this._parentFormGroup=i,this.ngControl=r}})))),XW=new l.OlP("MatSelectTrigger");let JW=(()=>{class n extends QW{constructor(t,i,r,s,u,h,p,y,E,I,O,B,$,ne){super(u,s,p,y,I),this._viewportRuler=t,this._changeDetectorRef=i,this._ngZone=r,this._dir=h,this._parentFormField=E,this._liveAnnouncer=$,this._defaultOptions=ne,this._panelOpen=!1,this._compareWith=(te,Ve)=>te===Ve,this._uid="mat-select-"+HB++,this._triggerAriaLabelledBy=null,this._destroy=new Ot.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+HB++,this._panelDoneAnimatingStream=new Ot.x,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=hc(()=>{const te=this.options;return te?te.changes.pipe(es(te),pi(()=>(0,ca.T)(...te.map(Ve=>Ve.onSelectionChange)))):this._ngZone.onStable.pipe(wr(1),pi(()=>this.optionSelectionChanges))}),this.openedChange=new l.vpe,this._openedStream=this.openedChange.pipe(Ui(te=>te),(0,Et.U)(()=>{})),this._closedStream=this.openedChange.pipe(Ui(te=>!te),(0,Et.U)(()=>{})),this.selectionChange=new l.vpe,this.valueChange=new l.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=ne?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=ne.typeaheadDebounceInterval),this._scrollStrategyFactory=B,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(O)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(Pa.required)??!1}set required(t){this._required=$n(t),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){this._multiple=$n(t)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(t){this._disableOptionCentering=$n(t)}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){(t!==this._value||this._multiple&&Array.isArray(t))&&(this.options&&this._setSelectionByValue(t),this._value=t)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(t){this._typeaheadDebounceInterval=Ap(t)}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new BB(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(qR(),di(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(di(this._destroy)).subscribe(t=>{t.added.forEach(i=>i.select()),t.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(es(null),di(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const t=this._getTriggerAriaLabelledby();if(t!==this._triggerAriaLabelledBy){const i=this._elementRef.nativeElement;this._triggerAriaLabelledBy=t,t?i.setAttribute("aria-labelledby",t):i.removeAttribute("aria-labelledby")}this.ngControl&&this.updateErrorState()}ngOnChanges(t){t.disabled&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(t){this.value=t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const i=t.keyCode,r=40===i||38===i||37===i||39===i,s=13===i||32===i,u=this._keyManager;if(!u.isTyping()&&s&&!eh(t)||(this.multiple||t.altKey)&&r)t.preventDefault(),this.open();else if(!this.multiple){const h=this.selected;u.onKeydown(t);const p=this.selected;p&&h!==p&&this._liveAnnouncer.announce(p.viewValue,1e4)}}_handleOpenKeydown(t){const i=this._keyManager,r=t.keyCode,s=40===r||38===r,u=i.isTyping();if(s&&t.altKey)t.preventDefault(),this.close();else if(u||13!==r&&32!==r||!i.activeItem||eh(t))if(!u&&this._multiple&&65===r&&t.ctrlKey){t.preventDefault();const h=this.options.some(p=>!p.disabled&&!p.selected);this.options.forEach(p=>{p.disabled||(h?p.select():p.deselect())})}else{const h=i.activeItemIndex;i.onKeydown(t),this._multiple&&s&&t.shiftKey&&i.activeItem&&i.activeItemIndex!==h&&i.activeItem._selectViaInteraction()}else t.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(wr(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this._selectionModel.selected.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&t)Array.isArray(t),t.forEach(i=>this._selectValue(i)),this._sortValues();else{const i=this._selectValue(t);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectValue(t){const i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,t)}catch{return!1}});return i&&this._selectionModel.select(i),i}_initKeyManager(){this._keyManager=new R5(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(di(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(di(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=(0,ca.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(di(t)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,ca.T)(...this.options.map(i=>i._stateChanges)).pipe(di(t)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(t,i){const r=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(r!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),i&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),i&&this.focus())):(t.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(t.value)),r!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,t):t.indexOf(i)-t.indexOf(r)),this.stateChanges.next()}}_propagateChanges(t){let i=null;i=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:t,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(t){this._elementRef.nativeElement.focus(t)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const t=this._parentFormField?.getLabelId();return this.ariaLabelledby?(t?t+" ":"")+this.ariaLabelledby:t}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const t=this._parentFormField?.getLabelId();let i=(t?t+" ":"")+this._valueId;return this.ariaLabelledby&&(i+=" "+this.ariaLabelledby),i}_panelDoneAnimating(t){this.openedChange.emit(t)}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(LT),l.Y36(l.sBO),l.Y36(l.R0b),l.Y36(d0),l.Y36(l.SBq),l.Y36(Rp,8),l.Y36(wl,8),l.Y36(Qo,8),l.Y36(MO,8),l.Y36(bo,10),l.$8M("tabindex"),l.Y36(jB),l.Y36(G5),l.Y36(ZW,8))},n.\u0275dir=l.lG2({type:n,viewQuery:function(t,i){if(1&t&&(l.Gf(FW,5),l.Gf(LW,5),l.Gf(OB,5)),2&t){let r;l.iGM(r=l.CRH())&&(i.trigger=r.first),l.iGM(r=l.CRH())&&(i.panel=r.first),l.iGM(r=l.CRH())&&(i._overlayDir=r.first)}},inputs:{panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[l.qOj,l.TTD]}),n})(),e8=(()=>{class n extends JW{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(t,i,r){const s=this._getItemHeight();return Math.min(Math.max(0,s*t-i+s/2),r)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(di(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe(wr(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(t){const i=dB(t,this.options,this.optionGroups),r=this._getItemHeight();this.panel.nativeElement.scrollTop=0===t&&1===i?0:function hq(n,e,t,i){return n<t?n:n+e>t+i?Math.max(0,n-i+e):t}((t+i)*r,r,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(t){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(t)}_getChangeEvent(t){return new KW(this,t)}_calculateOverlayOffsetX(){const t=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),i=this._viewportRuler.getViewportSize(),r=this._isRtl(),s=this.multiple?56:32;let u;if(this.multiple)u=40;else if(this.disableOptionCentering)u=16;else{let y=this._selectionModel.selected[0]||this.options.first;u=y&&y.group?32:16}r||(u*=-1);const h=0-(t.left+u-(r?s:0)),p=t.right+u-i.width+(r?0:s);h>0?u+=h+8:p>0&&(u-=p+8),this._overlayDir.offsetX=Math.round(u),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(t,i,r){const s=this._getItemHeight(),u=(s-this._triggerRect.height)/2,h=Math.floor(256/s);let p;return this.disableOptionCentering?0:(p=0===this._scrollTop?t*s:this._scrollTop===r?(t-(this._getItemCount()-h))*s+(s-(this._getItemCount()*s-256)%s):i-s/2,Math.round(-1*p-u))}_checkOverlayWithinViewport(t){const i=this._getItemHeight(),r=this._viewportRuler.getViewportSize(),s=this._triggerRect.top-8,u=r.height-this._triggerRect.bottom-8,h=Math.abs(this._offsetY),y=Math.min(this._getItemCount()*i,256)-h-this._triggerRect.height;y>u?this._adjustPanelUp(y,u):h>s?this._adjustPanelDown(h,s,t):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(t,i){const r=Math.round(t-i);this._scrollTop-=r,this._offsetY-=r,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(t,i,r){const s=Math.round(t-i);if(this._scrollTop+=s,this._offsetY+=s,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=r)return this._scrollTop=r,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const t=this._getItemHeight(),i=this._getItemCount(),r=Math.min(i*t,256),u=i*t-r;let h;h=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),h+=dB(h,this.options,this.optionGroups);const p=r/2;this._scrollTop=this._calculateOverlayScroll(h,p,u),this._offsetY=this._calculateOverlayOffsetY(h,p,u),this._checkOverlayWithinViewport(u)}_getOriginBasedOnOption(){const t=this._getItemHeight(),i=(t-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-i+t/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-select"]],contentQueries:function(t,i,r){if(1&t&&(l.Suo(r,XW,5),l.Suo(r,uB,5),l.Suo(r,cB,5)),2&t){let s;l.iGM(s=l.CRH())&&(i.customTrigger=s.first),l.iGM(s=l.CRH())&&(i.options=s),l.iGM(s=l.CRH())&&(i.optionGroups=s)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(t,i){1&t&&l.NdJ("keydown",function(s){return i._handleKeydown(s)})("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()}),2&t&&(l.uIk("id",i.id)("tabindex",i.tabIndex)("aria-controls",i.panelOpen?i.id+"-panel":null)("aria-expanded",i.panelOpen)("aria-label",i.ariaLabel||null)("aria-required",i.required.toString())("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-describedby",i._ariaDescribedby||null)("aria-activedescendant",i._getAriaActiveDescendant()),l.ekj("mat-select-disabled",i.disabled)("mat-select-invalid",i.errorState)("mat-select-required",i.required)("mat-select-empty",i.empty)("mat-select-multiple",i.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[l._Bn([{provide:m0,useExisting:n},{provide:lB,useExisting:n}]),l.qOj],ngContentSelectors:$W,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(t,i){if(1&t&&(l.F$t(jW),l.TgZ(0,"div",0,1),l.NdJ("click",function(){return i.toggle()}),l.TgZ(3,"div",2),l.YNc(4,VW,2,1,"span",3),l.YNc(5,HW,3,2,"span",4),l.qZA(),l.TgZ(6,"div",5),l._UZ(7,"div",6),l.qZA()(),l.YNc(8,zW,4,14,"ng-template",7),l.NdJ("backdropClick",function(){return i.close()})("attach",function(){return i._onAttached()})("detach",function(){return i.close()})),2&t){const r=l.MAs(1);l.uIk("aria-owns",i.panelOpen?i.id+"-panel":null),l.xp6(3),l.Q6J("ngSwitch",i.empty),l.uIk("id",i._valueId),l.xp6(1),l.Q6J("ngSwitchCase",!0),l.xp6(1),l.Q6J("ngSwitchCase",!1),l.xp6(3),l.Q6J("cdkConnectedOverlayPanelClass",i._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",i._scrollStrategy)("cdkConnectedOverlayOrigin",r)("cdkConnectedOverlayOpen",i.panelOpen)("cdkConnectedOverlayPositions",i._positions)("cdkConnectedOverlayMinWidth",null==i._triggerRect?null:i._triggerRect.width)("cdkConnectedOverlayOffsetY",i._offsetY)}},dependencies:[RB,Mt,F,Y,OB,un],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;opacity:0}\n'],encapsulation:2,data:{animation:[UB.transformPanelWrap,UB.transformPanel]},changeDetection:0}),n})(),t8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[YW],imports:[[co,TO,hB,ai],p0,g0,hB,ai]}),n})();const $B=new Set;let J_,n8=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):r8}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function i8(n){if(!$B.has(n))try{J_||(J_=document.createElement("style"),J_.setAttribute("type","text/css"),document.head.appendChild(J_)),J_.sheet&&(J_.sheet.insertRule(`@media ${n} {body{ }}`,0),$B.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(os))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function r8(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let s8=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new Ot.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return GB(ST(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let s=hs(GB(ST(t)).map(u=>this._registerQuery(u).observable));return s=ho(s.pipe(wr(1)),s.pipe(PV(1),lO(0))),s.pipe((0,Et.U)(u=>{const h={matches:!1,breakpoints:{}};return u.forEach(({matches:p,query:y})=>{h.matches=h.matches||p,h.breakpoints[y]=p}),h}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),s={observable:new Vi.y(u=>{const h=p=>this._zone.run(()=>u.next(p));return i.addListener(h),()=>{i.removeListener(h)}}).pipe(es(i),(0,Et.U)(({matches:u})=>({query:t,matches:u})),di(this._destroySubject)),mql:i};return this._queries.set(t,s),s}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(n8),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function GB(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}const a8={tooltipState:Mp("state",[ja("initial, void, hidden",fr({opacity:0,transform:"scale(0)"})),ja("visible",fr({transform:"scale(1)"})),$a("* => visible",Ul("200ms cubic-bezier(0, 0, 0.2, 1)",JG([fr({opacity:0,transform:"scale(0)",offset:0}),fr({opacity:.5,transform:"scale(0.99)",offset:.5}),fr({opacity:1,transform:"scale(1)",offset:1})]))),$a("* => hidden",Ul("100ms cubic-bezier(0, 0, 0.2, 1)",fr({opacity:0})))])},qB="tooltip-panel",WB=K_({passive:!0}),ZB=new l.OlP("mat-tooltip-scroll-strategy"),d8={provide:ZB,deps:[Pp],useFactory:function u8(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}},h8=new l.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function f8(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let p8=(()=>{class n{constructor(t,i,r,s,u,h,p,y,E,I,O,B){this._overlay=t,this._elementRef=i,this._scrollDispatcher=r,this._viewContainerRef=s,this._ngZone=u,this._platform=h,this._ariaDescriber=p,this._focusMonitor=y,this._dir=I,this._defaultOptions=O,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this.showDelay=this._defaultOptions.showDelay,this.hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new Ot.x,this._handleKeydown=$=>{this._isTooltipVisible()&&27===$.keyCode&&!eh($)&&($.preventDefault(),$.stopPropagation(),this._ngZone.run(()=>this.hide(0)))},this._scrollStrategy=E,this._document=B,O&&(O.position&&(this.position=O.position),O.touchGestures&&(this.touchGestures=O.touchGestures)),I.change.pipe(di(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)}),u.runOutsideAngular(()=>{i.nativeElement.addEventListener("keydown",this._handleKeydown)})}get position(){return this._position}set position(t){t!==this._position&&(this._position=t,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(t){this._disabled=$n(t),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get message(){return this._message}set message(t){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=t?String(t).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(t){this._tooltipClass=t,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(di(this._destroyed)).subscribe(t=>{t?"keyboard"===t&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const t=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),t.removeEventListener("keydown",this._handleKeydown),this._passiveListeners.forEach(([i,r])=>{t.removeEventListener(i,r,WB)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(t,this.message,"tooltip"),this._focusMonitor.stopMonitoring(t)}show(t=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible()&&!this._tooltipInstance._showTimeoutId&&!this._tooltipInstance._hideTimeoutId)return;const i=this._createOverlay();this._detach(),this._portal=this._portal||new vB(this._tooltipComponent,this._viewContainerRef),this._tooltipInstance=i.attach(this._portal).instance,this._tooltipInstance.afterHidden().pipe(di(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),this._tooltipInstance.show(t)}hide(t=this.hideDelay){this._tooltipInstance&&this._tooltipInstance.hide(t)}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){if(this._overlayRef)return this._overlayRef;const t=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),i=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(t);return i.positionChanges.pipe(di(this._destroyed)).subscribe(r=>{this._updateCurrentPositionClass(r.connectionPair),this._tooltipInstance&&r.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:i,panelClass:`${this._cssClassPrefix}-${qB}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(di(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(di(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(t){const i=t.getConfig().positionStrategy,r=this._getOrigin(),s=this._getOverlayPosition();i.withPositions([this._addOffset({...r.main,...s.main}),this._addOffset({...r.fallback,...s.fallback})])}_addOffset(t){return t}_getOrigin(){const t=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i||"below"==i?r={originX:"center",originY:"above"==i?"top":"bottom"}:"before"==i||"left"==i&&t||"right"==i&&!t?r={originX:"start",originY:"center"}:("after"==i||"right"==i&&t||"left"==i&&!t)&&(r={originX:"end",originY:"center"});const{x:s,y:u}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:s,originY:u}}}_getOverlayPosition(){const t=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i?r={overlayX:"center",overlayY:"bottom"}:"below"==i?r={overlayX:"center",overlayY:"top"}:"before"==i||"left"==i&&t||"right"==i&&!t?r={overlayX:"end",overlayY:"center"}:("after"==i||"right"==i&&t||"left"==i&&!t)&&(r={overlayX:"start",overlayY:"center"});const{x:s,y:u}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:s,overlayY:u}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(wr(1),di(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(t){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=t,this._tooltipInstance._markForCheck())}_invertPosition(t,i){return"above"===this.position||"below"===this.position?"top"===i?i="bottom":"bottom"===i&&(i="top"):"end"===t?t="start":"start"===t&&(t="end"),{x:t,y:i}}_updateCurrentPositionClass(t){const{overlayY:i,originX:r,originY:s}=t;let u;if(u="center"===i?this._dir&&"rtl"===this._dir.value?"end"===r?"left":"right":"start"===r?"left":"right":"bottom"===i&&"top"===s?"above":"below",u!==this._currentPosition){const h=this._overlayRef;if(h){const p=`${this._cssClassPrefix}-${qB}-`;h.removePanelClass(p+this._currentPosition),h.addPanelClass(p+u)}this._currentPosition=u}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",()=>{this._setupPointerExitEventsIfNeeded(),this.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",()=>{this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const t=[];if(this._platformSupportsMouseEvents())t.push(["mouseleave",()=>this.hide()],["wheel",i=>this._wheelListener(i)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const i=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};t.push(["touchend",i],["touchcancel",i])}this._addListeners(t),this._passiveListeners.push(...t)}_addListeners(t){t.forEach(([i,r])=>{this._elementRef.nativeElement.addEventListener(i,r,WB)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(t){if(this._isTooltipVisible()){const i=this._document.elementFromPoint(t.clientX,t.clientY),r=this._elementRef.nativeElement;i!==r&&!r.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){const t=this.touchGestures;if("off"!==t){const i=this._elementRef.nativeElement,r=i.style;("on"===t||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName)&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),("on"===t||!i.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}}return n.\u0275fac=function(t){l.$Z()},n.\u0275dir=l.lG2({type:n,inputs:{position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),n})(),m8=(()=>{class n extends p8{constructor(t,i,r,s,u,h,p,y,E,I,O,B){super(t,i,r,s,u,h,p,y,E,I,O,B),this._tooltipComponent=_8}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Pp),l.Y36(l.SBq),l.Y36(yB),l.Y36(l.s_b),l.Y36(l.R0b),l.Y36(os),l.Y36(k5),l.Y36(YV),l.Y36(ZB),l.Y36(Rp,8),l.Y36(h8,8),l.Y36(re))},n.\u0275dir=l.lG2({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],exportAs:["matTooltip"],features:[l.qOj]}),n})(),g8=(()=>{class n{constructor(t){this._changeDetectorRef=t,this._visibility="initial",this._closeOnInteraction=!1,this._onHide=new Ot.x}show(t){clearTimeout(this._hideTimeoutId),this._closeOnInteraction=!0,this._showTimeoutId=setTimeout(()=>{this._visibility="visible",this._showTimeoutId=void 0,this._onShow(),this._markForCheck()},t)}hide(t){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._visibility="hidden",this._hideTimeoutId=void 0,this._markForCheck()},t)}afterHidden(){return this._onHide}isVisible(){return"visible"===this._visibility}ngOnDestroy(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._onHide.complete()}_animationStart(){this._closeOnInteraction=!1}_animationDone(t){const i=t.toState;"hidden"===i&&!this.isVisible()&&this._onHide.next(),("visible"===i||"hidden"===i)&&(this._closeOnInteraction=!0)}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_onShow(){}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.sBO))},n.\u0275dir=l.lG2({type:n}),n})(),_8=(()=>{class n extends g8{constructor(t,i){super(t),this._breakpointObserver=i,this._isHandset=this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)")}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.sBO),l.Y36(s8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-tooltip-component"]],hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(t,i){2&t&&l.Udp("zoom","visible"===i._visibility?1:null)},features:[l.qOj],decls:3,vars:7,consts:[[1,"mat-tooltip",3,"ngClass"]],template:function(t,i){if(1&t&&(l.TgZ(0,"div",0),l.NdJ("@state.start",function(){return i._animationStart()})("@state.done",function(s){return i._animationDone(s)}),l.ALo(1,"async"),l._uU(2),l.qZA()),2&t){let r;l.ekj("mat-tooltip-handset",null==(r=l.lcZ(1,5,i._isHandset))?null:r.matches),l.Q6J("ngClass",i.tooltipClass)("@state",i._visibility),l.xp6(2),l.Oqu(i.message)}},dependencies:[un,$l],styles:[".mat-tooltip-panel{pointer-events:none !important}.mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}\n"],encapsulation:2,data:{animation:[a8.tooltipState]},changeDetection:0}),n})(),y8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[d8],imports:[[W5,co,TO,ai],ai,p0]}),n})();function v8(n,e){if(1&n&&(l.TgZ(0,"mat-option",19),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.Q6J("value",t),l.xp6(1),l.hij(" ",t," ")}}function b8(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"mat-form-field",16)(1,"mat-select",17),l.NdJ("selectionChange",function(r){l.CHM(t);const s=l.oxw(2);return l.KtG(s._changePageSize(r.value))}),l.YNc(2,v8,2,2,"mat-option",18),l.qZA()()}if(2&n){const t=l.oxw(2);l.Q6J("appearance",t._formFieldAppearance)("color",t.color),l.xp6(1),l.Q6J("value",t.pageSize)("disabled",t.disabled)("aria-label",t._intl.itemsPerPageLabel),l.xp6(1),l.Q6J("ngForOf",t._displayedPageSizeOptions)}}function w8(n,e){if(1&n&&(l.TgZ(0,"div",20),l._uU(1),l.qZA()),2&n){const t=l.oxw(2);l.xp6(1),l.Oqu(t.pageSize)}}function C8(n,e){if(1&n&&(l.TgZ(0,"div",12)(1,"div",13),l._uU(2),l.qZA(),l.YNc(3,b8,3,6,"mat-form-field",14),l.YNc(4,w8,2,1,"div",15),l.qZA()),2&n){const t=l.oxw();l.xp6(2),l.hij(" ",t._intl.itemsPerPageLabel," "),l.xp6(1),l.Q6J("ngIf",t._displayedPageSizeOptions.length>1),l.xp6(1),l.Q6J("ngIf",t._displayedPageSizeOptions.length<=1)}}function E8(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",21),l.NdJ("click",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.firstPage())}),l.O4$(),l.TgZ(1,"svg",7),l._UZ(2,"path",22),l.qZA()()}if(2&n){const t=l.oxw();l.Q6J("matTooltip",t._intl.firstPageLabel)("matTooltipDisabled",t._previousButtonsDisabled())("matTooltipPosition","above")("disabled",t._previousButtonsDisabled()),l.uIk("aria-label",t._intl.firstPageLabel)}}function D8(n,e){if(1&n){const t=l.EpF();l.O4$(),l.kcU(),l.TgZ(0,"button",23),l.NdJ("click",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.lastPage())}),l.O4$(),l.TgZ(1,"svg",7),l._UZ(2,"path",24),l.qZA()()}if(2&n){const t=l.oxw();l.Q6J("matTooltip",t._intl.lastPageLabel)("matTooltipDisabled",t._nextButtonsDisabled())("matTooltipPosition","above")("disabled",t._nextButtonsDisabled()),l.uIk("aria-label",t._intl.lastPageLabel)}}let BT=(()=>{class n{constructor(){this.changes=new Ot.x,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(t,i,r)=>{if(0==r||0==i)return`0 of ${r}`;const s=t*i;return`${s+1} \u2013 ${s<(r=Math.max(r,0))?Math.min(s+i,r):s+i} of ${r}`}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const T8={provide:BT,deps:[[new l.FiY,new l.tp0,BT]],useFactory:function I8(n){return n||new BT}},M8=new l.OlP("MAT_PAGINATOR_DEFAULT_OPTIONS"),A8=pO(tq(class{}));let x8=(()=>{class n extends A8{constructor(t,i,r){if(super(),this._intl=t,this._changeDetectorRef=i,this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this._hidePageSize=!1,this._showFirstLastButtons=!1,this.page=new l.vpe,this._intlChanges=t.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),r){const{pageSize:s,pageSizeOptions:u,hidePageSize:h,showFirstLastButtons:p}=r;null!=s&&(this._pageSize=s),null!=u&&(this._pageSizeOptions=u),null!=h&&(this._hidePageSize=h),null!=p&&(this._showFirstLastButtons=p)}}get pageIndex(){return this._pageIndex}set pageIndex(t){this._pageIndex=Math.max(Ap(t),0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(t){this._length=Ap(t),this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(t){this._pageSize=Math.max(Ap(t),0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(t){this._pageSizeOptions=(t||[]).map(i=>Ap(i)),this._updateDisplayedPageSizeOptions()}get hidePageSize(){return this._hidePageSize}set hidePageSize(t){this._hidePageSize=$n(t)}get showFirstLastButtons(){return this._showFirstLastButtons}set showFirstLastButtons(t){this._showFirstLastButtons=$n(t)}ngOnInit(){this._initialized=!0,this._updateDisplayedPageSizeOptions(),this._markInitialized()}ngOnDestroy(){this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;const t=this.pageIndex;this.pageIndex++,this._emitPageEvent(t)}previousPage(){if(!this.hasPreviousPage())return;const t=this.pageIndex;this.pageIndex--,this._emitPageEvent(t)}firstPage(){if(!this.hasPreviousPage())return;const t=this.pageIndex;this.pageIndex=0,this._emitPageEvent(t)}lastPage(){if(!this.hasNextPage())return;const t=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(t)}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const t=this.getNumberOfPages()-1;return this.pageIndex<t&&0!=this.pageSize}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(t){const r=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/t)||0,this.pageSize=t,this._emitPageEvent(r)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){!this._initialized||(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((t,i)=>t-i),this._changeDetectorRef.markForCheck())}_emitPageEvent(t){this.page.emit({previousPageIndex:t,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}}return n.\u0275fac=function(t){l.$Z()},n.\u0275dir=l.lG2({type:n,inputs:{color:"color",pageIndex:"pageIndex",length:"length",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",hidePageSize:"hidePageSize",showFirstLastButtons:"showFirstLastButtons"},outputs:{page:"page"},features:[l.qOj]}),n})(),YB=(()=>{class n extends x8{constructor(t,i,r){super(t,i,r),r&&null!=r.formFieldAppearance&&(this._formFieldAppearance=r.formFieldAppearance)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(BT),l.Y36(l.sBO),l.Y36(M8,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-paginator"],inputs:{disabled:"disabled"},exportAs:["matPaginator"],features:[l.qOj],decls:14,vars:14,consts:[[1,"mat-paginator-outer-container"],[1,"mat-paginator-container"],["class","mat-paginator-page-size",4,"ngIf"],[1,"mat-paginator-range-actions"],[1,"mat-paginator-range-label"],["mat-icon-button","","type","button","class","mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-previous",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["viewBox","0 0 24 24","focusable","false",1,"mat-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-next",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","class","mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],[1,"mat-paginator-page-size"],[1,"mat-paginator-page-size-label"],["class","mat-paginator-page-size-select",3,"appearance","color",4,"ngIf"],["class","mat-paginator-page-size-value",4,"ngIf"],[1,"mat-paginator-page-size-select",3,"appearance","color"],[3,"value","disabled","aria-label","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mat-paginator-page-size-value"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(t,i){1&t&&(l.TgZ(0,"div",0)(1,"div",1),l.YNc(2,C8,5,3,"div",2),l.TgZ(3,"div",3)(4,"div",4),l._uU(5),l.qZA(),l.YNc(6,E8,3,5,"button",5),l.TgZ(7,"button",6),l.NdJ("click",function(){return i.previousPage()}),l.O4$(),l.TgZ(8,"svg",7),l._UZ(9,"path",8),l.qZA()(),l.kcU(),l.TgZ(10,"button",9),l.NdJ("click",function(){return i.nextPage()}),l.O4$(),l.TgZ(11,"svg",7),l._UZ(12,"path",10),l.qZA()(),l.YNc(13,D8,3,5,"button",11),l.qZA()()()),2&t&&(l.xp6(2),l.Q6J("ngIf",!i.hidePageSize),l.xp6(3),l.hij(" ",i._intl.getRangeLabel(i.pageIndex,i.pageSize,i.length)," "),l.xp6(1),l.Q6J("ngIf",i.showFirstLastButtons),l.xp6(1),l.Q6J("matTooltip",i._intl.previousPageLabel)("matTooltipDisabled",i._previousButtonsDisabled())("matTooltipPosition","above")("disabled",i._previousButtonsDisabled()),l.uIk("aria-label",i._intl.previousPageLabel),l.xp6(3),l.Q6J("matTooltip",i._intl.nextPageLabel)("matTooltipDisabled",i._nextButtonsDisabled())("matTooltipPosition","above")("disabled",i._nextButtonsDisabled()),l.uIk("aria-label",i._intl.nextPageLabel),l.xp6(3),l.Q6J("ngIf",i.showFirstLastButtons))},dependencies:[FB,e8,uB,yq,U,ri,m8],styles:[".mat-paginator{display:block}.mat-paginator-outer-container{display:flex}.mat-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap-reverse;width:100%}.mat-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-paginator-page-size{margin-right:0;margin-left:8px}.mat-paginator-page-size-label{margin:0 4px}.mat-paginator-page-size-select{margin:6px 4px 0 4px;width:56px}.mat-paginator-page-size-select.mat-form-field-appearance-outline{width:64px}.mat-paginator-page-size-select.mat-form-field-appearance-fill{width:64px}.mat-paginator-range-label{margin:0 32px 0 24px}.mat-paginator-range-actions{display:flex;align-items:center}.mat-paginator-icon{width:28px;fill:currentColor}[dir=rtl] .mat-paginator-icon{transform:rotate(180deg)}.cdk-high-contrast-active .mat-paginator-icon{fill:CanvasText}\n"],encapsulation:2,changeDetection:0}),n})(),KB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[T8],imports:[[co,bO,t8,y8,ai]]}),n})();const R8=[[["caption"]],[["colgroup"],["col"]]],O8=["caption","colgroup, col"];function xO(n){return class extends n{constructor(...e){super(...e),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(e){const t=this._sticky;this._sticky=$n(e),this._hasStickyChanged=t!==this._sticky}hasStickyChanged(){const e=this._hasStickyChanged;return this._hasStickyChanged=!1,e}resetStickyChanged(){this._hasStickyChanged=!1}}}const ey=new l.OlP("CDK_TABLE");let ty=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkCellDef",""]]}),n})(),ny=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkHeaderCellDef",""]]}),n})(),UT=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkFooterCellDef",""]]}),n})();class L8{}const V8=xO(L8);let au=(()=>{class n extends V8{constructor(t){super(),this._table=t,this._stickyEnd=!1}get name(){return this._name}set name(t){this._setNameInput(t)}get stickyEnd(){return this._stickyEnd}set stickyEnd(t){const i=this._stickyEnd;this._stickyEnd=$n(t),this._hasStickyChanged=i!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(t){t&&(this._name=t,this.cssClassFriendlyName=t.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(ey,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(t,i,r){if(1&t&&(l.Suo(r,ty,5),l.Suo(r,ny,5),l.Suo(r,UT,5)),2&t){let s;l.iGM(s=l.CRH())&&(i.cell=s.first),l.iGM(s=l.CRH())&&(i.headerCell=s.first),l.iGM(s=l.CRH())&&(i.footerCell=s.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[l._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),l.qOj]}),n})();class kO{constructor(e,t){const i=t.nativeElement.classList;for(const r of e._columnCssClassName)i.add(r)}}let RO=(()=>{class n extends kO{constructor(t,i){super(t,i)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(au),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[l.qOj]}),n})(),OO=(()=>{class n extends kO{constructor(t,i){if(super(t,i),1===t._table?._elementRef.nativeElement.nodeType){const r=t._table._elementRef.nativeElement.getAttribute("role");i.nativeElement.setAttribute("role","grid"===r||"treegrid"===r?"gridcell":"cell")}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(au),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[l.qOj]}),n})();class XB{constructor(){this.tasks=[],this.endTasks=[]}}const PO=new l.OlP("_COALESCED_STYLE_SCHEDULER");let JB=(()=>{class n{constructor(t){this._ngZone=t,this._currentSchedule=null,this._destroyed=new Ot.x}schedule(t){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(t)}scheduleEnd(t){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(t)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new XB,this._getScheduleObservable().pipe(di(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const t=this._currentSchedule;this._currentSchedule=new XB;for(const i of t.tasks)i();for(const i of t.endTasks)i()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,Ln.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe(wr(1))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),NO=(()=>{class n{constructor(t,i){this.template=t,this._differs=i}ngOnChanges(t){if(!this._columnsDiffer){const i=t.columns&&t.columns.currentValue||[];this._columnsDiffer=this._differs.find(i).create(),this._columnsDiffer.diff(i)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(t){return this instanceof v0?t.headerCell.template:this instanceof b0?t.footerCell.template:t.cell.template}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc),l.Y36(l.ZZ4))},n.\u0275dir=l.lG2({type:n,features:[l.TTD]}),n})();class B8 extends NO{}const U8=xO(B8);let v0=(()=>{class n extends U8{constructor(t,i,r){super(t,i),this._table=r}ngOnChanges(t){super.ngOnChanges(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc),l.Y36(l.ZZ4),l.Y36(ey,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[l.qOj,l.TTD]}),n})();class H8 extends NO{}const z8=xO(H8);let b0=(()=>{class n extends z8{constructor(t,i,r){super(t,i),this._table=r}ngOnChanges(t){super.ngOnChanges(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc),l.Y36(l.ZZ4),l.Y36(ey,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[l.qOj,l.TTD]}),n})(),HT=(()=>{class n extends NO{constructor(t,i,r){super(t,i),this._table=r}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc),l.Y36(l.ZZ4),l.Y36(ey,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[l.qOj]}),n})(),lu=(()=>{class n{constructor(t){this._viewContainer=t,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}}return n.mostRecentCellOutlet=null,n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkCellOutlet",""]]}),n})(),FO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,i){1&t&&l.GkF(0,0)},dependencies:[lu],encapsulation:2}),n})(),VO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,i){1&t&&l.GkF(0,0)},dependencies:[lu],encapsulation:2}),n})(),zT=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","cdkNoDataRow",""]]}),n})();const eU=["top","bottom","left","right"];class j8{constructor(e,t,i,r,s=!0,u=!0,h){this._isNativeHtmlTable=e,this._stickCellCss=t,this.direction=i,this._coalescedStyleScheduler=r,this._isBrowser=s,this._needsPositionStickyOnElement=u,this._positionListener=h,this._cachedCellWidths=[],this._borderCellCss={top:`${t}-border-elem-top`,bottom:`${t}-border-elem-bottom`,left:`${t}-border-elem-left`,right:`${t}-border-elem-right`}}clearStickyPositioning(e,t){const i=[];for(const r of e)if(r.nodeType===r.ELEMENT_NODE){i.push(r);for(let s=0;s<r.children.length;s++)i.push(r.children[s])}this._coalescedStyleScheduler.schedule(()=>{for(const r of i)this._removeStickyStyle(r,t)})}updateStickyColumns(e,t,i,r=!0){if(!e.length||!this._isBrowser||!t.some(O=>O)&&!i.some(O=>O))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const s=e[0],u=s.children.length,h=this._getCellWidths(s,r),p=this._getStickyStartColumnPositions(h,t),y=this._getStickyEndColumnPositions(h,i),E=t.lastIndexOf(!0),I=i.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const O="rtl"===this.direction,B=O?"right":"left",$=O?"left":"right";for(const ne of e)for(let te=0;te<u;te++){const Ve=ne.children[te];t[te]&&this._addStickyStyle(Ve,B,p[te],te===E),i[te]&&this._addStickyStyle(Ve,$,y[te],te===I)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===E?[]:h.slice(0,E+1).map((ne,te)=>t[te]?ne:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===I?[]:h.slice(I).map((ne,te)=>i[te+I]?ne:null).reverse()}))})}stickRows(e,t,i){if(!this._isBrowser)return;const r="bottom"===i?e.slice().reverse():e,s="bottom"===i?t.slice().reverse():t,u=[],h=[],p=[];for(let E=0,I=0;E<r.length;E++){if(!s[E])continue;u[E]=I;const O=r[E];p[E]=this._isNativeHtmlTable?Array.from(O.children):[O];const B=O.getBoundingClientRect().height;I+=B,h[E]=B}const y=s.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{for(let E=0;E<r.length;E++){if(!s[E])continue;const I=u[E],O=E===y;for(const B of p[E])this._addStickyStyle(B,i,I,O)}"top"===i?this._positionListener?.stickyHeaderRowsUpdated({sizes:h,offsets:u,elements:p}):this._positionListener?.stickyFooterRowsUpdated({sizes:h,offsets:u,elements:p})})}updateStickyFooterContainer(e,t){if(!this._isNativeHtmlTable)return;const i=e.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{t.some(r=>!r)?this._removeStickyStyle(i,["bottom"]):this._addStickyStyle(i,"bottom",0,!1)})}_removeStickyStyle(e,t){for(const r of t)e.style[r]="",e.classList.remove(this._borderCellCss[r]);eU.some(r=>-1===t.indexOf(r)&&e.style[r])?e.style.zIndex=this._getCalculatedZIndex(e):(e.style.zIndex="",this._needsPositionStickyOnElement&&(e.style.position=""),e.classList.remove(this._stickCellCss))}_addStickyStyle(e,t,i,r){e.classList.add(this._stickCellCss),r&&e.classList.add(this._borderCellCss[t]),e.style[t]=`${i}px`,e.style.zIndex=this._getCalculatedZIndex(e),this._needsPositionStickyOnElement&&(e.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(e){const t={top:100,bottom:10,left:1,right:1};let i=0;for(const r of eU)e.style[r]&&(i+=t[r]);return i?`${i}`:""}_getCellWidths(e,t=!0){if(!t&&this._cachedCellWidths.length)return this._cachedCellWidths;const i=[],r=e.children;for(let s=0;s<r.length;s++)i.push(r[s].getBoundingClientRect().width);return this._cachedCellWidths=i,i}_getStickyStartColumnPositions(e,t){const i=[];let r=0;for(let s=0;s<e.length;s++)t[s]&&(i[s]=r,r+=e[s]);return i}_getStickyEndColumnPositions(e,t){const i=[];let r=0;for(let s=e.length;s>0;s--)t[s]&&(i[s]=r,r+=e[s]);return i}}const BO=new l.OlP("CDK_SPL");let jT=(()=>{class n{constructor(t,i){this.viewContainer=t,this.elementRef=i}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","rowOutlet",""]]}),n})(),$T=(()=>{class n{constructor(t,i){this.viewContainer=t,this.elementRef=i}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","headerRowOutlet",""]]}),n})(),GT=(()=>{class n{constructor(t,i){this.viewContainer=t,this.elementRef=i}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","footerRowOutlet",""]]}),n})(),qT=(()=>{class n{constructor(t,i){this.viewContainer=t,this.elementRef=i}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","noDataRowOutlet",""]]}),n})(),WT=(()=>{class n{constructor(t,i,r,s,u,h,p,y,E,I,O){this._differs=t,this._changeDetectorRef=i,this._elementRef=r,this._dir=u,this._platform=p,this._viewRepeater=y,this._coalescedStyleScheduler=E,this._viewportRuler=I,this._stickyPositioningListener=O,this._onDestroy=new Ot.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new l.vpe,this.viewChange=new Li({start:0,end:Number.MAX_VALUE}),s||this._elementRef.nativeElement.setAttribute("role","table"),this._document=h,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(t){this._trackByFn=t}get dataSource(){return this._dataSource}set dataSource(t){this._dataSource!==t&&this._switchDataSource(t)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(t){this._multiTemplateDataRows=$n(t),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(t){this._fixedLayout=$n(t),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((t,i)=>this.trackBy?this.trackBy(i.dataIndex,i.data):i),this._viewportRuler.change().pipe(di(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const i=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||i,this._forceRecalculateCellWidths=i,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){this._rowOutlet.viewContainer.clear(),this._noDataRowOutlet.viewContainer.clear(),this._headerRowOutlet.viewContainer.clear(),this._footerRowOutlet.viewContainer.clear(),this._cachedRenderRowsMap.clear(),this._onDestroy.next(),this._onDestroy.complete(),AO(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const t=this._dataDiffer.diff(this._renderRows);if(!t)return this._updateNoDataRow(),void this.contentChanged.next();const i=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(t,i,(r,s,u)=>this._getEmbeddedViewArgs(r.item,u),r=>r.item.data,r=>{1===r.operation&&r.context&&this._renderCellTemplateForItem(r.record.item.rowDef,r.context)}),this._updateRowIndexContext(),t.forEachIdentityChange(r=>{i.get(r.currentIndex).context.$implicit=r.item.data}),this._updateNoDataRow(),this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(t){this._customColumnDefs.add(t)}removeColumnDef(t){this._customColumnDefs.delete(t)}addRowDef(t){this._customRowDefs.add(t)}removeRowDef(t){this._customRowDefs.delete(t)}addHeaderRowDef(t){this._customHeaderRowDefs.add(t),this._headerRowDefChanged=!0}removeHeaderRowDef(t){this._customHeaderRowDefs.delete(t),this._headerRowDefChanged=!0}addFooterRowDef(t){this._customFooterRowDefs.add(t),this._footerRowDefChanged=!0}removeFooterRowDef(t){this._customFooterRowDefs.delete(t),this._footerRowDefChanged=!0}setNoDataRow(t){this._customNoDataRow=t}updateStickyHeaderRowStyles(){const t=this._getRenderedRows(this._headerRowOutlet),r=this._elementRef.nativeElement.querySelector("thead");r&&(r.style.display=t.length?"":"none");const s=this._headerRowDefs.map(u=>u.sticky);this._stickyStyler.clearStickyPositioning(t,["top"]),this._stickyStyler.stickRows(t,s,"top"),this._headerRowDefs.forEach(u=>u.resetStickyChanged())}updateStickyFooterRowStyles(){const t=this._getRenderedRows(this._footerRowOutlet),r=this._elementRef.nativeElement.querySelector("tfoot");r&&(r.style.display=t.length?"":"none");const s=this._footerRowDefs.map(u=>u.sticky);this._stickyStyler.clearStickyPositioning(t,["bottom"]),this._stickyStyler.stickRows(t,s,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,s),this._footerRowDefs.forEach(u=>u.resetStickyChanged())}updateStickyColumnStyles(){const t=this._getRenderedRows(this._headerRowOutlet),i=this._getRenderedRows(this._rowOutlet),r=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...t,...i,...r],["left","right"]),this._stickyColumnStylesNeedReset=!1),t.forEach((s,u)=>{this._addStickyColumnStyles([s],this._headerRowDefs[u])}),this._rowDefs.forEach(s=>{const u=[];for(let h=0;h<i.length;h++)this._renderRows[h].rowDef===s&&u.push(i[h]);this._addStickyColumnStyles(u,s)}),r.forEach((s,u)=>{this._addStickyColumnStyles([s],this._footerRowDefs[u])}),Array.from(this._columnDefsByName.values()).forEach(s=>s.resetStickyChanged())}_getAllRenderRows(){const t=[],i=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let r=0;r<this._data.length;r++){let s=this._data[r];const u=this._getRenderRowsForData(s,r,i.get(s));this._cachedRenderRowsMap.has(s)||this._cachedRenderRowsMap.set(s,new WeakMap);for(let h=0;h<u.length;h++){let p=u[h];const y=this._cachedRenderRowsMap.get(p.data);y.has(p.rowDef)?y.get(p.rowDef).push(p):y.set(p.rowDef,[p]),t.push(p)}}return t}_getRenderRowsForData(t,i,r){return this._getRowDefs(t,i).map(u=>{const h=r&&r.has(u)?r.get(u):[];if(h.length){const p=h.shift();return p.dataIndex=i,p}return{data:t,rowDef:u,dataIndex:i}})}_cacheColumnDefs(){this._columnDefsByName.clear(),ZT(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(i=>{this._columnDefsByName.has(i.name),this._columnDefsByName.set(i.name,i)})}_cacheRowDefs(){this._headerRowDefs=ZT(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=ZT(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=ZT(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const t=this._rowDefs.filter(i=>!i.when);this._defaultRowDef=t[0]}_renderUpdatedColumns(){const t=(u,h)=>u||!!h.getColumnsDiff(),i=this._rowDefs.reduce(t,!1);i&&this._forceRenderDataRows();const r=this._headerRowDefs.reduce(t,!1);r&&this._forceRenderHeaderRows();const s=this._footerRowDefs.reduce(t,!1);return s&&this._forceRenderFooterRows(),i||r||s}_switchDataSource(t){this._data=[],AO(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),t||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=t}_observeRenderChanges(){if(!this.dataSource)return;let t;AO(this.dataSource)?t=this.dataSource.connect(this):function k8(n){return!!n&&(n instanceof Vi.y||(0,jr.m)(n.lift)&&(0,jr.m)(n.subscribe))}(this.dataSource)?t=this.dataSource:Array.isArray(this.dataSource)&&(t=bt(this.dataSource)),this._renderChangeSubscription=t.pipe(di(this._onDestroy)).subscribe(i=>{this._data=i||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((t,i)=>this._renderRow(this._headerRowOutlet,t,i)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((t,i)=>this._renderRow(this._footerRowOutlet,t,i)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(t,i){const r=Array.from(i.columns||[]).map(h=>this._columnDefsByName.get(h)),s=r.map(h=>h.sticky),u=r.map(h=>h.stickyEnd);this._stickyStyler.updateStickyColumns(t,s,u,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(t){const i=[];for(let r=0;r<t.viewContainer.length;r++){const s=t.viewContainer.get(r);i.push(s.rootNodes[0])}return i}_getRowDefs(t,i){if(1==this._rowDefs.length)return[this._rowDefs[0]];let r=[];if(this.multiTemplateDataRows)r=this._rowDefs.filter(s=>!s.when||s.when(i,t));else{let s=this._rowDefs.find(u=>u.when&&u.when(i,t))||this._defaultRowDef;s&&r.push(s)}return r}_getEmbeddedViewArgs(t,i){return{templateRef:t.rowDef.template,context:{$implicit:t.data},index:i}}_renderRow(t,i,r,s={}){const u=t.viewContainer.createEmbeddedView(i.template,s,r);return this._renderCellTemplateForItem(i,s),u}_renderCellTemplateForItem(t,i){for(let r of this._getCellTemplates(t))lu.mostRecentCellOutlet&&lu.mostRecentCellOutlet._viewContainer.createEmbeddedView(r,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const t=this._rowOutlet.viewContainer;for(let i=0,r=t.length;i<r;i++){const u=t.get(i).context;u.count=r,u.first=0===i,u.last=i===r-1,u.even=i%2==0,u.odd=!u.even,this.multiTemplateDataRows?(u.dataIndex=this._renderRows[i].dataIndex,u.renderIndex=i):u.index=this._renderRows[i].dataIndex}}_getCellTemplates(t){return t&&t.columns?Array.from(t.columns,i=>{const r=this._columnDefsByName.get(i);return t.extractCellTemplate(r)}):[]}_applyNativeTableSections(){const t=this._document.createDocumentFragment(),i=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const r of i){const s=this._document.createElement(r.tag);s.setAttribute("role","rowgroup");for(const u of r.outlets)s.appendChild(u.elementRef.nativeElement);t.appendChild(s)}this._elementRef.nativeElement.appendChild(t)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const t=(i,r)=>i||r.hasStickyChanged();this._headerRowDefs.reduce(t,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(t,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(t,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new j8(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:bt()).pipe(di(this._onDestroy)).subscribe(i=>{this._stickyStyler.direction=i,this.updateStickyColumnStyles()})}_getOwnDefs(t){return t.filter(i=>!i._table||i._table===this)}_updateNoDataRow(){const t=this._customNoDataRow||this._noDataRow;if(t){const i=0===this._rowOutlet.viewContainer.length;if(i!==this._isShowingNoDataRow){const r=this._noDataRowOutlet.viewContainer;i?r.createEmbeddedView(t.templateRef):r.clear(),this._isShowingNoDataRow=i}}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.ZZ4),l.Y36(l.sBO),l.Y36(l.SBq),l.$8M("role"),l.Y36(Rp,8),l.Y36(re),l.Y36(os),l.Y36(_0),l.Y36(PO),l.Y36(LT),l.Y36(BO,12))},n.\u0275cmp=l.Xpm({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(t,i,r){if(1&t&&(l.Suo(r,zT,5),l.Suo(r,au,5),l.Suo(r,HT,5),l.Suo(r,v0,5),l.Suo(r,b0,5)),2&t){let s;l.iGM(s=l.CRH())&&(i._noDataRow=s.first),l.iGM(s=l.CRH())&&(i._contentColumnDefs=s),l.iGM(s=l.CRH())&&(i._contentRowDefs=s),l.iGM(s=l.CRH())&&(i._contentHeaderRowDefs=s),l.iGM(s=l.CRH())&&(i._contentFooterRowDefs=s)}},viewQuery:function(t,i){if(1&t&&(l.Gf(jT,7),l.Gf($T,7),l.Gf(GT,7),l.Gf(qT,7)),2&t){let r;l.iGM(r=l.CRH())&&(i._rowOutlet=r.first),l.iGM(r=l.CRH())&&(i._headerRowOutlet=r.first),l.iGM(r=l.CRH())&&(i._footerRowOutlet=r.first),l.iGM(r=l.CRH())&&(i._noDataRowOutlet=r.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(t,i){2&t&&l.ekj("cdk-table-fixed-layout",i.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[l._Bn([{provide:ey,useExisting:n},{provide:_0,useClass:LB},{provide:PO,useClass:JB},{provide:BO,useValue:null}])],ngContentSelectors:O8,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,i){1&t&&(l.F$t(R8),l.Hsn(0),l.Hsn(1,1),l.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[$T,jT,qT,GT],styles:[".cdk-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),n})();function ZT(n,e){return n.concat(Array.from(e))}let G8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[CO]]}),n})();const q8=[[["caption"]],[["colgroup"],["col"]]],W8=["caption","colgroup, col"];let nU=(()=>{class n extends WT{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(t,i){2&t&&l.ekj("mat-table-fixed-layout",i.fixedLayout)},exportAs:["matTable"],features:[l._Bn([{provide:_0,useClass:LB},{provide:WT,useExisting:n},{provide:ey,useExisting:n},{provide:PO,useClass:JB},{provide:BO,useValue:null}]),l.qOj],ngContentSelectors:W8,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,i){1&t&&(l.F$t(q8),l.Hsn(0),l.Hsn(1,1),l.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[$T,jT,qT,GT],styles:['mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-row::after,mat-header-row::after,mat-footer-row::after{display:inline-block;min-height:inherit;content:""}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:-webkit-sticky !important;position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}\n'],encapsulation:2}),n})(),UO=(()=>{class n extends ty{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","matCellDef",""]],features:[l._Bn([{provide:ty,useExisting:n}]),l.qOj]}),n})(),HO=(()=>{class n extends ny{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","matHeaderCellDef",""]],features:[l._Bn([{provide:ny,useExisting:n}]),l.qOj]}),n})(),zO=(()=>{class n extends au{get name(){return this._name}set name(t){this._setNameInput(t)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[l._Bn([{provide:au,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),l.qOj]}),n})(),jO=(()=>{class n extends RO{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[l.qOj]}),n})(),$O=(()=>{class n extends OO{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[l.qOj]}),n})(),iU=(()=>{class n extends v0{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[l._Bn([{provide:v0,useExisting:n}]),l.qOj]}),n})(),rU=(()=>{class n extends HT{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[l._Bn([{provide:HT,useExisting:n}]),l.qOj]}),n})(),sU=(()=>{class n extends FO{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[l._Bn([{provide:FO,useExisting:n}]),l.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,i){1&t&&l.GkF(0,0)},dependencies:[lu],encapsulation:2}),n})(),oU=(()=>{class n extends VO{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[l._Bn([{provide:VO,useExisting:n}]),l.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,i){1&t&&l.GkF(0,0)},dependencies:[lu],encapsulation:2}),n})(),aU=(()=>{class n extends zT{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","matNoDataRow",""]],features:[l._Bn([{provide:zT,useExisting:n}]),l.qOj]}),n})(),lU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[G8,ai],ai]}),n})();class cU extends class i9 extends class NW{}{constructor(e=[]){super(),this._renderData=new Li([]),this._filter=new Li(""),this._internalPageChanges=new Ot.x,this._renderChangesSubscription=null,this.sortingDataAccessor=(t,i)=>{const r=t[i];if(NV(r)){const s=Number(r);return s<9007199254740991?s:r}return r},this.sortData=(t,i)=>{const r=i.active,s=i.direction;return r&&""!=s?t.sort((u,h)=>{let p=this.sortingDataAccessor(u,r),y=this.sortingDataAccessor(h,r);const E=typeof p,I=typeof y;E!==I&&("number"===E&&(p+=""),"number"===I&&(y+=""));let O=0;return null!=p&&null!=y?p>y?O=1:p<y&&(O=-1):null!=p?O=1:null!=y&&(O=-1),O*("asc"==s?1:-1)}):t},this.filterPredicate=(t,i)=>{const r=Object.keys(t).reduce((u,h)=>u+t[h]+"\u25ec","").toLowerCase(),s=i.trim().toLowerCase();return-1!=r.indexOf(s)},this._data=new Li(e),this._updateChangeSubscription()}get data(){return this._data.value}set data(e){this._data.next(e),this._renderChangesSubscription||this._filterData(e)}get filter(){return this._filter.value}set filter(e){this._filter.next(e),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(e){this._sort=e,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(e){this._paginator=e,this._updateChangeSubscription()}_updateChangeSubscription(){const e=this._sort?(0,ca.T)(this._sort.sortChange,this._sort.initialized):bt(null),t=this._paginator?(0,ca.T)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):bt(null),r=hs([this._data,this._filter]).pipe((0,Et.U)(([h])=>this._filterData(h))),s=hs([r,e]).pipe((0,Et.U)(([h])=>this._orderData(h))),u=hs([s,t]).pipe((0,Et.U)(([h])=>this._pageData(h)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=u.subscribe(h=>this._renderData.next(h))}_filterData(e){return this.filteredData=null==this.filter||""===this.filter?e:e.filter(t=>this.filterPredicate(t,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(e){return this.sort?this.sortData(e.slice(),this.sort):e}_pageData(e){if(!this.paginator)return e;const t=this.paginator.pageIndex*this.paginator.pageSize;return e.slice(t,t+this.paginator.pageSize)}_updatePaginator(e){Promise.resolve().then(()=>{const t=this.paginator;if(t&&(t.length=e,t.pageIndex>0)){const i=Math.ceil(t.length/t.pageSize)-1||0,r=Math.min(t.pageIndex,i);r!==t.pageIndex&&(t.pageIndex=r,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null}}{}const YT_firebase={apiKey:"AIzaSyBCSXOMMN89dpIcjNVXSUUTnUCcuVkW81E",authDomain:"crud-bec53.firebaseapp.com",projectId:"crud-bec53",locationId:"us-central",storageBucket:"crud-bec53.appspot.com",messagingSenderId:"160803559205",appId:"1:160803559205:web:912189d33b511618496ccc"};class uU{}class dU{}class cu{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),s=r.toLowerCase(),u=t.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(u):this.headers.set(s,[u])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let i=e[t];const r=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof cu?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new cu;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof cu?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const s=e.value;if(s){let u=this.headers.get(t);if(!u)return;u=u.filter(h=>-1===s.indexOf(h)),0===u.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,u)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class r9{encodeKey(e){return hU(e)}encodeValue(e){return hU(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const o9=/%(\d[a-f0-9])/gi,a9={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function hU(n){return encodeURIComponent(n).replace(o9,(e,t)=>a9[t]??e)}function KT(n){return`${n}`}class th{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new r9,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function s9(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[u,h]=-1==s?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,s)),e.decodeValue(r.slice(s+1))],p=t.get(u)||[];p.push(h),t.set(u,p)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(KT):[KT(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(s=>{t.push({param:i,value:s,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new th({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(KT(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(KT(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class l9{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function fU(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function pU(n){return typeof Blob<"u"&&n instanceof Blob}function mU(n){return typeof FormData<"u"&&n instanceof FormData}class w0{constructor(e,t,i,r){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function c9(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new cu),this.context||(this.context=new l9),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=t;else{const h=t.indexOf("?");this.urlWithParams=t+(-1===h?"?":h<t.length-1?"&":"")+u}}else this.params=new th,this.urlWithParams=t}serializeBody(){return null===this.body?null:fU(this.body)||pU(this.body)||mU(this.body)||function u9(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof th?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||mU(this.body)?null:pU(this.body)?this.body.type||null:fU(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof th?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,u=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,h=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let p=e.headers||this.headers,y=e.params||this.params;const E=e.context??this.context;return void 0!==e.setHeaders&&(p=Object.keys(e.setHeaders).reduce((I,O)=>I.set(O,e.setHeaders[O]),p)),e.setParams&&(y=Object.keys(e.setParams).reduce((I,O)=>I.set(O,e.setParams[O]),y)),new w0(t,i,s,{params:y,headers:p,context:E,reportProgress:h,responseType:r,withCredentials:u})}}var Mr=(()=>((Mr=Mr||{})[Mr.Sent=0]="Sent",Mr[Mr.UploadProgress=1]="UploadProgress",Mr[Mr.ResponseHeader=2]="ResponseHeader",Mr[Mr.DownloadProgress=3]="DownloadProgress",Mr[Mr.Response=4]="Response",Mr[Mr.User=5]="User",Mr))();class GO{constructor(e,t=200,i="OK"){this.headers=e.headers||new cu,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class qO extends GO{constructor(e={}){super(e),this.type=Mr.ResponseHeader}clone(e={}){return new qO({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class QT extends GO{constructor(e={}){super(e),this.type=Mr.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new QT({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class gU extends GO{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function WO(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let XT=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let s;if(t instanceof w0)s=t;else{let p,y;p=r.headers instanceof cu?r.headers:new cu(r.headers),r.params&&(y=r.params instanceof th?r.params:new th({fromObject:r.params})),s=new w0(t,i,void 0!==r.body?r.body:null,{headers:p,context:r.context,params:y,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const u=bt(s).pipe(Ks(p=>this.handler.handle(p)));if(t instanceof w0||"events"===r.observe)return u;const h=u.pipe(Ui(p=>p instanceof QT));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return h.pipe((0,Et.U)(p=>{if(null!==p.body&&!(p.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return p.body}));case"blob":return h.pipe((0,Et.U)(p=>{if(null!==p.body&&!(p.body instanceof Blob))throw new Error("Response is not a Blob.");return p.body}));case"text":return h.pipe((0,Et.U)(p=>{if(null!==p.body&&"string"!=typeof p.body)throw new Error("Response is not a string.");return p.body}));default:return h.pipe((0,Et.U)(p=>p.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new th).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,WO(r,i))}post(t,i,r={}){return this.request("POST",t,WO(r,i))}put(t,i,r={}){return this.request("PUT",t,WO(r,i))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(uU))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class _U{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const yU=new l.OlP("HTTP_INTERCEPTORS");let d9=(()=>{class n{intercept(t,i){return i.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const h9=/^\)\]\}',?\n/;let vU=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Vi.y(i=>{const r=this.xhrFactory.build();if(r.open(t.method,t.urlWithParams),t.withCredentials&&(r.withCredentials=!0),t.headers.forEach((B,$)=>r.setRequestHeader(B,$.join(","))),t.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const B=t.detectContentTypeHeader();null!==B&&r.setRequestHeader("Content-Type",B)}if(t.responseType){const B=t.responseType.toLowerCase();r.responseType="json"!==B?B:"text"}const s=t.serializeBody();let u=null;const h=()=>{if(null!==u)return u;const B=r.statusText||"OK",$=new cu(r.getAllResponseHeaders()),ne=function f9(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||t.url;return u=new qO({headers:$,status:r.status,statusText:B,url:ne}),u},p=()=>{let{headers:B,status:$,statusText:ne,url:te}=h(),Ve=null;204!==$&&(Ve=typeof r.response>"u"?r.responseText:r.response),0===$&&($=Ve?200:0);let ot=$>=200&&$<300;if("json"===t.responseType&&"string"==typeof Ve){const nt=Ve;Ve=Ve.replace(h9,"");try{Ve=""!==Ve?JSON.parse(Ve):null}catch(at){Ve=nt,ot&&(ot=!1,Ve={error:at,text:Ve})}}ot?(i.next(new QT({body:Ve,headers:B,status:$,statusText:ne,url:te||void 0})),i.complete()):i.error(new gU({error:Ve,headers:B,status:$,statusText:ne,url:te||void 0}))},y=B=>{const{url:$}=h(),ne=new gU({error:B,status:r.status||0,statusText:r.statusText||"Unknown Error",url:$||void 0});i.error(ne)};let E=!1;const I=B=>{E||(i.next(h()),E=!0);let $={type:Mr.DownloadProgress,loaded:B.loaded};B.lengthComputable&&($.total=B.total),"text"===t.responseType&&!!r.responseText&&($.partialText=r.responseText),i.next($)},O=B=>{let $={type:Mr.UploadProgress,loaded:B.loaded};B.lengthComputable&&($.total=B.total),i.next($)};return r.addEventListener("load",p),r.addEventListener("error",y),r.addEventListener("timeout",y),r.addEventListener("abort",y),t.reportProgress&&(r.addEventListener("progress",I),null!==s&&r.upload&&r.upload.addEventListener("progress",O)),r.send(s),i.next({type:Mr.Sent}),()=>{r.removeEventListener("error",y),r.removeEventListener("abort",y),r.removeEventListener("load",p),r.removeEventListener("timeout",y),t.reportProgress&&(r.removeEventListener("progress",I),null!==s&&r.upload&&r.upload.removeEventListener("progress",O)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ya))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const ZO=new l.OlP("XSRF_COOKIE_NAME"),YO=new l.OlP("XSRF_HEADER_NAME");class bU{}let p9=(()=>{class n{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ai(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(re),l.LFG(l.Lbi),l.LFG(ZO))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),KO=(()=>{class n{constructor(t,i){this.tokenService=t,this.headerName=i}intercept(t,i){const r=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||r.startsWith("http://")||r.startsWith("https://"))return i.handle(t);const s=this.tokenService.getToken();return null!==s&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,s)})),i.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(bU),l.LFG(YO))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),m9=(()=>{class n{constructor(t,i){this.backend=t,this.injector=i,this.chain=null}handle(t){if(null===this.chain){const i=this.injector.get(yU,[]);this.chain=i.reduceRight((r,s)=>new _U(r,s),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(dU),l.LFG(l.zs3))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),g9=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:KO,useClass:d9}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:ZO,useValue:t.cookieName}:[],t.headerName?{provide:YO,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[KO,{provide:yU,useExisting:KO,multi:!0},{provide:bU,useClass:p9},{provide:ZO,useValue:"XSRF-TOKEN"},{provide:YO,useValue:"X-XSRF-TOKEN"}]}),n})(),_9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[XT,{provide:uU,useClass:m9},vU,{provide:dU,useExisting:vU}],imports:[g9.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),n})(),wU=(()=>{class n{constructor(t){this.http=t,this.baseUrl="https://pokeapi.co/api/v2"}getPokemons(t){return this.http.get(`${this.baseUrl}/pokemon/${t}`)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(XT))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const y9=["*",[["mat-toolbar-row"]]],v9=["*","mat-toolbar-row"],b9=OT(class{constructor(n){this._elementRef=n}});let CU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),w9=(()=>{class n extends b9{constructor(t,i,r){super(t),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(os),l.Y36(re))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(t,i,r){if(1&t&&l.Suo(r,CU,5),2&t){let s;l.iGM(s=l.CRH())&&(i._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,i){2&t&&l.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[l.qOj],ngContentSelectors:v9,decls:2,vars:0,template:function(t,i){1&t&&(l.F$t(y9),l.Hsn(0),l.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),n})(),EU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[ai],ai]}),n})();const DU=K_({passive:!0});let C9=(()=>{class n{constructor(t,i){this._platform=t,this._ngZone=i,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return fs.E;const i=ou(t),r=this._monitoredElements.get(i);if(r)return r.subject;const s=new Ot.x,u="cdk-text-field-autofilled",h=p=>{"cdk-text-field-autofill-start"!==p.animationName||i.classList.contains(u)?"cdk-text-field-autofill-end"===p.animationName&&i.classList.contains(u)&&(i.classList.remove(u),this._ngZone.run(()=>s.next({target:p.target,isAutofilled:!1}))):(i.classList.add(u),this._ngZone.run(()=>s.next({target:p.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",h,DU),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:s,unlisten:()=>{i.removeEventListener("animationstart",h,DU)}}),s}stopMonitoring(t){const i=ou(t),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((t,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(os),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),IU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[MT]]}),n})();const E9=new l.OlP("MAT_INPUT_VALUE_ACCESSOR"),D9=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let I9=0;const T9=gO(class{constructor(n,e,t,i){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=i}});let S9=(()=>{class n extends T9{constructor(t,i,r,s,u,h,p,y,E,I){super(h,s,u,r),this._elementRef=t,this._platform=i,this._autofillMonitor=y,this._formField=I,this._uid="mat-input-"+I9++,this.focused=!1,this.stateChanges=new Ot.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter($=>LV().has($));const O=this._elementRef.nativeElement,B=O.nodeName.toLowerCase();this._inputValueAccessor=p||O,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&E.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",$=>{const ne=$.target;!ne.value&&0===ne.selectionStart&&0===ne.selectionEnd&&(ne.setSelectionRange(1,1),ne.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===B,this._isTextarea="textarea"===B,this._isInFormField=!!I,this._isNativeSelect&&(this.controlType=O.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=$n(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Pa.required)??!1}set required(t){this._required=$n(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&LV().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=$n(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){const t=this._formField?._hideControlPlaceholder?.()?null:this.placeholder;if(t!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=t,t?i.setAttribute("placeholder",t):i.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){D9.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,i=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(os),l.Y36(bo,10),l.Y36(wl,8),l.Y36(Qo,8),l.Y36(d0),l.Y36(E9,10),l.Y36(C9),l.Y36(l.R0b),l.Y36(MO,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:11,hostBindings:function(t,i){1&t&&l.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&t&&(l.Ikx("disabled",i.disabled)("required",i.required),l.uIk("id",i.id)("data-placeholder",i.placeholder)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),l.ekj("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[l._Bn([{provide:m0,useExisting:n}]),l.qOj,l.TTD]}),n})(),TU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[d0],imports:[[IU,g0,ai],IU,g0]}),n})();function M9(n,e){1&n&&(l.TgZ(0,"th",16),l._uU(1," No. "),l.qZA())}function A9(n,e){if(1&n&&(l.TgZ(0,"td",17),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.xp6(1),l.hij(" ",t.position," ")}}function x9(n,e){1&n&&(l.TgZ(0,"th",16),l._uU(1," Image "),l.qZA())}function k9(n,e){if(1&n&&(l.TgZ(0,"td",17),l._UZ(1,"img",18),l.qZA()),2&n){const t=e.$implicit;l.xp6(1),l.s9C("src",t.image,l.LSH)}}function R9(n,e){1&n&&(l.TgZ(0,"th",16),l._uU(1," Name "),l.qZA())}function O9(n,e){if(1&n&&(l.TgZ(0,"td",17),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.xp6(1),l.hij(" ",t.name," ")}}function P9(n,e){1&n&&l._UZ(0,"tr",19)}function N9(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"tr",20),l.NdJ("click",function(){const s=l.CHM(t).$implicit,u=l.oxw();return l.KtG(u.getRow(s))}),l.qZA()}}function F9(n,e){if(1&n&&(l.TgZ(0,"tr",21)(1,"td",22),l._uU(2),l.qZA()()),2&n){l.oxw();const t=l.MAs(9);l.xp6(2),l.hij('No data matching the filter "',t.value,'"')}}const L9=function(){return[5,10,20]};let V9=(()=>{class n{constructor(t,i,r){this.pokemonService=t,this.router=i,this.userService=r,this.user$=this.userService.currentUserProfile$,this.displayedColumns=["position","image","name"],this.data=[],this.dataSource=new cU(this.data)}ngOnInit(){this.getPokemons()}getPokemons(){let t;for(let i=1;i<=300;i++)this.pokemonService.getPokemons(i).subscribe(r=>{t={position:i,image:r.sprites.front_default,name:r.name},this.data.push(t),this.dataSource=new cU(this.data),this.dataSource.paginator=this.paginator},r=>{console.log(r)})}applyFilter(t){this.dataSource.filter=t.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}getRow(t){console.log(t),this.router.navigateByUrl(`/detalles/${t.position}`)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(wU),l.Y36(Un),l.Y36(o0))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-inicio"]],viewQuery:function(t,i){if(1&t&&l.Gf(YB,7),2&t){let r;l.iGM(r=l.CRH())&&(i.paginator=r.first)}},decls:24,vars:5,consts:[["color","black"],["routerLink","/Perfil"],["src","../../../assets/Imagenes/entrenador-pokemon.png","alt","pokedex","width","40","height","40"],[1,"container"],["matInput","",3,"keyup"],["input",""],["mat-table","",3,"dataSource"],["matColumnDef","position"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","image"],["matColumnDef","name"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-header-cell",""],["mat-cell",""],["alt","pokemon","width","100","height","100",3,"src"],["mat-header-row",""],["mat-row","",3,"click"],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,i){1&t&&(l.TgZ(0,"mat-toolbar",0)(1,"mat-toolbar-row")(2,"a",1),l._UZ(3,"img",2),l.qZA()()(),l.TgZ(4,"div",3)(5,"mat-form-field")(6,"mat-label"),l._uU(7,"Filter"),l.qZA(),l.TgZ(8,"input",4,5),l.NdJ("keyup",function(s){return i.applyFilter(s)}),l.qZA()(),l.TgZ(10,"table",6),l.ynx(11,7),l.YNc(12,M9,2,0,"th",8),l.YNc(13,A9,2,1,"td",9),l.BQk(),l.ynx(14,10),l.YNc(15,x9,2,0,"th",8),l.YNc(16,k9,2,1,"td",9),l.BQk(),l.ynx(17,11),l.YNc(18,R9,2,0,"th",8),l.YNc(19,O9,2,1,"td",9),l.BQk(),l.YNc(20,P9,1,0,"tr",12),l.YNc(21,N9,1,0,"tr",13),l.YNc(22,F9,3,1,"tr",14),l.qZA(),l._UZ(23,"mat-paginator",15),l.qZA()),2&t&&(l.xp6(10),l.Q6J("dataSource",i.dataSource),l.xp6(10),l.Q6J("matHeaderRowDef",i.displayedColumns),l.xp6(1),l.Q6J("matRowDefColumns",i.displayedColumns),l.xp6(2),l.Q6J("pageSizeOptions",l.DdM(4,L9)))},dependencies:[td,w9,CU,nU,HO,iU,zO,UO,rU,jO,$O,sU,oU,aU,YB,FB,SO,S9],styles:[".imagen[_ngcontent-%COMP%]{width:350px;height:350px}.container[_ngcontent-%COMP%]{width:100%;margin-top:20px;text-align:center}table[_ngcontent-%COMP%]{min-width:80%;margin:auto;text-align:center}.mat-header-cell[_ngcontent-%COMP%]{color:#000;font-weight:700;text-align:center;font-size:15px}.mat-row[_ngcontent-%COMP%]:nth-child(even){background-color:#719192}.mat-row[_ngcontent-%COMP%]:nth-child(odd){background-color:#5f6769}.mat-row[_ngcontent-%COMP%]:nth-child(odd)   .mat-cell[_ngcontent-%COMP%]{color:#fcfcfc}.mat-cell[_ngcontent-%COMP%]:first-letter{text-transform:uppercase}.mat-row[_ngcontent-%COMP%]:hover{cursor:pointer;box-shadow:inset 0 0 0 5px #ffd924}  .mat-paginator{width:80%;margin:auto}.mat-form-field[_ngcontent-%COMP%]{font-size:13px;width:20%;margin-bottom:5px;padding:10px}  .mat-form-field-label{color:#fcfcfc!important}  .mat-form-field-underline{background-color:#fcfcfc!important}input[_ngcontent-%COMP%]{color:#fcfcfc!important}"]}),n})(),B9=(()=>{class n{constructor(t,i,r,s,u,h,p){this.activatedRouter=t,this.pokemonService=i,this.toast=r,this.fb=s,this.userService=u,this.FireServices=h,this.toastr=p,this.pokemon="",this.pokemonImg="",this.pokemonType=[],this.formulario=new Ko({name:new gs,type:new gs,height:new gs}),this.activatedRouter.params.subscribe(y=>{this.getPokemon(y.id)})}ngOnInit(){}showsucces(){this.toastr.success("Pokemon guardado correctamente","Ahora puedes consultar la lista")}savePokemon(){var t=this;return(0,be.Z)(function*(){console.log(t.formulario.value);const i=yield t.FireServices.addPokemon(t.formulario.value);console.log(i),t.showsucces()})()}getPokemon(t){this.pokemonService.getPokemons(t).subscribe(i=>{console.log(i),this.pokemon=i,this.pokemonImg=this.pokemon.sprites.front_default,this.pokemonType=i.types[0].type.name},i=>{console.log(i)})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(qo),l.Y36(wU),l.Y36(SV),l.Y36(Vv),l.Y36(o0),l.Y36(ET),l.Y36(l0))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-detalles"]],decls:44,vars:8,consts:[[1,"container"],[1,"card"],[1,"card-header"],[1,"header-image",3,"src"],[1,"card-title"],[1,"card-subtitle"],["alt","pokemon",1,"card-image",3,"src"],[1,"card-content"],[1,"chip-list"],[1,"chip"],[1,"card","form-container"],[1,"pokemon-form",3,"formGroup","ngSubmit"],[1,"input-container"],["for","usuario"],["type","text","placeholder","Nombre","formControlName","name","onkeydown","return /[a-z, ]/i.test(event.key)"],["type","text","placeholder","Tipo","formControlName","type","onkeydown","return /[a-z, ]/i.test(event.key)"],["type","text","placeholder","Altura","formControlName","height"],["type","submit"],["routerLink","/lista"],["routerLink","/inicio"],[1,"extra-button"]],template:function(t,i){1&t&&(l.TgZ(0,"html")(1,"head")(2,"title"),l._uU(3,"Pok\xe9mon Cards"),l.qZA()(),l.TgZ(4,"body")(5,"div",0)(6,"div",1)(7,"div",2),l._UZ(8,"img",3),l.TgZ(9,"h2",4),l._uU(10),l.qZA(),l.TgZ(11,"h3",5),l._uU(12),l.qZA()(),l._UZ(13,"img",6),l.TgZ(14,"div",7)(15,"div",8)(16,"div",9),l._uU(17),l.qZA(),l.TgZ(18,"div",9),l._uU(19),l.qZA(),l.TgZ(20,"div",9),l._uU(21),l.qZA()()()(),l.TgZ(22,"div",10)(23,"form",11),l.NdJ("ngSubmit",function(){return i.savePokemon()}),l.TgZ(24,"h2"),l._uU(25,"\xa1Captura Pok\xe9mon!"),l.qZA(),l.TgZ(26,"div",12)(27,"label",13),l._uU(28,"Nombre Pok\xe9mon"),l.qZA(),l._UZ(29,"input",14),l.TgZ(30,"label",13),l._uU(31,"Tipo"),l.qZA(),l._UZ(32,"input",15),l.TgZ(33,"label",13),l._uU(34,"Altura"),l.qZA(),l._UZ(35,"input",16),l.qZA(),l.TgZ(36,"button",17),l._uU(37,"Agregar Pok\xe9mon"),l.qZA(),l.TgZ(38,"a",18)(39,"button",17),l._uU(40,"Ir a la lista"),l.qZA()(),l.TgZ(41,"a",19)(42,"button",20),l._uU(43,"Regresar"),l.qZA()()()()()()()),2&t&&(l.xp6(8),l.s9C("src",i.pokemonImg,l.LSH),l.xp6(2),l.Oqu(i.pokemon.name),l.xp6(2),l.hij("N\xba ",i.pokemon.id,""),l.xp6(1),l.s9C("src",i.pokemonImg,l.LSH),l.xp6(4),l.hij("Type: ",i.pokemonType,""),l.xp6(2),l.hij("Height: ",i.pokemon.height,""),l.xp6(2),l.hij("Weight: ",i.pokemon.weight,""),l.xp6(2),l.Q6J("formGroup",i.formulario))},dependencies:[td,ig,Oa,Gm,qm,Qo,dd],styles:['@charset "UTF-8";body[_ngcontent-%COMP%]{font-family:Arial,sans-serif}.container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.card[_ngcontent-%COMP%]{width:300px;margin:20px;box-shadow:0 2px 4px #0000001a}.card-header[_ngcontent-%COMP%]{padding:10px;background-color:#f2f2f2;text-align:center;position:relative}.header-image[_ngcontent-%COMP%]{position:absolute;top:10px;left:10px;width:50px;height:50px}.card-title[_ngcontent-%COMP%]{margin:10px 0;font-size:24px;font-weight:700}.card-subtitle[_ngcontent-%COMP%]{margin:5px 0;font-size:18px;color:#fc0}.card-image[_ngcontent-%COMP%]{width:100%;height:auto}.card-content[_ngcontent-%COMP%]{padding:10px}.chip-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin-top:10px}.chip[_ngcontent-%COMP%]{display:inline-block;padding:5px;margin-right:5px;margin-bottom:5px;background-color:#fc0;color:#fff;border-radius:4px}.form-container[_ngcontent-%COMP%]{width:300px;margin:20px;box-shadow:0 2px 4px #0000001a}.pokemon-form[_ngcontent-%COMP%]{padding:10px;background-color:#f2f2f2;text-align:center}.input-container[_ngcontent-%COMP%]{margin-bottom:10px}.input-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:700;margin-bottom:5px}.input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:5px;border:1px solid #ccc;border-radius:4px}.pokemon-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:block;width:100%;padding:10px;margin-bottom:10px;background-color:#fc0;color:#fff;border:none;border-radius:4px;font-weight:700;cursor:pointer;transition:transform .3s ease}.pokemon-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:rotate(360deg)}.pokemon-form[_ngcontent-%COMP%]   .extra-button[_ngcontent-%COMP%]{background-color:#fc0;color:#fff;transition:transform .3s ease}.pokemon-form[_ngcontent-%COMP%]   .extra-button[_ngcontent-%COMP%]:hover{transform:rotate(360deg)}']}),n})(),QO=(()=>{class n{constructor(t,i){this.cookieServices=t,this.router=i}redirect(t){t||this.router.navigate(["inicio","/"])}canActivate(t,i){return this.cookieServices.get("token_access"),!0}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(nO),l.LFG(Un))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function U9(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",2)(1,"div",3)(2,"h3",4),l._uU(3),l.qZA(),l.TgZ(4,"p",5),l._uU(5),l.qZA(),l.TgZ(6,"p",5),l._uU(7),l.qZA(),l.TgZ(8,"button",6),l.NdJ("click",function(){const s=l.CHM(t).$implicit,u=l.oxw();return l.KtG(u.onClickDelete(s))}),l._uU(9,"Borrar"),l.qZA()()()}if(2&n){const t=e.$implicit;l.xp6(3),l.Oqu(t.name),l.xp6(2),l.Oqu(t.type),l.xp6(2),l.Oqu(t.height)}}const H9=[{path:"registro",component:E4},{path:"InicioSesion",component:vV},{path:"Perfil",component:c5,canActivate:[QO]},{path:"inicio",component:V9,canActivate:[QO]},{path:"detalles/:id",component:B9,canActivate:[QO]},{path:"lista",component:(()=>{class n{constructor(t){this.FireStore=t}ngOnInit(){this.FireStore.getPokemon().subscribe(t=>{this.Pokemon=t})}onClickDelete(t){var i=this;return(0,be.Z)(function*(){const r=yield i.FireStore.deletePokemon(t);console.log(r)})()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(ET))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-lista"]],decls:2,vars:1,consts:[[1,"pokemon-card-list"],["class","pokemon-card",4,"ngFor","ngForOf"],[1,"pokemon-card"],[1,"pokemon-card-content"],[1,"pokemon-card-title"],[1,"pokemon-card-description"],[1,"btn","btn-outline-danger",3,"click"]],template:function(t,i){1&t&&(l.TgZ(0,"div",0),l.YNc(1,U9,10,3,"div",1),l.qZA()),2&t&&(l.xp6(1),l.Q6J("ngForOf",i.Pokemon))},dependencies:[ri],styles:[".pokemon-card-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.pokemon-card[_ngcontent-%COMP%]{width:300px;background-color:#f5f5f5;border-radius:10px;box-shadow:0 2px 4px #0000001a;overflow:hidden;margin:10px}.pokemon-card-image[_ngcontent-%COMP%]{width:100%;height:auto}.pokemon-card-content[_ngcontent-%COMP%]{padding:20px}.pokemon-card-title[_ngcontent-%COMP%]{font-size:24px;font-weight:700;margin-bottom:10px}.pokemon-card-description[_ngcontent-%COMP%]{font-size:16px;margin-bottom:20px}"]}),n})()},{path:"",component:vV,pathMatch:"full"},{path:"**",redirectTo:"/",pathMatch:"full"}];let z9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[BC.forRoot(H9),BC]}),n})(),j9=(()=>{class n{constructor(){this.title="crud"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,i){1&t&&l._UZ(0,"router-outlet")},dependencies:[zy]}),n})();var $9=P(2138);class XO{constructor(e){return e}}const SU="messaging",JO=new l.OlP("angularfire2.messaging-instances");function W9(n){return(e,t)=>{if(!Pt.n1.sync())return null;const i=e.runOutsideAngular(()=>n(t));return new XO(i)}}const Z9={provide:class G9{constructor(){return(0,Pt.vb)(SU)}},deps:[[new l.FiY,JO]]},Y9={provide:XO,useFactory:function q9(n,e){if(!Pt.n1.sync())return null;const t=(0,Pt.JM)(SU,n,e);return t&&new XO(t)},deps:[[new l.FiY,JO],ea]};let K9=(()=>{class n{constructor(){(0,wo.KN)("angularfire",Pt.q4.full,"fcm")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Y9,Z9,{provide:l.ip1,useValue:Pt.n1.async,multi:!0}]}),n})();function Q9(n,...e){return{ngModule:K9,providers:[{provide:JO,useFactory:W9(n),multi:!0,deps:[l.R0b,l.zs3,Pt.HU,gd,...e]}]}}const X9=(0,Pt.u3)($9.KL,!0),t1="functions";class iZ{constructor(e,t,i){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then(r=>this.auth=r,()=>{}),this.messaging||t.get().then(r=>this.messaging=r,()=>{}),this.appCheck||i.get().then(r=>this.appCheck=r,()=>{})}getAuthToken(){var e=this;return(0,be.Z)(function*(){if(e.auth)try{return(yield e.auth.getToken())?.accessToken}catch{return}})()}getMessagingToken(){var e=this;return(0,be.Z)(function*(){if(e.messaging&&"Notification"in self&&"granted"===Notification.permission)try{return yield e.messaging.getToken()}catch{return}})()}getAppCheckToken(){var e=this;return(0,be.Z)(function*(){if(e.appCheck){const t=yield e.appCheck.getToken();return t.error?null:t.token}return null})()}getContext(){var e=this;return(0,be.Z)(function*(){return{authToken:yield e.getAuthToken(),messagingToken:yield e.getMessagingToken(),appCheckToken:yield e.getAppCheckToken()}})()}}const n1="us-central1";class sZ{constructor(e,t,i,r,s=n1,u){this.app=e,this.fetchImpl=u,this.emulatorOrigin=null,this.contextProvider=new iZ(t,i,r),this.cancelAllRequests=new Promise(h=>{this.deleteService=()=>Promise.resolve(h())});try{const h=new URL(s);this.customDomain=h.origin,this.region=n1}catch{this.customDomain=null,this.region=s}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;return null!==this.emulatorOrigin?`${this.emulatorOrigin}/${t}/${this.region}/${e}`:null!==this.customDomain?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}const kU="@firebase/functions";function mZ(n=(0,ji.getApp)(),e=n1){const i=(0,ji._getProvider)((0,vn.m9)(n),t1).getImmediate({identifier:e}),r=(0,vn.P0)("functions");return r&&function gZ(n,e,t){!function oZ(n,e,t){n.emulatorOrigin=`http://${e}:${t}`}((0,vn.m9)(n),e,t)}(i,...r),i}!function pZ(n,e){(0,ji._registerComponent)(new Nc.wA(t1,(i,{instanceIdentifier:r})=>{const s=i.getProvider("app").getImmediate(),u=i.getProvider("auth-internal"),h=i.getProvider("messaging-internal"),p=i.getProvider("app-check-internal");return new sZ(s,u,h,p,r,n)},"PUBLIC").setMultipleInstances(!0)),(0,ji.registerVersion)(kU,"0.9.4",e),(0,ji.registerVersion)(kU,"0.9.4","esm2017")}(fetch.bind(self));class o1{constructor(e){return e}}const OU="functions",a1=new l.OlP("angularfire2.functions-instances");function vZ(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new o1(i)}}const bZ={provide:class _Z{constructor(){return(0,Pt.vb)(OU)}},deps:[[new l.FiY,a1]]},wZ={provide:o1,useFactory:function yZ(n,e){const t=(0,Pt.JM)(OU,n,e);return t&&new o1(t)},deps:[[new l.FiY,a1],ea]};let CZ=(()=>{class n{constructor(){(0,wo.KN)("angularfire",Pt.q4.full,"fn")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[wZ,bZ]}),n})();function EZ(n,...e){return{ngModule:CZ,providers:[{provide:a1,useFactory:vZ(n),multi:!0,deps:[l.R0b,l.zs3,Pt.HU,gd,[new l.FiY,mi],[new l.FiY,Dl],...e]}]}}const DZ=(0,Pt.u3)(mZ,!0);function PU(n){return new l.vHH(3e3,!1)}function s7(){return typeof window<"u"&&typeof window.document<"u"}function l1(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function nh(n){switch(n.length){case 0:return new a0;case 1:return n[0];default:return new fV(n)}}function NU(n,e,t,i,r=new Map,s=new Map){const u=[],h=[];let p=-1,y=null;if(i.forEach(E=>{const I=E.get("offset"),O=I==p,B=O&&y||new Map;E.forEach(($,ne)=>{let te=ne,Ve=$;if("offset"!==ne)switch(te=e.normalizePropertyName(te,u),Ve){case"!":Ve=r.get(ne);break;case su:Ve=s.get(ne);break;default:Ve=e.normalizeStyleValue(ne,te,Ve,u)}B.set(te,Ve)}),O||h.push(B),y=B,p=I}),u.length)throw function WZ(n){return new l.vHH(3502,!1)}();return h}function c1(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&u1(t,"start",n)));break;case"done":n.onDone(()=>i(t&&u1(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&u1(t,"destroy",n)))}}function u1(n,e,t){const s=d1(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),u=n._data;return null!=u&&(s._data=u),s}function d1(n,e,t,i,r="",s=0,u){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:s,disabled:!!u}}function Io(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function FU(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let h1=(n,e)=>!1,LU=(n,e,t)=>[],VU=null;function f1(n){const e=n.parentNode||n.host;return e===VU?null:e}(l1()||typeof Element<"u")&&(s7()?(VU=(()=>document.documentElement)(),h1=(n,e)=>{for(;e;){if(e===n)return!0;e=f1(e)}return!1}):h1=(n,e)=>n.contains(e),LU=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let Np=null,BU=!1;const UU=h1,HU=LU;let zU=(()=>{class n{validateStyleProperty(t){return function a7(n){Np||(Np=function l7(){return typeof document<"u"?document.body:null}()||{},BU=!!Np.style&&"WebkitAppearance"in Np.style);let e=!0;return Np.style&&!function o7(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Np.style,!e&&BU&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Np.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return UU(t,i)}getParentElement(t){return f1(t)}query(t,i,r){return HU(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,s,u,h=[],p){return new a0(r,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),p1=(()=>{class n{}return n.NOOP=new zU,n})();const m1="ng-enter",eS="ng-leave",tS="ng-trigger",nS=".ng-trigger",$U="ng-animating",g1=".ng-animating";function uu(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:_1(parseFloat(e[1]),e[2])}function _1(n,e){return"s"===e?1e3*n:n}function iS(n,e,t){return n.hasOwnProperty("duration")?n:function d7(n,e,t){let r,s=0,u="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return e.push(PU()),{duration:0,delay:0,easing:""};r=_1(parseFloat(h[1]),h[2]);const p=h[3];null!=p&&(s=_1(parseFloat(p),h[4]));const y=h[5];y&&(u=y)}else r=n;if(!t){let h=!1,p=e.length;r<0&&(e.push(function IZ(){return new l.vHH(3100,!1)}()),h=!0),s<0&&(e.push(function TZ(){return new l.vHH(3101,!1)}()),h=!0),h&&e.splice(p,0,PU())}return{duration:r,delay:s,easing:u}}(n,e,t)}function C0(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function GU(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function ih(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function WU(n,e,t){return t?e+":"+t+";":""}function ZU(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=WU(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=WU(0,m7(t),n.style[t]));n.setAttribute("style",e)}function zl(n,e,t){n.style&&(e.forEach((i,r)=>{const s=v1(r);t&&!t.has(r)&&t.set(r,n.style[s]),n.style[s]=i}),l1()&&ZU(n))}function Fp(n,e){n.style&&(e.forEach((t,i)=>{const r=v1(i);n.style[r]=""}),l1()&&ZU(n))}function E0(n){return Array.isArray(n)?1==n.length?n[0]:dV(n):n}const y1=new RegExp("{{\\s*(.+?)\\s*}}","g");function YU(n){let e=[];if("string"==typeof n){let t;for(;t=y1.exec(n);)e.push(t[1]);y1.lastIndex=0}return e}function D0(n,e,t){const i=n.toString(),r=i.replace(y1,(s,u)=>{let h=e[u];return null==h&&(t.push(function MZ(n){return new l.vHH(3003,!1)}()),h=""),h.toString()});return r==i?n:r}function rS(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const p7=/-+([a-z0-9])/g;function v1(n){return n.replace(p7,(...e)=>e[1].toUpperCase())}function m7(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function To(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function AZ(n){return new l.vHH(3004,!1)}()}}function KU(n,e){return window.getComputedStyle(n)[e]}function w7(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function C7(n,e,t){if(":"==n[0]){const p=function E7(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function jZ(n){return new l.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof p)return void e.push(p);n=p}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function zZ(n){return new l.vHH(3015,!1)}()),e;const r=i[1],s=i[2],u=i[3];e.push(QU(r,u));"<"==s[0]&&!("*"==r&&"*"==u)&&e.push(QU(u,r))}(i,t,e)):t.push(n),t}const lS=new Set(["true","1"]),cS=new Set(["false","0"]);function QU(n,e){const t=lS.has(n)||cS.has(n),i=lS.has(e)||cS.has(e);return(r,s)=>{let u="*"==n||n==r,h="*"==e||e==s;return!u&&t&&"boolean"==typeof r&&(u=r?lS.has(n):cS.has(n)),!h&&i&&"boolean"==typeof s&&(h=s?lS.has(e):cS.has(e)),u&&h}}const D7=new RegExp("s*:selfs*,?","g");function b1(n,e,t,i){return new I7(n).build(e,t,i)}class I7{constructor(e){this._driver=e}build(e,t,i){const r=new M7(t);return this._resetContextStyleTimingState(r),To(this,E0(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const s=[],u=[];return"@"==e.name.charAt(0)&&t.errors.push(function kZ(){return new l.vHH(3006,!1)}()),e.definitions.forEach(h=>{if(this._resetContextStyleTimingState(t),0==h.type){const p=h,y=p.name;y.toString().split(/\s*,\s*/).forEach(E=>{p.name=E,s.push(this.visitState(p,t))}),p.name=y}else if(1==h.type){const p=this.visitTransition(h,t);i+=p.queryCount,r+=p.depCount,u.push(p)}else t.errors.push(function RZ(){return new l.vHH(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:u,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const s=new Set,u=r||{};i.styles.forEach(h=>{h instanceof Map&&h.forEach(p=>{YU(p).forEach(y=>{u.hasOwnProperty(y)||s.add(y)})})}),s.size&&(rS(s.values()),t.errors.push(function OZ(n,e){return new l.vHH(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=To(this,E0(e.animation),t);return{type:1,matchers:w7(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:Lp(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>To(this,i,t)),options:Lp(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const s=e.steps.map(u=>{t.currentTime=i;const h=To(this,u,t);return r=Math.max(r,t.currentTime),h});return t.currentTime=r,{type:3,steps:s,options:Lp(e.options)}}visitAnimate(e,t){const i=function x7(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return w1(iS(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=w1(0,0,"");return s.dynamic=!0,s.strValue=t,s}const r=iS(t,e);return w1(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,s=e.styles?e.styles:fr({});if(5==s.type)r=this.visitKeyframes(s,t);else{let u=e.styles,h=!1;if(!u){h=!0;const y={};i.easing&&(y.easing=i.easing),u=fr(y)}t.currentTime+=i.duration+i.delay;const p=this.visitStyle(u,t);p.isEmptyStep=h,r=p}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let h of r)"string"==typeof h?h===su?i.push(h):t.errors.push(new l.vHH(3002,!1)):i.push(GU(h));let s=!1,u=null;return i.forEach(h=>{if(h instanceof Map&&(h.has("easing")&&(u=h.get("easing"),h.delete("easing")),!s))for(let p of h.values())if(p.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:i,easing:u,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,s=t.currentTime;i&&s>0&&(s-=i.duration+i.delay),e.styles.forEach(u=>{"string"!=typeof u&&u.forEach((h,p)=>{const y=t.collectedStyles.get(t.currentQuerySelector),E=y.get(p);let I=!0;E&&(s!=r&&s>=E.startTime&&r<=E.endTime&&(t.errors.push(function NZ(n,e,t,i,r){return new l.vHH(3010,!1)}()),I=!1),s=E.startTime),I&&y.set(p,{startTime:s,endTime:r}),t.options&&function f7(n,e,t){const i=e.params||{},r=YU(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||t.push(function SZ(n){return new l.vHH(3001,!1)}())})}(h,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function FZ(){return new l.vHH(3011,!1)}()),i;let s=0;const u=[];let h=!1,p=!1,y=0;const E=e.steps.map(Ve=>{const ot=this._makeStyleAst(Ve,t);let nt=null!=ot.offset?ot.offset:function A7(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(ot.styles),at=0;return null!=nt&&(s++,at=ot.offset=nt),p=p||at<0||at>1,h=h||at<y,y=at,u.push(at),ot});p&&t.errors.push(function LZ(){return new l.vHH(3012,!1)}()),h&&t.errors.push(function VZ(){return new l.vHH(3200,!1)}());const I=e.steps.length;let O=0;s>0&&s<I?t.errors.push(function BZ(){return new l.vHH(3202,!1)}()):0==s&&(O=1/(I-1));const B=I-1,$=t.currentTime,ne=t.currentAnimateTimings,te=ne.duration;return E.forEach((Ve,ot)=>{const nt=O>0?ot==B?1:O*ot:u[ot],at=nt*te;t.currentTime=$+ne.delay+at,ne.duration=at,this._validateStyleAst(Ve,t),Ve.offset=nt,i.styles.push(Ve)}),i}visitReference(e,t){return{type:8,animation:To(this,E0(e.animation),t),options:Lp(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Lp(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Lp(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[s,u]=function T7(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(D7,"")),n=n.replace(/@\*/g,nS).replace(/@\w+/g,t=>nS+"-"+t.slice(1)).replace(/:animating/g,g1),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+s:s,Io(t.collectedStyles,t.currentQuerySelector,new Map);const h=To(this,E0(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:u,animation:h,originalSelector:e.selector,options:Lp(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function UZ(){return new l.vHH(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:iS(e.timings,t.errors,!0);return{type:12,animation:To(this,E0(e.animation),t),timings:i,options:null}}}class M7{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Lp(n){return n?(n=C0(n)).params&&(n.params=function S7(n){return n?C0(n):null}(n.params)):n={},n}function w1(n,e,t){return{duration:n,delay:e,easing:t}}function C1(n,e,t,i,r,s,u=null,h=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:u,subTimeline:h}}class uS{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const O7=new RegExp(":enter","g"),N7=new RegExp(":leave","g");function E1(n,e,t,i,r,s=new Map,u=new Map,h,p,y=[]){return(new F7).buildKeyframes(n,e,t,i,r,s,u,h,p,y)}class F7{buildKeyframes(e,t,i,r,s,u,h,p,y,E=[]){y=y||new uS;const I=new D1(e,t,y,r,s,E,[]);I.options=p;const O=p.delay?uu(p.delay):0;I.currentTimeline.delayNextStep(O),I.currentTimeline.setStyles([u],null,I.errors,p),To(this,i,I);const B=I.timelines.filter($=>$.containsAnimation());if(B.length&&h.size){let $;for(let ne=B.length-1;ne>=0;ne--){const te=B[ne];if(te.element===t){$=te;break}}$&&!$.allowOnlyTimelineStyles()&&$.setStyles([h],null,I.errors,p)}return B.length?B.map($=>$.buildKeyframes()):[C1(t,[],[],[],0,O,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),s=t.currentTimeline.currentTime,u=this._visitSubInstructions(i,r,r.options);s!=u&&t.transformIntoNewTimeline(u)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const s=r?.delay;if(s){const u="number"==typeof s?s:uu(D0(s,r?.params??{},t.errors));i.delayNextStep(u)}}}_visitSubInstructions(e,t,i){let s=t.currentTimeline.currentTime;const u=null!=i.duration?uu(i.duration):null,h=null!=i.delay?uu(i.delay):null;return 0!==u&&e.forEach(p=>{const y=t.appendInstructionToTimeline(p,u,h);s=Math.max(s,y.duration+y.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),To(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const s=e.options;if(s&&(s.params||s.delay)&&(r=t.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=dS);const u=uu(s.delay);r.delayNextStep(u)}e.steps.length&&(e.steps.forEach(u=>To(this,u,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?uu(e.options.delay):0;e.steps.forEach(u=>{const h=t.createSubContext(e.options);s&&h.delayNextStep(s),To(this,u,h),r=Math.max(r,h.currentTimeline.currentTime),i.push(h.currentTimeline)}),i.forEach(u=>t.currentTimeline.mergeTimelineCollectedStyles(u)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return iS(t.params?D0(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(i.duration),this.visitStyle(s,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(s):i.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,s=i.duration,h=t.createSubContext().currentTimeline;h.easing=i.easing,e.styles.forEach(p=>{h.forwardTime((p.offset||0)*s),h.setStyles(p.styles,p.easing,t.errors,t.options),h.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(h),t.transformIntoNewTimeline(r+s),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},s=r.delay?uu(r.delay):0;s&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=dS);let u=i;const h=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=h.length;let p=null;h.forEach((y,E)=>{t.currentQueryIndex=E;const I=t.createSubContext(e.options,y);s&&I.delayNextStep(s),y===t.element&&(p=I.currentTimeline),To(this,e.animation,I),I.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,I.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(u),p&&(t.currentTimeline.mergeTimelineCollectedStyles(p),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,s=e.timings,u=Math.abs(s.duration),h=u*(t.currentQueryTotal-1);let p=u*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":p=h-p;break;case"full":p=i.currentStaggerTime}const E=t.currentTimeline;p&&E.delayNextStep(p);const I=E.currentTime;To(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-I+(r.startTime-i.currentTimeline.startTime)}}const dS={};class D1{constructor(e,t,i,r,s,u,h,p){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=u,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=dS,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=p||new hS(this._driver,t,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=uu(i.duration)),null!=i.delay&&(r.delay=uu(i.delay));const s=i.params;if(s){let u=r.params;u||(u=this.options.params={}),Object.keys(s).forEach(h=>{(!t||!u.hasOwnProperty(h))&&(u[h]=D0(s[h],u,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,s=new D1(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=dS,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},s=new L7(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,s,u){let h=[];if(r&&h.push(this.element),e.length>0){e=(e=e.replace(O7,"."+this._enterClassName)).replace(N7,"."+this._leaveClassName);let y=this._driver.query(this.element,e,1!=i);0!==i&&(y=i<0?y.slice(y.length+i,y.length):y.slice(0,i)),h.push(...y)}return!s&&0==h.length&&u.push(function HZ(n){return new l.vHH(3014,!1)}()),h}}class hS{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new hS(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||su),this._currentKeyframe.set(t,su);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const s=r&&r.params||{},u=function V7(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let s of i)t.set(s,su)}else ih(r,t)}),t}(e,this._globalTimelineStyles);for(let[h,p]of u){const y=D0(p,s,i);this._pendingStyles.set(h,y),this._localTimelineStyles.has(h)||this._backFill.set(h,this._globalTimelineStyles.get(h)??su),this._updateStyle(h,y)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((h,p)=>{const y=ih(h,new Map,this._backFill);y.forEach((E,I)=>{"!"===E?e.add(I):E===su&&t.add(I)}),i||y.set("offset",p/this.duration),r.push(y)});const s=e.size?rS(e.values()):[],u=t.size?rS(t.values()):[];if(i){const h=r[0],p=new Map(h);h.set("offset",0),p.set("offset",1),r=[h,p]}return C1(this.element,r,s,u,this.duration,this.startTime,this.easing,!1)}}class L7 extends hS{constructor(e,t,i,r,s,u,h=!1){super(e,t,u.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=h,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],u=i+t,h=t/u,p=ih(e[0]);p.set("offset",0),s.push(p);const y=ih(e[0]);y.set("offset",eH(h)),s.push(y);const E=e.length-1;for(let I=1;I<=E;I++){let O=ih(e[I]);const B=O.get("offset");O.set("offset",eH((t+B*i)/u)),s.push(O)}i=u,t=0,r="",e=s}return C1(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function eH(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class I1{}const B7=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class U7 extends I1{normalizePropertyName(e,t){return v1(e)}normalizeStyleValue(e,t,i,r){let s="";const u=i.toString().trim();if(B7.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const h=i.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&r.push(function xZ(n,e){return new l.vHH(3005,!1)}())}return u+s}}function tH(n,e,t,i,r,s,u,h,p,y,E,I,O){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:s,toState:i,toStyles:u,timelines:h,queriedElements:p,preStyleProps:y,postStyleProps:E,totalTime:I,errors:O}}const T1={};class nH{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function H7(n,e,t,i,r){return n.some(s=>s(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,s,u,h,p,y,E){const I=[],O=this.ast.options&&this.ast.options.params||T1,$=this.buildStyles(i,h&&h.params||T1,I),ne=p&&p.params||T1,te=this.buildStyles(r,ne,I),Ve=new Set,ot=new Map,nt=new Map,at="void"===r,en={params:z7(ne,O),delay:this.ast.options?.delay},tn=E?[]:E1(e,t,this.ast.animation,s,u,$,te,en,y,I);let Nn=0;if(tn.forEach(ws=>{Nn=Math.max(ws.duration+ws.delay,Nn)}),I.length)return tH(t,this._triggerName,i,r,at,$,te,[],[],ot,nt,Nn,I);tn.forEach(ws=>{const du=ws.element,RH=Io(ot,du,new Set);ws.preStyleProps.forEach(Up=>RH.add(Up));const S0=Io(nt,du,new Set);ws.postStyleProps.forEach(Up=>S0.add(Up)),du!==t&&Ve.add(du)});const sr=rS(Ve.values());return tH(t,this._triggerName,i,r,at,$,te,tn,sr,ot,nt,Nn)}}function z7(n,e){const t=C0(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class j7{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=C0(this.defaultParams);return Object.keys(e).forEach(s=>{const u=e[s];null!==u&&(r[s]=u)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((u,h)=>{u&&(u=D0(u,r,t));const p=this.normalizer.normalizePropertyName(h,t);u=this.normalizer.normalizeStyleValue(h,p,u,t),i.set(p,u)})}),i}}class G7{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new j7(r.style,r.options&&r.options.params||{},i))}),iH(this.states,"true","1"),iH(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new nH(e,r,this.states))}),this.fallbackTransition=function q7(n,e,t){return new nH(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,h)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(u=>u.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function iH(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const W7=new uS;class Z7{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],s=b1(this._driver,t,i,[]);if(i.length)throw function ZZ(n){return new l.vHH(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,i){const r=e.element,s=NU(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],s=this._animations.get(e);let u;const h=new Map;if(s?(u=E1(this._driver,t,s,m1,eS,new Map,new Map,i,W7,r),u.forEach(E=>{const I=Io(h,E.element,new Map);E.postStyleProps.forEach(O=>I.set(O,null))})):(r.push(function YZ(){return new l.vHH(3300,!1)}()),u=[]),r.length)throw function KZ(n){return new l.vHH(3504,!1)}();h.forEach((E,I)=>{E.forEach((O,B)=>{E.set(B,this._driver.computeStyle(I,B,su))})});const y=nh(u.map(E=>{const I=h.get(E.element);return this._buildPlayer(E,new Map,I)}));return this._playersById.set(e,y),y.onDestroy(()=>this.destroy(e)),this.players.push(y),y}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function QZ(n){return new l.vHH(3301,!1)}();return t}listen(e,t,i,r){const s=d1(t,"","","");return c1(this._getPlayer(e),i,s,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const s=this._getPlayer(e);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const rH="ng-animate-queued",S1="ng-animate-disabled",J7=[],sH={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},eY={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ua="__ng_removed";class M1{constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function rY(n){return n??null}(i?e.value:e),i){const s=C0(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const I0="void",A1=new M1(I0);class tY{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,da(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function XZ(n,e){return new l.vHH(3302,!1)}();if(null==i||0==i.length)throw function JZ(n){return new l.vHH(3303,!1)}();if(!function sY(n){return"start"==n||"done"==n}(i))throw function e7(n,e){return new l.vHH(3400,!1)}();const s=Io(this._elementListeners,e,[]),u={name:t,phase:i,callback:r};s.push(u);const h=Io(this._engine.statesByElement,e,new Map);return h.has(t)||(da(e,tS),da(e,tS+"-"+t),h.set(t,A1)),()=>{this._engine.afterFlush(()=>{const p=s.indexOf(u);p>=0&&s.splice(p,1),this._triggers.has(t)||h.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function t7(n){return new l.vHH(3401,!1)}();return t}trigger(e,t,i,r=!0){const s=this._getTrigger(t),u=new x1(this.id,t,e);let h=this._engine.statesByElement.get(e);h||(da(e,tS),da(e,tS+"-"+t),this._engine.statesByElement.set(e,h=new Map));let p=h.get(t);const y=new M1(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&p&&y.absorbOptions(p.options),h.set(t,y),p||(p=A1),y.value!==I0&&p.value===y.value){if(!function lY(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const s=t[r];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(p.params,y.params)){const ne=[],te=s.matchStyles(p.value,p.params,ne),Ve=s.matchStyles(y.value,y.params,ne);ne.length?this._engine.reportError(ne):this._engine.afterFlush(()=>{Fp(e,te),zl(e,Ve)})}return}const O=Io(this._engine.playersByElement,e,[]);O.forEach(ne=>{ne.namespaceId==this.id&&ne.triggerName==t&&ne.queued&&ne.destroy()});let B=s.matchTransition(p.value,y.value,e,y.params),$=!1;if(!B){if(!r)return;B=s.fallbackTransition,$=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:B,fromState:p,toState:y,player:u,isFallbackTransition:$}),$||(da(e,rH),u.onStart(()=>{ry(e,rH)})),u.onDone(()=>{let ne=this.players.indexOf(u);ne>=0&&this.players.splice(ne,1);const te=this._engine.playersByElement.get(e);if(te){let Ve=te.indexOf(u);Ve>=0&&te.splice(Ve,1)}}),this.players.push(u),O.push(u),u}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,nS,!0);i.forEach(r=>{if(r[ua])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(u=>u.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const s=this._engine.statesByElement.get(e),u=new Map;if(s){const h=[];if(s.forEach((p,y)=>{if(u.set(y,p.value),this._triggers.has(y)){const E=this.trigger(e,y,I0,r);E&&h.push(E)}}),h.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,u),i&&nh(h).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(s=>{const u=s.name;if(r.has(u))return;r.add(u);const p=this._triggers.get(u).fallbackTransition,y=i.get(u)||A1,E=new M1(I0),I=new x1(this.id,u,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:u,transition:p,fromState:y,toState:E,player:I,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(e):[];if(s&&s.length)r=!0;else{let u=e;for(;u=u.parentNode;)if(i.statesByElement.get(u)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const s=e[ua];(!s||s===sH)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){da(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,u=this._elementListeners.get(s);u&&u.forEach(h=>{if(h.name==i.triggerName){const p=d1(s,i.triggerName,i.fromState.value,i.toState.value);p._data=e,c1(i.player,h.phase,p,h.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const s=i.transition.ast.depCount,u=r.transition.ast.depCount;return 0==s||0==u?s-u:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class nY{constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new tY(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let u=!1,h=this.driver.getParentElement(t);for(;h;){const p=r.get(h);if(p){const y=i.indexOf(p);i.splice(y+1,0,e),u=!0;break}h=this.driver.getParentElement(h)}u||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&t.add(s)}return t}trigger(e,t,i,r){if(fS(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!fS(t))return;const s=t[ua];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const u=this.collectedLeaveElements.indexOf(t);u>=0&&this.collectedLeaveElements.splice(u,1)}if(e){const u=this._fetchNamespace(e);u&&u.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),da(e,S1)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),ry(e,S1))}removeNode(e,t,i,r){if(fS(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const u=this.namespacesByHostElement.get(t);u&&u.id!==e&&u.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,s){this.collectedLeaveElements.push(t),t[ua]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,i,r,s){return fS(t)?this._fetchNamespace(e).listen(t,i,r,s):()=>{}}_buildInstruction(e,t,i,r,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,nS,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,g1,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return nh(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[ua];if(t&&t.setForRemoval){if(e[ua]=sH,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(S1)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)da(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?nh(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function n7(n){return new l.vHH(3402,!1)}()}_flushAnimations(e,t){const i=new uS,r=[],s=new Map,u=[],h=new Map,p=new Map,y=new Map,E=new Set;this.disabledNodes.forEach(Bt=>{E.add(Bt);const nn=this.driver.query(Bt,".ng-animate-queued",!0);for(let hn=0;hn<nn.length;hn++)E.add(nn[hn])});const I=this.bodyNode,O=Array.from(this.statesByElement.keys()),B=lH(O,this.collectedEnterElements),$=new Map;let ne=0;B.forEach((Bt,nn)=>{const hn=m1+ne++;$.set(nn,hn),Bt.forEach(Gn=>da(Gn,hn))});const te=[],Ve=new Set,ot=new Set;for(let Bt=0;Bt<this.collectedLeaveElements.length;Bt++){const nn=this.collectedLeaveElements[Bt],hn=nn[ua];hn&&hn.setForRemoval&&(te.push(nn),Ve.add(nn),hn.hasAnimation?this.driver.query(nn,".ng-star-inserted",!0).forEach(Gn=>Ve.add(Gn)):ot.add(nn))}const nt=new Map,at=lH(O,Array.from(Ve));at.forEach((Bt,nn)=>{const hn=eS+ne++;nt.set(nn,hn),Bt.forEach(Gn=>da(Gn,hn))}),e.push(()=>{B.forEach((Bt,nn)=>{const hn=$.get(nn);Bt.forEach(Gn=>ry(Gn,hn))}),at.forEach((Bt,nn)=>{const hn=nt.get(nn);Bt.forEach(Gn=>ry(Gn,hn))}),te.forEach(Bt=>{this.processLeaveNode(Bt)})});const en=[],tn=[];for(let Bt=this._namespaceList.length-1;Bt>=0;Bt--)this._namespaceList[Bt].drainQueuedTransitions(t).forEach(hn=>{const Gn=hn.player,Kr=hn.element;if(en.push(Gn),this.collectedEnterElements.length){const Cs=Kr[ua];if(Cs&&Cs.setForMove){if(Cs.previousTriggersValues&&Cs.previousTriggersValues.has(hn.triggerName)){const Hp=Cs.previousTriggersValues.get(hn.triggerName),ha=this.statesByElement.get(hn.element);if(ha&&ha.has(hn.triggerName)){const yS=ha.get(hn.triggerName);yS.value=Hp,ha.set(hn.triggerName,yS)}}return void Gn.destroy()}}const jl=!I||!this.driver.containsElement(I,Kr),So=nt.get(Kr),rh=$.get(Kr),or=this._buildInstruction(hn,i,rh,So,jl);if(or.errors&&or.errors.length)return void tn.push(or);if(jl)return Gn.onStart(()=>Fp(Kr,or.fromStyles)),Gn.onDestroy(()=>zl(Kr,or.toStyles)),void r.push(Gn);if(hn.isFallbackTransition)return Gn.onStart(()=>Fp(Kr,or.fromStyles)),Gn.onDestroy(()=>zl(Kr,or.toStyles)),void r.push(Gn);const NH=[];or.timelines.forEach(Cs=>{Cs.stretchStartingKeyframe=!0,this.disabledNodes.has(Cs.element)||NH.push(Cs)}),or.timelines=NH,i.append(Kr,or.timelines),u.push({instruction:or,player:Gn,element:Kr}),or.queriedElements.forEach(Cs=>Io(h,Cs,[]).push(Gn)),or.preStyleProps.forEach((Cs,Hp)=>{if(Cs.size){let ha=p.get(Hp);ha||p.set(Hp,ha=new Set),Cs.forEach((yS,N1)=>ha.add(N1))}}),or.postStyleProps.forEach((Cs,Hp)=>{let ha=y.get(Hp);ha||y.set(Hp,ha=new Set),Cs.forEach((yS,N1)=>ha.add(N1))})});if(tn.length){const Bt=[];tn.forEach(nn=>{Bt.push(function i7(n,e){return new l.vHH(3505,!1)}())}),en.forEach(nn=>nn.destroy()),this.reportError(Bt)}const Nn=new Map,sr=new Map;u.forEach(Bt=>{const nn=Bt.element;i.has(nn)&&(sr.set(nn,nn),this._beforeAnimationBuild(Bt.player.namespaceId,Bt.instruction,Nn))}),r.forEach(Bt=>{const nn=Bt.element;this._getPreviousPlayers(nn,!1,Bt.namespaceId,Bt.triggerName,null).forEach(Gn=>{Io(Nn,nn,[]).push(Gn),Gn.destroy()})});const ws=te.filter(Bt=>uH(Bt,p,y)),du=new Map;aH(du,this.driver,ot,y,su).forEach(Bt=>{uH(Bt,p,y)&&ws.push(Bt)});const S0=new Map;B.forEach((Bt,nn)=>{aH(S0,this.driver,new Set(Bt),p,"!")}),ws.forEach(Bt=>{const nn=du.get(Bt),hn=S0.get(Bt);du.set(Bt,new Map([...Array.from(nn?.entries()??[]),...Array.from(hn?.entries()??[])]))});const Up=[],OH=[],PH={};u.forEach(Bt=>{const{element:nn,player:hn,instruction:Gn}=Bt;if(i.has(nn)){if(E.has(nn))return hn.onDestroy(()=>zl(nn,Gn.toStyles)),hn.disabled=!0,hn.overrideTotalTime(Gn.totalTime),void r.push(hn);let Kr=PH;if(sr.size>1){let So=nn;const rh=[];for(;So=So.parentNode;){const or=sr.get(So);if(or){Kr=or;break}rh.push(So)}rh.forEach(or=>sr.set(or,Kr))}const jl=this._buildAnimation(hn.namespaceId,Gn,Nn,s,S0,du);if(hn.setRealPlayer(jl),Kr===PH)Up.push(hn);else{const So=this.playersByElement.get(Kr);So&&So.length&&(hn.parentPlayer=nh(So)),r.push(hn)}}else Fp(nn,Gn.fromStyles),hn.onDestroy(()=>zl(nn,Gn.toStyles)),OH.push(hn),E.has(nn)&&r.push(hn)}),OH.forEach(Bt=>{const nn=s.get(Bt.element);if(nn&&nn.length){const hn=nh(nn);Bt.setRealPlayer(hn)}}),r.forEach(Bt=>{Bt.parentPlayer?Bt.syncPlayerEvents(Bt.parentPlayer):Bt.destroy()});for(let Bt=0;Bt<te.length;Bt++){const nn=te[Bt],hn=nn[ua];if(ry(nn,eS),hn&&hn.hasAnimation)continue;let Gn=[];if(h.size){let jl=h.get(nn);jl&&jl.length&&Gn.push(...jl);let So=this.driver.query(nn,g1,!0);for(let rh=0;rh<So.length;rh++){let or=h.get(So[rh]);or&&or.length&&Gn.push(...or)}}const Kr=Gn.filter(jl=>!jl.destroyed);Kr.length?oY(this,nn,Kr):this.processLeaveNode(nn)}return te.length=0,Up.forEach(Bt=>{this.players.push(Bt),Bt.onDone(()=>{Bt.destroy();const nn=this.players.indexOf(Bt);this.players.splice(nn,1)}),Bt.play()}),Up}elementContainsData(e,t){let i=!1;const r=t[ua];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,s){let u=[];if(t){const h=this.playersByQueriedElement.get(e);h&&(u=h)}else{const h=this.playersByElement.get(e);if(h){const p=!s||s==I0;h.forEach(y=>{y.queued||!p&&y.triggerName!=r||u.push(y)})}}return(i||r)&&(u=u.filter(h=>!(i&&i!=h.namespaceId||r&&r!=h.triggerName))),u}_beforeAnimationBuild(e,t,i){const s=t.element,u=t.isRemovalTransition?void 0:e,h=t.isRemovalTransition?void 0:t.triggerName;for(const p of t.timelines){const y=p.element,E=y!==s,I=Io(i,y,[]);this._getPreviousPlayers(y,E,u,h,t.toState).forEach(B=>{const $=B.getRealPlayer();$.beforeDestroy&&$.beforeDestroy(),B.destroy(),I.push(B)})}Fp(s,t.fromStyles)}_buildAnimation(e,t,i,r,s,u){const h=t.triggerName,p=t.element,y=[],E=new Set,I=new Set,O=t.timelines.map($=>{const ne=$.element;E.add(ne);const te=ne[ua];if(te&&te.removedBeforeQueried)return new a0($.duration,$.delay);const Ve=ne!==p,ot=function aY(n){const e=[];return cH(n,e),e}((i.get(ne)||J7).map(Nn=>Nn.getRealPlayer())).filter(Nn=>!!Nn.element&&Nn.element===ne),nt=s.get(ne),at=u.get(ne),en=NU(0,this._normalizer,0,$.keyframes,nt,at),tn=this._buildPlayer($,en,ot);if($.subTimeline&&r&&I.add(ne),Ve){const Nn=new x1(e,h,ne);Nn.setRealPlayer(tn),y.push(Nn)}return tn});y.forEach($=>{Io(this.playersByQueriedElement,$.element,[]).push($),$.onDone(()=>function iY(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,$.element,$))}),E.forEach($=>da($,$U));const B=nh(O);return B.onDestroy(()=>{E.forEach($=>ry($,$U)),zl(p,t.toStyles)}),I.forEach($=>{Io(r,$,[]).push(B)}),B}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new a0(e.duration,e.delay)}}class x1{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new a0,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>c1(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Io(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function fS(n){return n&&1===n.nodeType}function oH(n,e){const t=n.style.display;return n.style.display=e??"none",t}function aH(n,e,t,i,r){const s=[];t.forEach(p=>s.push(oH(p)));const u=[];i.forEach((p,y)=>{const E=new Map;p.forEach(I=>{const O=e.computeStyle(y,I,r);E.set(I,O),(!O||0==O.length)&&(y[ua]=eY,u.push(y))}),n.set(y,E)});let h=0;return t.forEach(p=>oH(p,s[h++])),u}function lH(n,e){const t=new Map;if(n.forEach(h=>t.set(h,[])),0==e.length)return t;const r=new Set(e),s=new Map;function u(h){if(!h)return 1;let p=s.get(h);if(p)return p;const y=h.parentNode;return p=t.has(y)?y:r.has(y)?1:u(y),s.set(h,p),p}return e.forEach(h=>{const p=u(h);1!==p&&t.get(p).push(h)}),t}function da(n,e){n.classList?.add(e)}function ry(n,e){n.classList?.remove(e)}function oY(n,e,t){nh(t).onDone(()=>n.processLeaveNode(e))}function cH(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof fV?cH(i.players,e):e.push(i)}}function uH(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(s=>r.add(s)):e.set(n,i),t.delete(n),!0}class pS{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new nY(e,t,i),this._timelineEngine=new Z7(e,t,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(e,t,i,r,s){const u=e+"-"+r;let h=this._triggerCache[u];if(!h){const p=[],E=b1(this._driver,s,p,[]);if(p.length)throw function qZ(n,e){return new l.vHH(3404,!1)}();h=function $7(n,e,t){return new G7(n,e,t)}(r,E,this._normalizer),this._triggerCache[u]=h}this._transitionEngine.registerTrigger(t,r,h)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[s,u]=FU(i);this._timelineEngine.command(s,t,u,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,s){if("@"==i.charAt(0)){const[u,h]=FU(i);return this._timelineEngine.listen(u,t,h,s)}return this._transitionEngine.listen(e,t,i,r,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let uY=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&zl(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(zl(this._element,this._initialStyles),this._endStyles&&(zl(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Fp(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Fp(this._element,this._endStyles),this._endStyles=null),zl(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function k1(n){let e=null;return n.forEach((t,i)=>{(function dY(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class dH{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:KU(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class hY{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return UU(e,t)}getParentElement(e){return f1(e)}query(e,t,i){return HU(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,s,u=[]){const p={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(p.easing=s);const y=new Map,E=u.filter(B=>B instanceof dH);(function g7(n,e){return 0===n||0===e})(i,r)&&E.forEach(B=>{B.currentSnapshot.forEach(($,ne)=>y.set(ne,$))});let I=function h7(n){return n.length?n[0]instanceof Map?n:n.map(e=>GU(e)):[]}(t).map(B=>ih(B));I=function _7(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((s,u)=>{i.has(u)||r.push(u),i.set(u,s)}),r.length)for(let s=1;s<e.length;s++){let u=e[s];r.forEach(h=>u.set(h,KU(n,h)))}}return e}(e,I,y);const O=function cY(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=k1(e[0]),e.length>1&&(i=k1(e[e.length-1]))):e instanceof Map&&(t=k1(e)),t||i?new uY(n,t,i):null}(e,I);return new dH(e,I,p,O)}}let fY=(()=>{class n extends uV{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:l.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?dV(t):t;return hH(this._renderer,null,i,"register",[r]),new pY(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.FYo),l.LFG(re))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class pY extends class XG{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new mY(this._id,e,t||{},this._renderer)}}class mY{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return hH(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function hH(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const fH="@.disabled";let gY=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,u)=>{const h=u?.parentNode(s);h&&u.removeChild(h,s)}}createRenderer(t,i){const s=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let E=this._rendererCache.get(s);return E||(E=new pH("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,E)),E}const u=i.id,h=i.id+"-"+this._currentId;this._currentId++,this.engine.register(h,t);const p=E=>{Array.isArray(E)?E.forEach(p):this.engine.registerTrigger(u,h,t,E.name,E)};return i.data.animation.forEach(p),new _Y(this,h,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[u,h]=s;u(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.FYo),l.LFG(pS),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class pH{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?s=>t.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==fH?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class _Y extends pH{constructor(e,t,i,r,s){super(t,i,r,s),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==fH?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function yY(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),u="";return"@"!=s.charAt(0)&&([s,u]=function vY(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,r,s,u,h=>{this.factory.scheduleListenerCallback(h._data||-1,i,h)})}return this.delegate.listen(e,t,i)}}let bY=(()=>{class n extends pS{constructor(t,i,r,s){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(re),l.LFG(p1),l.LFG(I1),l.LFG(l.z2F))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const mH=[{provide:uV,useClass:fY},{provide:I1,useFactory:function wY(){return new U7}},{provide:pS,useClass:bY},{provide:l.FYo,useFactory:function CY(n,e,t){return new gY(n,e,t)},deps:[rc,pS,l.R0b]}],R1=[{provide:p1,useFactory:()=>new hY},{provide:l.QbO,useValue:"BrowserAnimations"},...mH],gH=[{provide:p1,useClass:zU},{provide:l.QbO,useValue:"NoopAnimations"},...mH];let EY=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?gH:R1}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:R1,imports:[Eh]}),n})(),_H=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[ai],ai]}),n})();const SY={provide:new l.OlP("mat-menu-scroll-strategy"),deps:[Pp],useFactory:function TY(n){return()=>n.scrollStrategies.reposition()}};let vH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[SY],imports:[[co,ai,vO,TO],p0,ai]}),n})(),DH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[ai],ai]}),n})(),TH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[nB,ai],nB,ai]}),n})();const xH=new l.OlP("mat-chips-default-options");let kH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[d0,{provide:xH,useValue:{separatorKeyCodes:[13]}}],imports:[[ai]]}),n})(),WY=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[bO,vH,EU,DH,_H,TH,lU,KB,g0,TU,kH,bO,vH,EU,DH,_H,TH,lU,KB,g0,TU,kH]}),n})(),ZY=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n,bootstrap:[j9]}),n.\u0275inj=l.cJS({providers:[nO],imports:[Eh,z9,lg,md,$M(()=>EE(YT_firebase)),fD(()=>Af()),F$(()=>H$()),Q9(()=>X9()),DG(()=>TG()),za.hO.initializeApp(YT_firebase),EZ(()=>DZ()),C4.forRoot(),EY,_9,WY]}),n})();(0,l.G48)(),Ch().bootstrapModule(ZY).catch(n=>console.error(n))},9751:(xt,Le,P)=>{P.d(Le,{y:()=>ye});var l=P(930),z=P(727),N=P(8822),le=P(9635),de=P(2416),ge=P(576),re=P(2806);let ye=(()=>{class ee{constructor(Me){Me&&(this._subscribe=Me)}lift(Me){const xe=new ee;return xe.source=this,xe.operator=Me,xe}subscribe(Me,xe,dt){const Ee=function q(ee){return ee&&ee instanceof l.Lv||function Z(ee){return ee&&(0,ge.m)(ee.next)&&(0,ge.m)(ee.error)&&(0,ge.m)(ee.complete)}(ee)&&(0,z.Nn)(ee)}(Me)?Me:new l.Hp(Me,xe,dt);return(0,re.x)(()=>{const{operator:_e,source:St}=this;Ee.add(_e?_e.call(Ee,St):St?this._subscribe(Ee):this._trySubscribe(Ee))}),Ee}_trySubscribe(Me){try{return this._subscribe(Me)}catch(xe){Me.error(xe)}}forEach(Me,xe){return new(xe=ve(xe))((dt,Ee)=>{const _e=new l.Hp({next:St=>{try{Me(St)}catch(gt){Ee(gt),_e.unsubscribe()}},error:Ee,complete:dt});this.subscribe(_e)})}_subscribe(Me){var xe;return null===(xe=this.source)||void 0===xe?void 0:xe.subscribe(Me)}[N.L](){return this}pipe(...Me){return(0,le.U)(Me)(this)}toPromise(Me){return new(Me=ve(Me))((xe,dt)=>{let Ee;this.subscribe(_e=>Ee=_e,_e=>dt(_e),()=>xe(Ee))})}}return ee.create=Ge=>new ee(Ge),ee})();function ve(ee){var Ge;return null!==(Ge=ee??de.v.Promise)&&void 0!==Ge?Ge:Promise}},7579:(xt,Le,P)=>{P.d(Le,{x:()=>re});var l=P(9751),z=P(727);const le=(0,P(3888).d)(ve=>function(){ve(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var de=P(8737),ge=P(2806);let re=(()=>{class ve extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(q){const ee=new ye(this,this);return ee.operator=q,ee}_throwIfClosed(){if(this.closed)throw new le}next(q){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ee of this.currentObservers)ee.next(q)}})}error(q){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=q;const{observers:ee}=this;for(;ee.length;)ee.shift().error(q)}})}complete(){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:q}=this;for(;q.length;)q.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var q;return(null===(q=this.observers)||void 0===q?void 0:q.length)>0}_trySubscribe(q){return this._throwIfClosed(),super._trySubscribe(q)}_subscribe(q){return this._throwIfClosed(),this._checkFinalizedStatuses(q),this._innerSubscribe(q)}_innerSubscribe(q){const{hasError:ee,isStopped:Ge,observers:Me}=this;return ee||Ge?z.Lc:(this.currentObservers=null,Me.push(q),new z.w0(()=>{this.currentObservers=null,(0,de.P)(Me,q)}))}_checkFinalizedStatuses(q){const{hasError:ee,thrownError:Ge,isStopped:Me}=this;ee?q.error(Ge):Me&&q.complete()}asObservable(){const q=new l.y;return q.source=this,q}}return ve.create=(Z,q)=>new ye(Z,q),ve})();class ye extends re{constructor(Z,q){super(),this.destination=Z,this.source=q}next(Z){var q,ee;null===(ee=null===(q=this.destination)||void 0===q?void 0:q.next)||void 0===ee||ee.call(q,Z)}error(Z){var q,ee;null===(ee=null===(q=this.destination)||void 0===q?void 0:q.error)||void 0===ee||ee.call(q,Z)}complete(){var Z,q;null===(q=null===(Z=this.destination)||void 0===Z?void 0:Z.complete)||void 0===q||q.call(Z)}_subscribe(Z){var q,ee;return null!==(ee=null===(q=this.source)||void 0===q?void 0:q.subscribe(Z))&&void 0!==ee?ee:z.Lc}}},930:(xt,Le,P)=>{P.d(Le,{Hp:()=>dt,Lv:()=>ee});var l=P(576),z=P(727),N=P(2416),le=P(7849),de=P(5032);const ge=ve("C",void 0,void 0);function ve(Ie,Te,Ae){return{kind:Ie,value:Te,error:Ae}}var Z=P(3410),q=P(2806);class ee extends z.w0{constructor(Te){super(),this.isStopped=!1,Te?(this.destination=Te,(0,z.Nn)(Te)&&Te.add(this)):this.destination=gt}static create(Te,Ae,it){return new dt(Te,Ae,it)}next(Te){this.isStopped?St(function ye(Ie){return ve("N",Ie,void 0)}(Te),this):this._next(Te)}error(Te){this.isStopped?St(function re(Ie){return ve("E",void 0,Ie)}(Te),this):(this.isStopped=!0,this._error(Te))}complete(){this.isStopped?St(ge,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Te){this.destination.next(Te)}_error(Te){try{this.destination.error(Te)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ge=Function.prototype.bind;function Me(Ie,Te){return Ge.call(Ie,Te)}class xe{constructor(Te){this.partialObserver=Te}next(Te){const{partialObserver:Ae}=this;if(Ae.next)try{Ae.next(Te)}catch(it){Ee(it)}}error(Te){const{partialObserver:Ae}=this;if(Ae.error)try{Ae.error(Te)}catch(it){Ee(it)}else Ee(Te)}complete(){const{partialObserver:Te}=this;if(Te.complete)try{Te.complete()}catch(Ae){Ee(Ae)}}}class dt extends ee{constructor(Te,Ae,it){let Xe;if(super(),(0,l.m)(Te)||!Te)Xe={next:Te??void 0,error:Ae??void 0,complete:it??void 0};else{let ae;this&&N.v.useDeprecatedNextContext?(ae=Object.create(Te),ae.unsubscribe=()=>this.unsubscribe(),Xe={next:Te.next&&Me(Te.next,ae),error:Te.error&&Me(Te.error,ae),complete:Te.complete&&Me(Te.complete,ae)}):Xe=Te}this.destination=new xe(Xe)}}function Ee(Ie){N.v.useDeprecatedSynchronousErrorHandling?(0,q.O)(Ie):(0,le.h)(Ie)}function St(Ie,Te){const{onStoppedNotification:Ae}=N.v;Ae&&Z.z.setTimeout(()=>Ae(Ie,Te))}const gt={closed:!0,next:de.Z,error:function _e(Ie){throw Ie},complete:de.Z}},727:(xt,Le,P)=>{P.d(Le,{Lc:()=>ge,w0:()=>de,Nn:()=>re});var l=P(576);const N=(0,P(3888).d)(ve=>function(q){ve(this),this.message=q?`${q.length} errors occurred during unsubscription:\n${q.map((ee,Ge)=>`${Ge+1}) ${ee.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=q});var le=P(8737);class de{constructor(Z){this.initialTeardown=Z,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Z;if(!this.closed){this.closed=!0;const{_parentage:q}=this;if(q)if(this._parentage=null,Array.isArray(q))for(const Me of q)Me.remove(this);else q.remove(this);const{initialTeardown:ee}=this;if((0,l.m)(ee))try{ee()}catch(Me){Z=Me instanceof N?Me.errors:[Me]}const{_finalizers:Ge}=this;if(Ge){this._finalizers=null;for(const Me of Ge)try{ye(Me)}catch(xe){Z=Z??[],xe instanceof N?Z=[...Z,...xe.errors]:Z.push(xe)}}if(Z)throw new N(Z)}}add(Z){var q;if(Z&&Z!==this)if(this.closed)ye(Z);else{if(Z instanceof de){if(Z.closed||Z._hasParent(this))return;Z._addParent(this)}(this._finalizers=null!==(q=this._finalizers)&&void 0!==q?q:[]).push(Z)}}_hasParent(Z){const{_parentage:q}=this;return q===Z||Array.isArray(q)&&q.includes(Z)}_addParent(Z){const{_parentage:q}=this;this._parentage=Array.isArray(q)?(q.push(Z),q):q?[q,Z]:Z}_removeParent(Z){const{_parentage:q}=this;q===Z?this._parentage=null:Array.isArray(q)&&(0,le.P)(q,Z)}remove(Z){const{_finalizers:q}=this;q&&(0,le.P)(q,Z),Z instanceof de&&Z._removeParent(this)}}de.EMPTY=(()=>{const ve=new de;return ve.closed=!0,ve})();const ge=de.EMPTY;function re(ve){return ve instanceof de||ve&&"closed"in ve&&(0,l.m)(ve.remove)&&(0,l.m)(ve.add)&&(0,l.m)(ve.unsubscribe)}function ye(ve){(0,l.m)(ve)?ve():ve.unsubscribe()}},2416:(xt,Le,P)=>{P.d(Le,{v:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(xt,Le,P)=>{P.d(Le,{E:()=>z});const z=new(P(9751).y)(de=>de.complete())},8996:(xt,Le,P)=>{P.d(Le,{D:()=>Te});var l=P(8421),z=P(5363),N=P(9468),ge=P(9751),ye=P(2202),ve=P(576),Z=P(9672);function ee(Ae,it){if(!Ae)throw new Error("Iterable cannot be null");return new ge.y(Xe=>{(0,Z.f)(Xe,it,()=>{const ae=Ae[Symbol.asyncIterator]();(0,Z.f)(Xe,it,()=>{ae.next().then(et=>{et.done?Xe.complete():Xe.next(et.value)})},0,!0)})})}var Ge=P(3670),Me=P(8239),xe=P(1144),dt=P(6495),Ee=P(2206),_e=P(4532),St=P(3260);function Te(Ae,it){return it?function Ie(Ae,it){if(null!=Ae){if((0,Ge.c)(Ae))return function le(Ae,it){return(0,l.Xf)(Ae).pipe((0,N.R)(it),(0,z.Q)(it))}(Ae,it);if((0,xe.z)(Ae))return function re(Ae,it){return new ge.y(Xe=>{let ae=0;return it.schedule(function(){ae===Ae.length?Xe.complete():(Xe.next(Ae[ae++]),Xe.closed||this.schedule())})})}(Ae,it);if((0,Me.t)(Ae))return function de(Ae,it){return(0,l.Xf)(Ae).pipe((0,N.R)(it),(0,z.Q)(it))}(Ae,it);if((0,Ee.D)(Ae))return ee(Ae,it);if((0,dt.T)(Ae))return function q(Ae,it){return new ge.y(Xe=>{let ae;return(0,Z.f)(Xe,it,()=>{ae=Ae[ye.h](),(0,Z.f)(Xe,it,()=>{let et,kt;try{({value:et,done:kt}=ae.next())}catch(vt){return void Xe.error(vt)}kt?Xe.complete():Xe.next(et)},0,!0)}),()=>(0,ve.m)(ae?.return)&&ae.return()})}(Ae,it);if((0,St.L)(Ae))return function gt(Ae,it){return ee((0,St.Q)(Ae),it)}(Ae,it)}throw(0,_e.z)(Ae)}(Ae,it):(0,l.Xf)(Ae)}},8421:(xt,Le,P)=>{P.d(Le,{Xf:()=>Ge});var l=P(655),z=P(1144),N=P(8239),le=P(9751),de=P(3670),ge=P(2206),re=P(4532),ye=P(6495),ve=P(3260),Z=P(576),q=P(7849),ee=P(8822);function Ge(Ie){if(Ie instanceof le.y)return Ie;if(null!=Ie){if((0,de.c)(Ie))return function Me(Ie){return new le.y(Te=>{const Ae=Ie[ee.L]();if((0,Z.m)(Ae.subscribe))return Ae.subscribe(Te);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ie);if((0,z.z)(Ie))return function xe(Ie){return new le.y(Te=>{for(let Ae=0;Ae<Ie.length&&!Te.closed;Ae++)Te.next(Ie[Ae]);Te.complete()})}(Ie);if((0,N.t)(Ie))return function dt(Ie){return new le.y(Te=>{Ie.then(Ae=>{Te.closed||(Te.next(Ae),Te.complete())},Ae=>Te.error(Ae)).then(null,q.h)})}(Ie);if((0,ge.D)(Ie))return _e(Ie);if((0,ye.T)(Ie))return function Ee(Ie){return new le.y(Te=>{for(const Ae of Ie)if(Te.next(Ae),Te.closed)return;Te.complete()})}(Ie);if((0,ve.L)(Ie))return function St(Ie){return _e((0,ve.Q)(Ie))}(Ie)}throw(0,re.z)(Ie)}function _e(Ie){return new le.y(Te=>{(function gt(Ie,Te){var Ae,it,Xe,ae;return(0,l.mG)(this,void 0,void 0,function*(){try{for(Ae=(0,l.KL)(Ie);!(it=yield Ae.next()).done;)if(Te.next(it.value),Te.closed)return}catch(et){Xe={error:et}}finally{try{it&&!it.done&&(ae=Ae.return)&&(yield ae.call(Ae))}finally{if(Xe)throw Xe.error}}Te.complete()})})(Ie,Te).catch(Ae=>Te.error(Ae))})}},6451:(xt,Le,P)=>{P.d(Le,{T:()=>ge});var l=P(8189),z=P(8421),N=P(515),le=P(3269),de=P(8996);function ge(...re){const ye=(0,le.yG)(re),ve=(0,le._6)(re,1/0),Z=re;return Z.length?1===Z.length?(0,z.Xf)(Z[0]):(0,l.J)(ve)((0,de.D)(Z,ye)):N.E}},5403:(xt,Le,P)=>{P.d(Le,{x:()=>z});var l=P(930);function z(le,de,ge,re,ye){return new N(le,de,ge,re,ye)}class N extends l.Lv{constructor(de,ge,re,ye,ve,Z){super(de),this.onFinalize=ve,this.shouldUnsubscribe=Z,this._next=ge?function(q){try{ge(q)}catch(ee){de.error(ee)}}:super._next,this._error=ye?function(q){try{ye(q)}catch(ee){de.error(ee)}finally{this.unsubscribe()}}:super._error,this._complete=re?function(){try{re()}catch(q){de.error(q)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var de;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ge}=this;super.unsubscribe(),!ge&&(null===(de=this.onFinalize)||void 0===de||de.call(this))}}}},4004:(xt,Le,P)=>{P.d(Le,{U:()=>N});var l=P(4482),z=P(5403);function N(le,de){return(0,l.e)((ge,re)=>{let ye=0;ge.subscribe((0,z.x)(re,ve=>{re.next(le.call(de,ve,ye++))}))})}},8189:(xt,Le,P)=>{P.d(Le,{J:()=>N});var l=P(5577),z=P(4671);function N(le=1/0){return(0,l.z)(z.y,le)}},5577:(xt,Le,P)=>{P.d(Le,{z:()=>ye});var l=P(4004),z=P(8421),N=P(4482),le=P(9672),de=P(5403),re=P(576);function ye(ve,Z,q=1/0){return(0,re.m)(Z)?ye((ee,Ge)=>(0,l.U)((Me,xe)=>Z(ee,Me,Ge,xe))((0,z.Xf)(ve(ee,Ge))),q):("number"==typeof Z&&(q=Z),(0,N.e)((ee,Ge)=>function ge(ve,Z,q,ee,Ge,Me,xe,dt){const Ee=[];let _e=0,St=0,gt=!1;const Ie=()=>{gt&&!Ee.length&&!_e&&Z.complete()},Te=it=>_e<ee?Ae(it):Ee.push(it),Ae=it=>{Me&&Z.next(it),_e++;let Xe=!1;(0,z.Xf)(q(it,St++)).subscribe((0,de.x)(Z,ae=>{Ge?.(ae),Me?Te(ae):Z.next(ae)},()=>{Xe=!0},void 0,()=>{if(Xe)try{for(_e--;Ee.length&&_e<ee;){const ae=Ee.shift();xe?(0,le.f)(Z,xe,()=>Ae(ae)):Ae(ae)}Ie()}catch(ae){Z.error(ae)}}))};return ve.subscribe((0,de.x)(Z,Te,()=>{gt=!0,Ie()})),()=>{dt?.()}}(ee,Ge,ve,q)))}},5363:(xt,Le,P)=>{P.d(Le,{Q:()=>le});var l=P(9672),z=P(4482),N=P(5403);function le(de,ge=0){return(0,z.e)((re,ye)=>{re.subscribe((0,N.x)(ye,ve=>(0,l.f)(ye,de,()=>ye.next(ve),ge),()=>(0,l.f)(ye,de,()=>ye.complete(),ge),ve=>(0,l.f)(ye,de,()=>ye.error(ve),ge)))})}},3099:(xt,Le,P)=>{P.d(Le,{B:()=>de});var l=P(8421),z=P(7579),N=P(930),le=P(4482);function de(re={}){const{connector:ye=(()=>new z.x),resetOnError:ve=!0,resetOnComplete:Z=!0,resetOnRefCountZero:q=!0}=re;return ee=>{let Ge,Me,xe,dt=0,Ee=!1,_e=!1;const St=()=>{Me?.unsubscribe(),Me=void 0},gt=()=>{St(),Ge=xe=void 0,Ee=_e=!1},Ie=()=>{const Te=Ge;gt(),Te?.unsubscribe()};return(0,le.e)((Te,Ae)=>{dt++,!_e&&!Ee&&St();const it=xe=xe??ye();Ae.add(()=>{dt--,0===dt&&!_e&&!Ee&&(Me=ge(Ie,q))}),it.subscribe(Ae),!Ge&&dt>0&&(Ge=new N.Hp({next:Xe=>it.next(Xe),error:Xe=>{_e=!0,St(),Me=ge(gt,ve,Xe),it.error(Xe)},complete:()=>{Ee=!0,St(),Me=ge(gt,Z),it.complete()}}),(0,l.Xf)(Te).subscribe(Ge))})(ee)}}function ge(re,ye,...ve){if(!0===ye)return void re();if(!1===ye)return;const Z=new N.Hp({next:()=>{Z.unsubscribe(),re()}});return ye(...ve).subscribe(Z)}},9468:(xt,Le,P)=>{P.d(Le,{R:()=>z});var l=P(4482);function z(N,le=0){return(0,l.e)((de,ge)=>{ge.add(N.schedule(()=>de.subscribe(ge),le))})}},8505:(xt,Le,P)=>{P.d(Le,{b:()=>de});var l=P(576),z=P(4482),N=P(5403),le=P(4671);function de(ge,re,ye){const ve=(0,l.m)(ge)||re||ye?{next:ge,error:re,complete:ye}:ge;return ve?(0,z.e)((Z,q)=>{var ee;null===(ee=ve.subscribe)||void 0===ee||ee.call(ve);let Ge=!0;Z.subscribe((0,N.x)(q,Me=>{var xe;null===(xe=ve.next)||void 0===xe||xe.call(ve,Me),q.next(Me)},()=>{var Me;Ge=!1,null===(Me=ve.complete)||void 0===Me||Me.call(ve),q.complete()},Me=>{var xe;Ge=!1,null===(xe=ve.error)||void 0===xe||xe.call(ve,Me),q.error(Me)},()=>{var Me,xe;Ge&&(null===(Me=ve.unsubscribe)||void 0===Me||Me.call(ve)),null===(xe=ve.finalize)||void 0===xe||xe.call(ve)}))}):le.y}},4408:(xt,Le,P)=>{P.d(Le,{o:()=>de});var l=P(727);class z extends l.w0{constructor(re,ye){super()}schedule(re,ye=0){return this}}const N={setInterval(ge,re,...ye){const{delegate:ve}=N;return ve?.setInterval?ve.setInterval(ge,re,...ye):setInterval(ge,re,...ye)},clearInterval(ge){const{delegate:re}=N;return(re?.clearInterval||clearInterval)(ge)},delegate:void 0};var le=P(8737);class de extends z{constructor(re,ye){super(re,ye),this.scheduler=re,this.work=ye,this.pending=!1}schedule(re,ye=0){var ve;if(this.closed)return this;this.state=re;const Z=this.id,q=this.scheduler;return null!=Z&&(this.id=this.recycleAsyncId(q,Z,ye)),this.pending=!0,this.delay=ye,this.id=null!==(ve=this.id)&&void 0!==ve?ve:this.requestAsyncId(q,this.id,ye),this}requestAsyncId(re,ye,ve=0){return N.setInterval(re.flush.bind(re,this),ve)}recycleAsyncId(re,ye,ve=0){if(null!=ve&&this.delay===ve&&!1===this.pending)return ye;null!=ye&&N.clearInterval(ye)}execute(re,ye){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ve=this._execute(re,ye);if(ve)return ve;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(re,ye){let Z,ve=!1;try{this.work(re)}catch(q){ve=!0,Z=q||new Error("Scheduled action threw falsy error")}if(ve)return this.unsubscribe(),Z}unsubscribe(){if(!this.closed){const{id:re,scheduler:ye}=this,{actions:ve}=ye;this.work=this.state=this.scheduler=null,this.pending=!1,(0,le.P)(ve,this),null!=re&&(this.id=this.recycleAsyncId(ye,re,null)),this.delay=null,super.unsubscribe()}}}},7565:(xt,Le,P)=>{P.d(Le,{v:()=>N});var l=P(6063);class z{constructor(de,ge=z.now){this.schedulerActionCtor=de,this.now=ge}schedule(de,ge=0,re){return new this.schedulerActionCtor(this,de).schedule(re,ge)}}z.now=l.l.now;class N extends z{constructor(de,ge=z.now){super(de,ge),this.actions=[],this._active=!1}flush(de){const{actions:ge}=this;if(this._active)return void ge.push(de);let re;this._active=!0;do{if(re=de.execute(de.state,de.delay))break}while(de=ge.shift());if(this._active=!1,re){for(;de=ge.shift();)de.unsubscribe();throw re}}}},4986:(xt,Le,P)=>{P.d(Le,{P:()=>le,z:()=>N});var l=P(4408);const N=new(P(7565).v)(l.o),le=N},6063:(xt,Le,P)=>{P.d(Le,{l:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},3410:(xt,Le,P)=>{P.d(Le,{z:()=>l});const l={setTimeout(z,N,...le){const{delegate:de}=l;return de?.setTimeout?de.setTimeout(z,N,...le):setTimeout(z,N,...le)},clearTimeout(z){const{delegate:N}=l;return(N?.clearTimeout||clearTimeout)(z)},delegate:void 0}},2202:(xt,Le,P)=>{P.d(Le,{h:()=>z});const z=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(xt,Le,P)=>{P.d(Le,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(xt,Le,P)=>{P.d(Le,{_6:()=>ge,jO:()=>le,yG:()=>de});var l=P(576),z=P(3532);function N(re){return re[re.length-1]}function le(re){return(0,l.m)(N(re))?re.pop():void 0}function de(re){return(0,z.K)(N(re))?re.pop():void 0}function ge(re,ye){return"number"==typeof N(re)?re.pop():ye}},8737:(xt,Le,P)=>{function l(z,N){if(z){const le=z.indexOf(N);0<=le&&z.splice(le,1)}}P.d(Le,{P:()=>l})},3888:(xt,Le,P)=>{function l(z){const le=z(de=>{Error.call(de),de.stack=(new Error).stack});return le.prototype=Object.create(Error.prototype),le.prototype.constructor=le,le}P.d(Le,{d:()=>l})},2806:(xt,Le,P)=>{P.d(Le,{O:()=>le,x:()=>N});var l=P(2416);let z=null;function N(de){if(l.v.useDeprecatedSynchronousErrorHandling){const ge=!z;if(ge&&(z={errorThrown:!1,error:null}),de(),ge){const{errorThrown:re,error:ye}=z;if(z=null,re)throw ye}}else de()}function le(de){l.v.useDeprecatedSynchronousErrorHandling&&z&&(z.errorThrown=!0,z.error=de)}},9672:(xt,Le,P)=>{function l(z,N,le,de=0,ge=!1){const re=N.schedule(function(){le(),ge?z.add(this.schedule(null,de)):this.unsubscribe()},de);if(z.add(re),!ge)return re}P.d(Le,{f:()=>l})},4671:(xt,Le,P)=>{function l(z){return z}P.d(Le,{y:()=>l})},1144:(xt,Le,P)=>{P.d(Le,{z:()=>l});const l=z=>z&&"number"==typeof z.length&&"function"!=typeof z},2206:(xt,Le,P)=>{P.d(Le,{D:()=>z});var l=P(576);function z(N){return Symbol.asyncIterator&&(0,l.m)(N?.[Symbol.asyncIterator])}},576:(xt,Le,P)=>{function l(z){return"function"==typeof z}P.d(Le,{m:()=>l})},3670:(xt,Le,P)=>{P.d(Le,{c:()=>N});var l=P(8822),z=P(576);function N(le){return(0,z.m)(le[l.L])}},6495:(xt,Le,P)=>{P.d(Le,{T:()=>N});var l=P(2202),z=P(576);function N(le){return(0,z.m)(le?.[l.h])}},8239:(xt,Le,P)=>{P.d(Le,{t:()=>z});var l=P(576);function z(N){return(0,l.m)(N?.then)}},3260:(xt,Le,P)=>{P.d(Le,{L:()=>le,Q:()=>N});var l=P(655),z=P(576);function N(de){return(0,l.FC)(this,arguments,function*(){const re=de.getReader();try{for(;;){const{value:ye,done:ve}=yield(0,l.qq)(re.read());if(ve)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(ye)}}finally{re.releaseLock()}})}function le(de){return(0,z.m)(de?.getReader)}},3532:(xt,Le,P)=>{P.d(Le,{K:()=>z});var l=P(576);function z(N){return N&&(0,l.m)(N.schedule)}},4482:(xt,Le,P)=>{P.d(Le,{A:()=>z,e:()=>N});var l=P(576);function z(le){return(0,l.m)(le?.lift)}function N(le){return de=>{if(z(de))return de.lift(function(ge){try{return le(ge,this)}catch(re){this.error(re)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(xt,Le,P)=>{function l(){}P.d(Le,{Z:()=>l})},9635:(xt,Le,P)=>{P.d(Le,{U:()=>N,z:()=>z});var l=P(4671);function z(...le){return N(le)}function N(le){return 0===le.length?l.y:1===le.length?le[0]:function(ge){return le.reduce((re,ye)=>ye(re),ge)}}},7849:(xt,Le,P)=>{P.d(Le,{h:()=>N});var l=P(2416),z=P(3410);function N(le){z.z.setTimeout(()=>{const{onUnhandledError:de}=l.v;if(!de)throw le;de(le)})}},4532:(xt,Le,P)=>{function l(z){return new TypeError(`You provided ${null!==z&&"object"==typeof z?"an invalid object":`'${z}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(Le,{z:()=>l})},655:(xt,Le,P)=>{function le(pe,we){var Ne={};for(var Re in pe)Object.prototype.hasOwnProperty.call(pe,Re)&&we.indexOf(Re)<0&&(Ne[Re]=pe[Re]);if(null!=pe&&"function"==typeof Object.getOwnPropertySymbols){var Fe=0;for(Re=Object.getOwnPropertySymbols(pe);Fe<Re.length;Fe++)we.indexOf(Re[Fe])<0&&Object.prototype.propertyIsEnumerable.call(pe,Re[Fe])&&(Ne[Re[Fe]]=pe[Re[Fe]])}return Ne}function de(pe,we,Ne,Re){var Ke,Fe=arguments.length,Je=Fe<3?we:null===Re?Re=Object.getOwnPropertyDescriptor(we,Ne):Re;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Je=Reflect.decorate(pe,we,Ne,Re);else for(var ht=pe.length-1;ht>=0;ht--)(Ke=pe[ht])&&(Je=(Fe<3?Ke(Je):Fe>3?Ke(we,Ne,Je):Ke(we,Ne))||Je);return Fe>3&&Je&&Object.defineProperty(we,Ne,Je),Je}function ge(pe,we){return function(Ne,Re){we(Ne,Re,pe)}}function q(pe,we){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(pe,we)}function ee(pe,we,Ne,Re){return new(Ne||(Ne=Promise))(function(Je,Ke){function ht(Ht){try{Dt(Re.next(Ht))}catch($t){Ke($t)}}function Xt(Ht){try{Dt(Re.throw(Ht))}catch($t){Ke($t)}}function Dt(Ht){Ht.done?Je(Ht.value):function Fe(Je){return Je instanceof Ne?Je:new Ne(function(Ke){Ke(Je)})}(Ht.value).then(ht,Xt)}Dt((Re=Re.apply(pe,we||[])).next())})}function Ie(pe){return this instanceof Ie?(this.v=pe,this):new Ie(pe)}function Te(pe,we,Ne){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Fe,Re=Ne.apply(pe,we||[]),Je=[];return Fe={},Ke("next"),Ke("throw"),Ke("return"),Fe[Symbol.asyncIterator]=function(){return this},Fe;function Ke(Sn){Re[Sn]&&(Fe[Sn]=function(Fn){return new Promise(function(yi,Qn){Je.push([Sn,Fn,yi,Qn])>1||ht(Sn,Fn)})})}function ht(Sn,Fn){try{!function Xt(Sn){Sn.value instanceof Ie?Promise.resolve(Sn.value.v).then(Dt,Ht):$t(Je[0][2],Sn)}(Re[Sn](Fn))}catch(yi){$t(Je[0][3],yi)}}function Dt(Sn){ht("next",Sn)}function Ht(Sn){ht("throw",Sn)}function $t(Sn,Fn){Sn(Fn),Je.shift(),Je.length&&ht(Je[0][0],Je[0][1])}}function it(pe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ne,we=pe[Symbol.asyncIterator];return we?we.call(pe):(pe=function dt(pe){var we="function"==typeof Symbol&&Symbol.iterator,Ne=we&&pe[we],Re=0;if(Ne)return Ne.call(pe);if(pe&&"number"==typeof pe.length)return{next:function(){return pe&&Re>=pe.length&&(pe=void 0),{value:pe&&pe[Re++],done:!pe}}};throw new TypeError(we?"Object is not iterable.":"Symbol.iterator is not defined.")}(pe),Ne={},Re("next"),Re("throw"),Re("return"),Ne[Symbol.asyncIterator]=function(){return this},Ne);function Re(Je){Ne[Je]=pe[Je]&&function(Ke){return new Promise(function(ht,Xt){!function Fe(Je,Ke,ht,Xt){Promise.resolve(Xt).then(function(Dt){Je({value:Dt,done:ht})},Ke)}(ht,Xt,(Ke=pe[Je](Ke)).done,Ke.value)})}}}P.d(Le,{FC:()=>Te,KL:()=>it,_T:()=>le,fM:()=>ge,gn:()=>de,mG:()=>ee,qq:()=>Ie,w6:()=>q})},4650:(xt,Le,P)=>{P.d(Le,{$8M:()=>sm,$Z:()=>qC,AFp:()=>XD,ALo:()=>Fg,AaK:()=>ye,BQk:()=>zv,CHM:()=>Ka,CRH:()=>qg,CZH:()=>e_,CqO:()=>qM,D6c:()=>ce,DdM:()=>Og,EJc:()=>Gb,EiD:()=>oC,EpF:()=>EE,F$t:()=>TE,F4k:()=>GM,FYo:()=>Qy,FiY:()=>hs,G48:()=>kl,Gf:()=>Td,GfV:()=>Xy,GkF:()=>CE,Gpc:()=>q,Gre:()=>QE,Hsn:()=>wf,Ikx:()=>Sf,JOm:()=>Rs,JVY:()=>Hy,KtG:()=>bu,L6k:()=>X0,LAX:()=>eC,LFG:()=>Bi,LSH:()=>Cc,Lbi:()=>JD,Lck:()=>pb,MAs:()=>zM,MMx:()=>Ff,NdJ:()=>ji,O4$:()=>cy,OlP:()=>Bn,Oqu:()=>El,PXZ:()=>no,Q6J:()=>Bv,QGY:()=>DE,QP$:()=>Ce,QbO:()=>eI,Qsj:()=>bC,R0b:()=>Bs,RDi:()=>Y0,Rgc:()=>Bc,SBq:()=>nf,Sil:()=>tI,Suo:()=>Gg,TTD:()=>pa,TgZ:()=>cg,Tol:()=>yd,Udp:()=>Df,W1O:()=>Wg,WLB:()=>Eb,X6Q:()=>Pd,XFs:()=>ft,Xpm:()=>zn,Xts:()=>Xu,Y36:()=>Fs,YKP:()=>fb,YNc:()=>ea,Yjl:()=>R,Yz7:()=>Xt,Z0I:()=>Sn,ZZ4:()=>sw,_Bn:()=>yD,_UZ:()=>Uv,_Vd:()=>tf,_c5:()=>Rl,_uU:()=>eb,aQg:()=>p_,c2e:()=>$b,cJS:()=>Ht,cg1:()=>lD,d8E:()=>aD,dDg:()=>Kb,dqk:()=>fn,eBb:()=>J0,eFA:()=>tp,ekj:()=>fg,eoX:()=>Kn,f3M:()=>Et,g9A:()=>Zf,h0i:()=>Eo,hGG:()=>lw,hij:()=>Tf,iGM:()=>Mb,ifc:()=>mt,ip1:()=>QD,jDz:()=>xg,kL8:()=>lA,kcU:()=>uy,lG2:()=>j,lcZ:()=>Ib,lqb:()=>Tc,lri:()=>oI,mCW:()=>Am,n5z:()=>rm,n_E:()=>Ed,oAB:()=>wi,oJD:()=>aC,oxw:()=>IE,pB0:()=>tC,q3G:()=>tr,q4F:()=>EC,qLn:()=>rf,qOj:()=>Rv,qZA:()=>ug,qzn:()=>Ku,rWj:()=>to,s9C:()=>Cf,sBO:()=>ir,sIi:()=>mf,s_b:()=>jf,soG:()=>Kf,tb:()=>oa,tp0:()=>Bo,uIk:()=>ag,vHH:()=>xe,vpe:()=>ia,wAp:()=>Jt,xp6:()=>ov,ynx:()=>Hv,z2F:()=>$c,z3N:()=>Ns,zSh:()=>Qh,zs3:()=>gl});var l=P(7579),z=P(727),N=P(9751),le=P(6451),de=P(3099);function ge(o){for(let a in o)if(o[a]===ge)return a;throw Error("Could not find renamed property on target object.")}function re(o,a){for(const c in a)a.hasOwnProperty(c)&&!o.hasOwnProperty(c)&&(o[c]=a[c])}function ye(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(ye).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const a=o.toString();if(null==a)return""+a;const c=a.indexOf("\n");return-1===c?a:a.substring(0,c)}function ve(o,a){return null==o||""===o?null===a?"":a:null==a||""===a?o:o+" "+a}const Z=ge({__forward_ref__:ge});function q(o){return o.__forward_ref__=q,o.toString=function(){return ye(this())},o}function ee(o){return Ge(o)?o():o}function Ge(o){return"function"==typeof o&&o.hasOwnProperty(Z)&&o.__forward_ref__===q}class xe extends Error{constructor(a,c){super(function dt(o,a){return`NG0${Math.abs(o)}${a?": "+a.trim():""}`}(a,c)),this.code=a}}function Ee(o){return"string"==typeof o?o:null==o?"":String(o)}function Te(o,a){throw new xe(-201,!1)}function Re(o,a){null==o&&function Fe(o,a,c,d){throw new Error(`ASSERTION ERROR: ${o}`+(null==d?"":` [Expected=> ${c} ${d} ${a} <=Actual]`))}(a,o,null,"!=")}function Xt(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function Ht(o){return{providers:o.providers||[],imports:o.imports||[]}}function $t(o){return Fn(o,An)||Fn(o,bi)}function Sn(o){return null!==$t(o)}function Fn(o,a){return o.hasOwnProperty(a)?o[a]:null}function vi(o){return o&&(o.hasOwnProperty(ar)||o.hasOwnProperty(Vr))?o[ar]:null}const An=ge({\u0275prov:ge}),ar=ge({\u0275inj:ge}),bi=ge({ngInjectableDef:ge}),Vr=ge({ngInjectorDef:ge});var ft=(()=>((ft=ft||{})[ft.Default=0]="Default",ft[ft.Host=1]="Host",ft[ft.Self=2]="Self",ft[ft.SkipSelf=4]="SkipSelf",ft[ft.Optional=8]="Optional",ft))();let li;function Xn(o){const a=li;return li=o,a}function Zi(o,a,c){const d=$t(o);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:c&ft.Optional?null:void 0!==a?a:void Te(ye(o))}function Mn(o){return{toString:o}.toString()}var Kt=(()=>((Kt=Kt||{})[Kt.OnPush=0]="OnPush",Kt[Kt.Default=1]="Default",Kt))(),mt=(()=>{return(o=mt||(mt={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",mt;var o})();const fn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Wn={},Gt=[],Zn=ge({\u0275cmp:ge}),jt=ge({\u0275dir:ge}),lr=ge({\u0275pipe:ge}),cn=ge({\u0275mod:ge}),Jn=ge({\u0275fac:ge}),Dn=ge({__NG_ELEMENT_ID__:ge});let Yn=0;function zn(o){return Mn(()=>{const c=!0===o.standalone,d={},f={type:o.type,providersResolver:null,decls:o.decls,vars:o.vars,factory:null,template:o.template||null,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:o.exportAs||null,onPush:o.changeDetection===Kt.OnPush,directiveDefs:null,pipeDefs:null,standalone:c,dependencies:c&&o.dependencies||null,getStandaloneInjector:null,selectors:o.selectors||Gt,viewQuery:o.viewQuery||null,features:o.features||null,data:o.data||{},encapsulation:o.encapsulation||mt.Emulated,id:"c"+Yn++,styles:o.styles||Gt,_:null,setInput:null,schemas:o.schemas||null,tView:null},g=o.dependencies,v=o.features;return f.inputs=G(o.inputs,d),f.outputs=G(o.outputs),v&&v.forEach(C=>C(f)),f.directiveDefs=g?()=>("function"==typeof g?g():g).map(ei).filter(Si):null,f.pipeDefs=g?()=>("function"==typeof g?g():g).map(X).filter(Si):null,f})}function ei(o){return x(o)||M(o)}function Si(o){return null!==o}function wi(o){return Mn(()=>({type:o.type,bootstrap:o.bootstrap||Gt,declarations:o.declarations||Gt,imports:o.imports||Gt,exports:o.exports||Gt,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function G(o,a){if(null==o)return Wn;const c={};for(const d in o)if(o.hasOwnProperty(d)){let f=o[d],g=f;Array.isArray(f)&&(g=f[1],f=f[0]),c[f]=d,a&&(a[f]=g)}return c}const j=zn;function R(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function x(o){return o[Zn]||null}function M(o){return o[jt]||null}function X(o){return o[lr]||null}function Ce(o){const a=x(o)||M(o)||X(o);return null!==a&&a.standalone}function rt(o,a){const c=o[cn]||null;if(!c&&!0===a)throw new Error(`Type ${ye(o)} does not have '\u0275mod' property.`);return c}const U=10;function ke(o){return Array.isArray(o)&&"object"==typeof o[1]}function qe(o){return Array.isArray(o)&&!0===o[1]}function Mt(o){return 0!=(8&o.flags)}function F(o){return 2==(2&o.flags)}function Y(o){return 1==(1&o.flags)}function ue(o){return null!==o.template}function Ye(o){return 0!=(256&o[2])}function cs(o,a){return o.hasOwnProperty(Jn)?o[Jn]:null}class Hr{constructor(a,c,d){this.previousValue=a,this.currentValue=c,this.firstChange=d}isFirstChange(){return this.firstChange}}function pa(){return Ao}function Ao(o){return o.type.prototype.ngOnChanges&&(o.setInput=lo),ma}function ma(){const o=yu(this),a=o?.current;if(a){const c=o.previous;if(c===Wn)o.previous=a;else for(let d in a)c[d]=a[d];o.current=null,this.ngOnChanges(a)}}function lo(o,a,c,d){const f=yu(o)||function co(o,a){return o[_u]=a}(o,{previous:Wn,current:null}),g=f.current||(f.current={}),v=f.previous,C=this.declaredInputs[c],D=v[C];g[C]=new Hr(D&&D.currentValue,a,v===Wn),o[d]=a}pa.ngInherit=!0;const _u="__ngSimpleChanges__";function yu(o){return o[_u]||null}function In(o){for(;Array.isArray(o);)o=o[0];return o}function xo(o,a){return In(a[o])}function xr(o,a){return In(a[o.index])}function Ya(o,a){return o.data[a]}function H(o,a){return o[a]}function V(o,a){const c=a[o];return ke(c)?c:c[0]}function he(o){return 64==(64&o[2])}function je(o,a){return null==a?null:o[a]}function tt(o){o[18]=0}function Yt(o,a){o[5]+=a;let c=o,d=o[3];for(;null!==d&&(1===a&&1===c[5]||-1===a&&0===c[5]);)d[5]+=a,c=d,d=d[3]}const We={lFrame:dh(null),bindingsEnabled:!0};function uo(){return We.bindingsEnabled}function Oe(){return We.lFrame.lView}function dn(){return We.lFrame.tView}function Ka(o){return We.lFrame.contextLView=o,o[8]}function bu(o){return We.lFrame.contextLView=null,o}function Ji(){let o=wu();for(;null!==o&&64===o.type;)o=o.parent;return o}function wu(){return We.lFrame.currentTNode}function us(o,a){const c=We.lFrame;c.currentTNode=o,c.isParent=a}function Cu(){return We.lFrame.isParent}function Eu(){We.lFrame.isParent=!1}function zr(){const o=We.lFrame;let a=o.bindingRootIndex;return-1===a&&(a=o.bindingRootIndex=o.tView.bindingStartIndex),a}function va(){return We.lFrame.bindingIndex++}function Is(o){const a=We.lFrame,c=a.bindingIndex;return a.bindingIndex=a.bindingIndex+o,c}function Gp(o,a){const c=We.lFrame;c.bindingIndex=c.bindingRootIndex=o,Kl(a)}function Kl(o){We.lFrame.currentDirectiveIndex=o}function ch(o){const a=We.lFrame.currentDirectiveIndex;return-1===a?null:o[a]}function Qa(){return We.lFrame.currentQueryIndex}function Oo(o){We.lFrame.currentQueryIndex=o}function Wp(o){const a=o[1];return 2===a.type?a.declTNode:1===a.type?o[6]:null}function ay(o,a,c){if(c&ft.SkipSelf){let f=a,g=o;for(;!(f=f.parent,null!==f||c&ft.Host||(f=Wp(g),null===f||(g=g[15],10&f.type))););if(null===f)return!1;a=f,o=g}const d=We.lFrame=uh();return d.currentTNode=a,d.lView=o,!0}function Xa(o){const a=uh(),c=o[1];We.lFrame=a,a.currentTNode=c.firstChild,a.lView=o,a.tView=c,a.contextLView=o,a.bindingIndex=c.bindingStartIndex,a.inI18n=!1}function uh(){const o=We.lFrame,a=null===o?null:o.child;return null===a?dh(o):a}function dh(o){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=a),a}function ly(){const o=We.lFrame;return We.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const Zp=ly;function Ja(){const o=ly();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function br(){return We.lFrame.selectedIndex}function ba(o){We.lFrame.selectedIndex=o}function ui(){const o=We.lFrame;return Ya(o.tView,o.selectedIndex)}function cy(){We.lFrame.currentNamespace="svg"}function uy(){!function Kp(){We.lFrame.currentNamespace=null}()}function fh(o,a){for(let c=a.directiveStart,d=a.directiveEnd;c<d;c++){const g=o.data[c].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:C,ngAfterViewInit:D,ngAfterViewChecked:T,ngOnDestroy:A}=g;v&&(o.contentHooks||(o.contentHooks=[])).push(-c,v),C&&((o.contentHooks||(o.contentHooks=[])).push(c,C),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(c,C)),D&&(o.viewHooks||(o.viewHooks=[])).push(-c,D),T&&((o.viewHooks||(o.viewHooks=[])).push(c,T),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(c,T)),null!=A&&(o.destroyHooks||(o.destroyHooks=[])).push(c,A)}}function el(o,a,c){dy(o,a,3,c)}function Du(o,a,c,d){(3&o[2])===c&&dy(o,a,c,d)}function Iu(o,a){let c=o[2];(3&c)===a&&(c&=2047,c+=1,o[2]=c)}function dy(o,a,c,d){const g=d??-1,v=a.length-1;let C=0;for(let D=void 0!==d?65535&o[18]:0;D<v;D++)if("number"==typeof a[D+1]){if(C=a[D],null!=d&&C>=d)break}else a[D]<0&&(o[18]+=65536),(C<g||-1==g)&&(k0(o,c,a,D),o[18]=(4294901760&o[18])+D+2),D++}function k0(o,a,c,d){const f=c[d]<0,g=c[d+1],C=o[f?-c[d]:c[d]];if(f){if(o[2]>>11<o[18]>>16&&(3&o[2])===a){o[2]+=2048;try{g.call(C)}finally{}}}else try{g.call(C)}finally{}}class tl{constructor(a,c,d){this.factory=a,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=d}}function ph(o,a,c){let d=0;for(;d<c.length;){const f=c[d];if("number"==typeof f){if(0!==f)break;d++;const g=c[d++],v=c[d++],C=c[d++];o.setAttribute(a,v,C,g)}else{const g=f,v=c[++d];Jp(g)?o.setProperty(a,g,v):o.setAttribute(a,g,v),d++}}return d}function Su(o){return 3===o||4===o||6===o}function Jp(o){return 64===o.charCodeAt(0)}function Jl(o,a){if(null!==a&&0!==a.length)if(null===o||0===o.length)o=a.slice();else{let c=-1;for(let d=0;d<a.length;d++){const f=a[d];"number"==typeof f?c=f:0===c||em(o,c,f,null,-1===c||2===c?a[++d]:null)}}return o}function em(o,a,c,d,f){let g=0,v=o.length;if(-1===a)v=-1;else for(;g<o.length;){const C=o[g++];if("number"==typeof C){if(C===a){v=-1;break}if(C>a){v=g-1;break}}}for(;g<o.length;){const C=o[g];if("number"==typeof C)break;if(C===c){if(null===d)return void(null!==f&&(o[g+1]=f));if(d===o[g+1])return void(o[g+2]=f)}g++,null!==d&&g++,null!==f&&g++}-1!==v&&(o.splice(v,0,a),g=v+1),o.splice(g++,0,c),null!==d&&o.splice(g++,0,d),null!==f&&o.splice(g++,0,f)}function fy(o){return-1!==o}function ec(o){return 32767&o}function No(o,a){let c=function P0(o){return o>>16}(o),d=a;for(;c>0;)d=d[15],c--;return d}let Fo=!0;function Ts(o){const a=Fo;return Fo=o,a}let _h=0;const Ss={};function il(o,a){const c=nc(o,a);if(-1!==c)return c;const d=a[1];d.firstCreatePass&&(o.injectorIndex=a.length,tc(d.data,o),tc(a,null),tc(d.blueprint,null));const f=Mu(o,a),g=o.injectorIndex;if(fy(f)){const v=ec(f),C=No(f,a),D=C[1].data;for(let T=0;T<8;T++)a[g+T]=C[v+T]|D[v+T]}return a[g+8]=f,g}function tc(o,a){o.push(0,0,0,0,0,0,0,0,a)}function nc(o,a){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===a[o.injectorIndex+8]?-1:o.injectorIndex}function Mu(o,a){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let c=0,d=null,f=a;for(;null!==f;){if(d=wh(f),null===d)return-1;if(c++,f=f[15],-1!==d.injectorIndex)return d.injectorIndex|c<<16}return-1}function wa(o,a,c){!function tm(o,a,c){let d;"string"==typeof c?d=c.charCodeAt(0)||0:c.hasOwnProperty(Dn)&&(d=c[Dn]),null==d&&(d=c[Dn]=_h++);const f=255&d;a.data[o+(f>>5)]|=1<<f}(o,a,c)}function yh(o,a,c){if(c&ft.Optional||void 0!==o)return o;Te()}function py(o,a,c,d){if(c&ft.Optional&&void 0===d&&(d=null),0==(c&(ft.Self|ft.Host))){const f=o[9],g=Xn(void 0);try{return f?f.get(a,d,c&ft.Optional):Zi(a,d,c&ft.Optional)}finally{Xn(g)}}return yh(d,0,c)}function rc(o,a,c,d=ft.Default,f){if(null!==o){if(1024&a[2]){const v=function bh(o,a,c,d,f){let g=o,v=a;for(;null!==g&&null!==v&&1024&v[2]&&!(256&v[2]);){const C=vh(g,v,c,d|ft.Self,Ss);if(C!==Ss)return C;let D=g.parent;if(!D){const T=v[21];if(T){const A=T.get(c,Ss,d);if(A!==Ss)return A}D=wh(v),v=v[15]}g=D}return f}(o,a,c,d,Ss);if(v!==Ss)return v}const g=vh(o,a,c,d,Ss);if(g!==Ss)return g}return py(a,c,d,f)}function vh(o,a,c,d,f){const g=function my(o){if("string"==typeof o)return o.charCodeAt(0)||0;const a=o.hasOwnProperty(Dn)?o[Dn]:void 0;return"number"==typeof a?a>=0?255&a:Fi:a}(c);if("function"==typeof g){if(!ay(a,o,d))return d&ft.Host?yh(f,0,d):py(a,c,d,f);try{const v=g(d);if(null!=v||d&ft.Optional)return v;Te()}finally{Zp()}}else if("number"==typeof g){let v=null,C=nc(o,a),D=-1,T=d&ft.Host?a[16][6]:null;for((-1===C||d&ft.SkipSelf)&&(D=-1===C?Mu(o,a):a[C+8],-1!==D&&rl(d,!1)?(v=a[1],C=ec(D),a=No(D,a)):C=-1);-1!==C;){const A=a[1];if(im(g,C,A.data)){const L=nm(C,a,c,v,d,T);if(L!==Ss)return L}D=a[C+8],-1!==D&&rl(d,a[1].data[C+8]===T)&&im(g,C,a)?(v=A,C=ec(D),a=No(D,a)):C=-1}}return f}function nm(o,a,c,d,f,g){const v=a[1],C=v.data[o+8],A=Au(C,v,c,null==d?F(C)&&Fo:d!=v&&0!=(3&C.type),f&ft.Host&&g===C);return null!==A?Lo(a,v,A,C):Ss}function Au(o,a,c,d,f){const g=o.providerIndexes,v=a.data,C=1048575&g,D=o.directiveStart,A=g>>20,K=f?C+A:o.directiveEnd;for(let se=d?C:C+A;se<K;se++){const Pe=v[se];if(se<D&&c===Pe||se>=D&&Pe.type===c)return se}if(f){const se=v[D];if(se&&ue(se)&&se.type===c)return D}return null}function Lo(o,a,c,d){let f=o[c];const g=a.data;if(function R0(o){return o instanceof tl}(f)){const v=f;v.resolving&&function St(o,a){const c=a?`. Dependency path: ${a.join(" > ")} > ${o}`:"";throw new xe(-200,`Circular dependency in DI detected for ${o}${c}`)}(function _e(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():Ee(o)}(g[c]));const C=Ts(v.canSeeViewProviders);v.resolving=!0;const D=v.injectImpl?Xn(v.injectImpl):null;ay(o,d,ft.Default);try{f=o[c]=v.factory(void 0,g,o,d),a.firstCreatePass&&c>=d.directiveStart&&function hh(o,a,c){const{ngOnChanges:d,ngOnInit:f,ngDoCheck:g}=a.type.prototype;if(d){const v=Ao(a);(c.preOrderHooks||(c.preOrderHooks=[])).push(o,v),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(o,v)}f&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-o,f),g&&((c.preOrderHooks||(c.preOrderHooks=[])).push(o,g),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(o,g))}(c,g[c],a)}finally{null!==D&&Xn(D),Ts(C),v.resolving=!1,Zp()}}return f}function im(o,a,c){return!!(c[a+(o>>5)]&1<<o)}function rl(o,a){return!(o&ft.Self||o&ft.Host&&a)}class Ca{constructor(a,c){this._tNode=a,this._lView=c}get(a,c,d){return rc(this._tNode,this._lView,a,d,c)}}function Fi(){return new Ca(Ji(),Oe())}function rm(o){return Mn(()=>{const a=o.prototype.constructor,c=a[Jn]||sc(a),d=Object.prototype;let f=Object.getPrototypeOf(o.prototype).constructor;for(;f&&f!==d;){const g=f[Jn]||sc(f);if(g&&g!==c)return g;f=Object.getPrototypeOf(f)}return g=>new g})}function sc(o){return Ge(o)?()=>{const a=sc(ee(o));return a&&a()}:cs(o)}function wh(o){const a=o[1],c=a.type;return 2===c?a.declTNode:1===c?o[6]:null}function sm(o){return function ic(o,a){if("class"===a)return o.classes;if("style"===a)return o.styles;const c=o.attrs;if(c){const d=c.length;let f=0;for(;f<d;){const g=c[f];if(Su(g))break;if(0===g)f+=2;else if("number"==typeof g)for(f++;f<d&&"string"==typeof c[f];)f++;else{if(g===a)return c[f+1];f+=2}}}return null}(Ji(),o)}const sl="__parameters__";function Ms(o,a,c){return Mn(()=>{const d=function xu(o){return function(...c){if(o){const d=o(...c);for(const f in d)this[f]=d[f]}}}(a);function f(...g){if(this instanceof f)return d.apply(this,g),this;const v=new f(...g);return C.annotation=v,C;function C(D,T,A){const L=D.hasOwnProperty(sl)?D[sl]:Object.defineProperty(D,sl,{value:[]})[sl];for(;L.length<=A;)L.push(null);return(L[A]=L[A]||[]).push(v),D}}return c&&(f.prototype=Object.create(c.prototype)),f.prototype.ngMetadataName=o,f.annotationCls=f,f})}class Bn{constructor(a,c){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=Xt({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Rr(o,a){void 0===a&&(a=o);for(let c=0;c<o.length;c++){let d=o[c];Array.isArray(d)?(a===o&&(a=o.slice(0,c)),Rr(d,a)):a!==o&&a.push(d)}return a}function Ys(o,a){o.forEach(c=>Array.isArray(c)?Ys(c,a):a(c))}function yy(o,a,c){a>=o.length?o.push(c):o.splice(a,0,c)}function ac(o,a){return a>=o.length-1?o.pop():o.splice(a,1)[0]}function Pu(o,a){const c=[];for(let d=0;d<o;d++)c.push(a);return c}function Xr(o,a,c){let d=Da(o,a);return d>=0?o[1|d]=c:(d=~d,function B0(o,a,c,d){let f=o.length;if(f==a)o.push(c,d);else if(1===f)o.push(d,o[0]),o[0]=c;else{for(f--,o.push(o[f-1],o[f]);f>a;)o[f]=o[f-2],f--;o[a]=c,o[a+1]=d}}(o,d,a,c)),d}function um(o,a){const c=Da(o,a);if(c>=0)return o[1|c]}function Da(o,a){return function Dh(o,a,c){let d=0,f=o.length>>c;for(;f!==d;){const g=d+(f-d>>1),v=o[g<<c];if(a===v)return g<<c;v>a?f=g:d=g+1}return~(f<<c)}(o,a,1)}const Ot={},Li="__NG_DI_FLAG__",Fu="ngTempTokenPath",Vi=/\n/gm,Sh="__source";let cc;function al(o){const a=cc;return cc=o,a}function Vu(o,a=ft.Default){if(void 0===cc)throw new xe(-203,!1);return null===cc?Zi(o,void 0,a):cc.get(o,a&ft.Optional?null:void 0,a)}function Bi(o,a=ft.Default){return(function xn(){return li}()||Vu)(ee(o),a)}function Et(o,a=ft.Default){return"number"!=typeof a&&(a=0|(a.optional&&8)|(a.host&&1)|(a.self&&2)|(a.skipSelf&&4)),Bi(o,a)}function uc(o){const a=[];for(let c=0;c<o.length;c++){const d=ee(o[c]);if(Array.isArray(d)){if(0===d.length)throw new xe(900,!1);let f,g=ft.Default;for(let v=0;v<d.length;v++){const C=d[v],D=Mh(C);"number"==typeof D?-1===D?f=C.token:g|=D:f=C}a.push(Bi(f,g))}else a.push(Bi(d))}return a}function Ia(o,a){return o[Li]=a,o.prototype[Li]=a,o}function Mh(o){return o[Li]}const hs=Ia(Ms("Optional"),8),Bo=Ia(Ms("SkipSelf"),4);var Rs=(()=>((Rs=Rs||{})[Rs.Important=1]="Important",Rs[Rs.DashCase=2]="DashCase",Rs))();const Vh=new Map;let Cy=0;const Os="__ngContext__";function qt(o,a){ke(a)?(o[Os]=a[20],function Bh(o){Vh.set(o[20],o)}(a)):o[Os]=a}function gc(o,a){return undefined(o,a)}function _c(o){const a=o[3];return qe(a)?a[3]:a}function hl(o){return m(o[13])}function b(o){return m(o[4])}function m(o){for(;null!==o&&!qe(o);)o=o[4];return o}function w(o,a,c,d,f){if(null!=d){let g,v=!1;qe(d)?g=d:ke(d)&&(v=!0,d=d[0]);const C=In(d);0===o&&null!==c?null==f?Zu(a,c,C):go(a,c,C,f||null,!0):1===o&&null!==c?go(a,c,C,f||null,!0):2===o?function Ry(o,a,c){const d=Em(o,a);d&&function vc(o,a,c,d){o.removeChild(a,c,d)}(o,d,a,c)}(a,C,v):3===o&&a.destroyNode(C),null!=g&&function IS(o,a,c,d,f){const g=c[7];g!==In(c)&&w(a,o,d,g,f);for(let C=U;C<c.length;C++){const D=c[C];$h(D[1],D,o,a,d,g)}}(a,o,g,c,f)}}function fe(o,a,c){return o.createElement(a,c)}function po(o,a){const c=o[9],d=c.indexOf(a),f=a[3];512&a[2]&&(a[2]&=-513,Yt(f,-1)),c.splice(d,1)}function jo(o,a){if(o.length<=U)return;const c=U+a,d=o[c];if(d){const f=d[17];null!==f&&f!==o&&po(f,d),a>0&&(o[c-1][4]=d[4]);const g=ac(o,U+a);!function Ze(o,a){$h(o,a,a[11],2,null,null),a[0]=null,a[6]=null}(d[1],d);const v=g[19];null!==v&&v.detachView(g[1]),d[3]=null,d[4]=null,d[2]&=-65}return d}function mo(o,a){if(!(128&a[2])){const c=a[11];c.destroyNode&&$h(o,a,c,3,null,null),function En(o){let a=o[13];if(!a)return yc(o[1],o);for(;a;){let c=null;if(ke(a))c=a[13];else{const d=a[U];d&&(c=d)}if(!c){for(;a&&!a[4]&&a!==o;)ke(a)&&yc(a[1],a),a=a[3];null===a&&(a=o),ke(a)&&yc(a[1],a),c=a&&a[4]}a=c}}(a)}}function yc(o,a){if(!(128&a[2])){a[2]&=-65,a[2]|=128,function Wu(o,a){let c;if(null!=o&&null!=(c=o.destroyHooks))for(let d=0;d<c.length;d+=2){const f=a[c[d]];if(!(f instanceof tl)){const g=c[d+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const C=f[g[v]],D=g[v+1];try{D.call(C)}finally{}}else try{g.call(f)}finally{}}}}(o,a),function zh(o,a){const c=o.cleanup,d=a[7];let f=-1;if(null!==c)for(let g=0;g<c.length-1;g+=2)if("string"==typeof c[g]){const v=c[g+1],C="function"==typeof v?v(a):In(a[v]),D=d[f=c[g+2]],T=c[g+3];"boolean"==typeof T?C.removeEventListener(c[g],D,T):T>=0?d[f=T]():d[f=-T].unsubscribe(),g+=2}else{const v=d[f=c[g+1]];c[g].call(v)}if(null!==d){for(let g=f+1;g<d.length;g++)(0,d[g])();a[7]=null}}(o,a),1===a[1].type&&a[11].destroy();const c=a[17];if(null!==c&&qe(a[3])){c!==a[3]&&po(c,a);const d=a[19];null!==d&&d.detachView(o)}!function ym(o){Vh.delete(o[20])}(a)}}function $o(o,a,c){return function jh(o,a,c){let d=a;for(;null!==d&&40&d.type;)d=(a=d).parent;if(null===d)return c[0];if(2&d.flags){const f=o.data[d.directiveStart].encapsulation;if(f===mt.None||f===mt.Emulated)return null}return xr(d,c)}(o,a.parent,c)}function go(o,a,c,d,f){o.insertBefore(a,c,d,f)}function Zu(o,a,c){o.appendChild(a,c)}function Cm(o,a,c,d,f){null!==d?go(o,a,c,d,f):Zu(o,a,c)}function Em(o,a){return o.parentNode(a)}function $0(o,a,c){return Ay(o,a,c)}let Im,fl,Sm,Ay=function My(o,a,c){return 40&o.type?xr(o,c):null};function Go(o,a,c,d){const f=$o(o,d,a),g=a[11],C=$0(d.parent||a[6],d,a);if(null!=f)if(Array.isArray(c))for(let D=0;D<c.length;D++)Cm(g,f,c[D],C,!1);else Cm(g,f,c,C,!1)}function bc(o,a){if(null!==a){const c=a.type;if(3&c)return xr(a,o);if(4&c)return ky(-1,o[a.index]);if(8&c){const d=a.child;if(null!==d)return bc(o,d);{const f=o[a.index];return qe(f)?ky(-1,f):In(f)}}if(32&c)return gc(a,o)()||In(o[a.index]);{const d=xy(o,a);return null!==d?Array.isArray(d)?d[0]:bc(_c(o[16]),d):bc(o,a.next)}}return null}function xy(o,a){return null!==a?o[16][6].projection[a.projection]:null}function ky(o,a){const c=U+o+1;if(c<a.length){const d=a[c],f=d[1].firstChild;if(null!==f)return bc(d,f)}return a[7]}function Oy(o,a,c,d,f,g,v){for(;null!=c;){const C=d[c.index],D=c.type;if(v&&0===a&&(C&&qt(In(C),d),c.flags|=4),64!=(64&c.flags))if(8&D)Oy(o,a,c.child,d,f,g,!1),w(a,o,f,C,g);else if(32&D){const T=gc(c,d);let A;for(;A=T();)w(a,o,f,A,g);w(a,o,f,C,g)}else 16&D?G0(o,a,d,c,f,g):w(a,o,f,C,g);c=v?c.projectionNext:c.next}}function $h(o,a,c,d,f,g){Oy(c,d,o.firstChild,a,f,g,!1)}function G0(o,a,c,d,f,g){const v=c[16],D=v[6].projection[d.projection];if(Array.isArray(D))for(let T=0;T<D.length;T++)w(a,o,f,D[T],g);else Oy(o,a,D,v[3],f,g,!0)}function q0(o,a,c){o.setAttribute(a,"style",c)}function Py(o,a,c){""===c?o.removeAttribute(a,"class"):o.setAttribute(a,"class",c)}function wc(o){return function Tm(){if(void 0===Im&&(Im=null,fn.trustedTypes))try{Im=fn.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return Im}()?.createHTML(o)||o}function Y0(o){fl=o}function Ly(o){return function qo(){if(void 0===Sm&&(Sm=null,fn.trustedTypes))try{Sm=fn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return Sm}()?.createHTML(o)||o}class pl{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Vy extends pl{getTypeName(){return"HTML"}}class Q0 extends pl{getTypeName(){return"Style"}}class By extends pl{getTypeName(){return"Script"}}class Uy extends pl{getTypeName(){return"URL"}}class SS extends pl{getTypeName(){return"ResourceURL"}}function Ns(o){return o instanceof pl?o.changingThisBreaksApplicationSecurity:o}function Ku(o,a){const c=function MS(o){return o instanceof pl&&o.getTypeName()||null}(o);if(null!=c&&c!==a){if("ResourceURL"===c&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${c} (see https://g.co/ng/security#xss)`)}return c===a}function Hy(o){return new Vy(o)}function X0(o){return new Q0(o)}function J0(o){return new By(o)}function eC(o){return new Uy(o)}function tC(o){return new SS(o)}class qh{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const c=(new window.DOMParser).parseFromString(wc(a),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(a):(c.removeChild(c.firstChild),c)}catch{return null}}}class Mm{constructor(a){if(this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const c=this.inertDocument.createElement("html");this.inertDocument.appendChild(c);const d=this.inertDocument.createElement("body");c.appendChild(d)}}getInertBodyElement(a){const c=this.inertDocument.createElement("template");if("content"in c)return c.innerHTML=wc(a),c;const d=this.inertDocument.createElement("body");return d.innerHTML=wc(a),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(a){const c=a.attributes;for(let f=c.length-1;0<f;f--){const v=c.item(f).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&a.removeAttribute(v)}let d=a.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const AS=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Am(o){return(o=String(o)).match(AS)?o:"unsafe:"+o}function yo(o){const a={};for(const c of o.split(","))a[c]=!0;return a}function Qu(...o){const a={};for(const c of o)for(const d in c)c.hasOwnProperty(d)&&(a[d]=!0);return a}const xS=yo("area,br,col,hr,img,wbr"),kS=yo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),RS=yo("rp,rt"),jy=Qu(xS,Qu(kS,yo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Qu(RS,yo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Qu(RS,kS)),$y=yo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Gy=Qu($y,yo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),yo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Wh=yo("script,style,template");class OS{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let c=a.firstChild,d=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?d=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,d&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let f=this.checkClobberedElement(c,c.nextSibling);if(f){c=f;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(a){const c=a.nodeName.toLowerCase();if(!jy.hasOwnProperty(c))return this.sanitizedSomething=!0,!Wh.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const d=a.attributes;for(let f=0;f<d.length;f++){const g=d.item(f),v=g.name,C=v.toLowerCase();if(!Gy.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let D=g.value;$y[C]&&(D=Am(D)),this.buf.push(" ",v,'="',Zh(D),'"')}return this.buf.push(">"),!0}endElement(a){const c=a.nodeName.toLowerCase();jy.hasOwnProperty(c)&&!xS.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(a){this.buf.push(Zh(a))}checkClobberedElement(a,c){if(c&&(a.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return c}}const PS=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,sC=/([^\#-~ |!])/g;function Zh(o){return o.replace(/&/g,"&amp;").replace(PS,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(sC,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let xm;function oC(o,a){let c=null;try{xm=xm||function nC(o){const a=new Mm(o);return function zy(){try{return!!(new window.DOMParser).parseFromString(wc(""),"text/html")}catch{return!1}}()?new qh(a):a}(o);let d=a?String(a):"";c=xm.getInertBodyElement(d);let f=5,g=d;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,d=g,g=c.innerHTML,c=xm.getInertBodyElement(d)}while(d!==g);return wc((new OS).sanitizeChildren(ml(c)||c))}finally{if(c){const d=ml(c)||c;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function ml(o){return"content"in o&&function Yh(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var tr=(()=>((tr=tr||{})[tr.NONE=0]="NONE",tr[tr.HTML=1]="HTML",tr[tr.STYLE=2]="STYLE",tr[tr.SCRIPT=3]="SCRIPT",tr[tr.URL=4]="URL",tr[tr.RESOURCE_URL=5]="RESOURCE_URL",tr))();function aC(o){const a=Ec();return a?Ly(a.sanitize(tr.HTML,o)||""):Ku(o,"HTML")?Ly(Ns(o)):oC(function Fy(){return void 0!==fl?fl:typeof document<"u"?document:void 0}(),Ee(o))}function Cc(o){const a=Ec();return a?a.sanitize(tr.URL,o)||"":Ku(o,"URL")?Ns(o):Am(Ee(o))}function Ec(){const o=Oe();return o&&o[12]}const Xu=new Bn("ENVIRONMENT_INITIALIZER"),Dc=new Bn("INJECTOR",-1),cC=new Bn("INJECTOR_DEF_TYPES");class uC{get(a,c=Ot){if(c===Ot){const d=new Error(`NullInjectorError: No provider for ${ye(a)}!`);throw d.name="NullInjectorError",d}return c}}function US(...o){return{\u0275providers:dC(0,o)}}function dC(o,...a){const c=[],d=new Set;let f;return Ys(a,g=>{const v=g;qy(v,c,[],d)&&(f||(f=[]),f.push(v))}),void 0!==f&&hC(f,c),c}function hC(o,a){for(let c=0;c<o.length;c++){const{providers:f}=o[c];Ys(f,g=>{a.push(g)})}}function qy(o,a,c,d){if(!(o=ee(o)))return!1;let f=null,g=vi(o);const v=!g&&x(o);if(g||v){if(v&&!v.standalone)return!1;f=o}else{const D=o.ngModule;if(g=vi(D),!g)return!1;f=D}const C=d.has(f);if(v){if(C)return!1;if(d.add(f),v.dependencies){const D="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const T of D)qy(T,a,c,d)}}else{if(!g)return!1;{if(null!=g.imports&&!C){let T;d.add(f);try{Ys(g.imports,A=>{qy(A,a,c,d)&&(T||(T=[]),T.push(A))})}finally{}void 0!==T&&hC(T,a)}if(!C){const T=cs(f)||(()=>new f);a.push({provide:f,useFactory:T,deps:Gt},{provide:cC,useValue:f,multi:!0},{provide:Xu,useValue:()=>Bi(f),multi:!0})}const D=g.providers;null==D||C||Ys(D,A=>{a.push(A)})}}return f!==o&&void 0!==o.providers}const HS=ge({provide:String,useValue:ge});function Wy(o){return null!==o&&"object"==typeof o&&HS in o}function ka(o){return"function"==typeof o}const Qh=new Bn("Set Injector scope."),Ic={},zS={};let Yy;function km(){return void 0===Yy&&(Yy=new uC),Yy}class Tc{}class Xh extends Tc{constructor(a,c,d,f){super(),this.parent=c,this.source=d,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ky(a,v=>this.processProvider(v)),this.records.set(Dc,Sc(void 0,this)),f.has("environment")&&this.records.set(Tc,Sc(void 0,this));const g=this.records.get(Qh);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(cC.multi,Gt,ft.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();for(const a of this._onDestroyHooks)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(a){this._onDestroyHooks.push(a)}runInContext(a){this.assertNotDestroyed();const c=al(this),d=Xn(void 0);try{return a()}finally{al(c),Xn(d)}}get(a,c=Ot,d=ft.Default){this.assertNotDestroyed();const f=al(this),g=Xn(void 0);try{if(!(d&ft.SkipSelf)){let C=this.records.get(a);if(void 0===C){const D=function jS(o){return"function"==typeof o||"object"==typeof o&&o instanceof Bn}(a)&&$t(a);C=D&&this.injectableDefInScope(D)?Sc(Rm(a),Ic):null,this.records.set(a,C)}if(null!=C)return this.hydrate(a,C)}return(d&ft.Self?km():this.parent).get(a,c=d&ft.Optional&&c===Ot?null:c)}catch(v){if("NullInjectorError"===v.name){if((v[Fu]=v[Fu]||[]).unshift(ye(a)),f)throw v;return function ll(o,a,c,d){const f=o[Fu];throw a[Sh]&&f.unshift(a[Sh]),o.message=function xi(o,a,c,d=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.slice(2):o;let f=ye(a);if(Array.isArray(a))f=a.map(ye).join(" -> ");else if("object"==typeof a){let g=[];for(let v in a)if(a.hasOwnProperty(v)){let C=a[v];g.push(v+":"+("string"==typeof C?JSON.stringify(C):ye(C)))}f=`{${g.join(", ")}}`}return`${c}${d?"("+d+")":""}[${f}]: ${o.replace(Vi,"\n  ")}`}("\n"+o.message,f,c,d),o.ngTokenPath=f,o[Fu]=null,o}(v,a,"R3InjectorError",this.source)}throw v}finally{Xn(g),al(f)}}resolveInjectorInitializers(){const a=al(this),c=Xn(void 0);try{const d=this.get(Xu.multi,Gt,ft.Self);for(const f of d)f()}finally{al(a),Xn(c)}}toString(){const a=[],c=this.records;for(const d of c.keys())a.push(ye(d));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new xe(205,!1)}processProvider(a){let c=ka(a=ee(a))?a:ee(a&&a.provide);const d=function Om(o){return Wy(o)?Sc(void 0,o.useValue):Sc(Jh(o),Ic)}(a);if(ka(a)||!0!==a.multi)this.records.get(c);else{let f=this.records.get(c);f||(f=Sc(void 0,Ic,!0),f.factory=()=>uc(f.multi),this.records.set(c,f)),c=a,f.multi.push(a)}this.records.set(c,d)}hydrate(a,c){return c.value===Ic&&(c.value=zS,c.value=c.factory()),"object"==typeof c.value&&c.value&&function gC(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(a){if(!a.providedIn)return!1;const c=ee(a.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}}function Rm(o){const a=$t(o),c=null!==a?a.factory:cs(o);if(null!==c)return c;if(o instanceof Bn)throw new xe(204,!1);if(o instanceof Function)return function mC(o){const a=o.length;if(a>0)throw Pu(a,"?"),new xe(204,!1);const c=function yi(o){const a=o&&(o[An]||o[bi]);if(a){const c=function Qn(o){if(o.hasOwnProperty("name"))return o.name;const a=(""+o).match(/^function\s*([^\s(]+)/);return null===a?"":a[1]}(o);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),a}return null}(o);return null!==c?()=>c.factory(o):()=>new o}(o);throw new xe(204,!1)}function Jh(o,a,c){let d;if(ka(o)){const f=ee(o);return cs(f)||Rm(f)}if(Wy(o))d=()=>ee(o.useValue);else if(function fC(o){return!(!o||!o.useFactory)}(o))d=()=>o.useFactory(...uc(o.deps||[]));else if(function Zy(o){return!(!o||!o.useExisting)}(o))d=()=>Bi(ee(o.useExisting));else{const f=ee(o&&(o.useClass||o.provide));if(!function ef(o){return!!o.deps}(o))return cs(f)||Rm(f);d=()=>new f(...uc(o.deps))}return d}function Sc(o,a,c=!1){return{factory:o,value:a,multi:c?[]:void 0}}function $S(o){return!!o.\u0275providers}function Ky(o,a){for(const c of o)Array.isArray(c)?Ky(c,a):$S(c)?Ky(c.\u0275providers,a):a(c)}class _C{}class qS{resolveComponentFactory(a){throw function Pm(o){const a=Error(`No component factory found for ${ye(o)}. Did you add it to @NgModule.entryComponents?`);return a.ngComponent=o,a}(a)}}let tf=(()=>{class o{}return o.NULL=new qS,o})();function WS(){return Ju(Ji(),Oe())}function Ju(o,a){return new nf(xr(o,a))}let nf=(()=>{class o{constructor(c){this.nativeElement=c}}return o.__NG_ELEMENT_ID__=WS,o})();function vC(o){return o instanceof nf?o.nativeElement:o}class Qy{}let bC=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>function wC(){const o=Oe(),c=V(Ji().index,o);return(ke(c)?c:o)[11]}(),o})(),CC=(()=>{class o{}return o.\u0275prov=Xt({token:o,providedIn:"root",factory:()=>null}),o})();class Xy{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const EC=new Xy("14.3.0"),Jy={};function tv(o){return o.ngOriginalError}class rf{constructor(){this._console=console}handleError(a){const c=this._findOriginalError(a);this._console.error("ERROR",a),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(a){let c=a&&tv(a);for(;c&&tv(c);)c=tv(c);return c||null}}function Ra(o){return o instanceof Function?o():o}function sf(o,a,c){let d=o.length;for(;;){const f=o.indexOf(a,c);if(-1===f)return f;if(0===f||o.charCodeAt(f-1)<=32){const g=a.length;if(f+g===d||o.charCodeAt(f+g)<=32)return f}c=f+1}}const kC="ng-template";function QS(o,a,c){let d=0;for(;d<o.length;){let f=o[d++];if(c&&"class"===f){if(f=o[d],-1!==sf(f.toLowerCase(),a,0))return!0}else if(1===f){for(;d<o.length&&"string"==typeof(f=o[d++]);)if(f.toLowerCase()===a)return!0;return!1}}return!1}function RC(o){return 4===o.type&&o.value!==kC}function XS(o,a,c){return a===(4!==o.type||c?o.value:kC)}function OC(o,a,c){let d=4;const f=o.attrs||[],g=function td(o){for(let a=0;a<o.length;a++)if(Su(o[a]))return a;return o.length}(f);let v=!1;for(let C=0;C<a.length;C++){const D=a[C];if("number"!=typeof D){if(!v)if(4&d){if(d=2|1&d,""!==D&&!XS(o,D,c)||""===D&&1===a.length){if(Un(d))return!1;v=!0}}else{const T=8&d?D:a[++C];if(8&d&&null!==o.attrs){if(!QS(o.attrs,T,c)){if(Un(d))return!1;v=!0}continue}const L=JS(8&d?"class":D,f,RC(o),c);if(-1===L){if(Un(d))return!1;v=!0;continue}if(""!==T){let K;K=L>g?"":f[L+1].toLowerCase();const se=8&d?K:null;if(se&&-1!==sf(se,T,0)||2&d&&T!==K){if(Un(d))return!1;v=!0}}}}else{if(!v&&!Un(d)&&!Un(D))return!1;if(v&&Un(D))continue;v=!1,d=D|1&d}}return Un(d)||v}function Un(o){return 0==(1&o)}function JS(o,a,c,d){if(null===a)return-1;let f=0;if(d||!c){let g=!1;for(;f<a.length;){const v=a[f];if(v===o)return f;if(3===v||6===v)g=!0;else{if(1===v||2===v){let C=a[++f];for(;"string"==typeof C;)C=a[++f];continue}if(4===v)break;if(0===v){f+=4;continue}}f+=g?1:2}return-1}return function eM(o,a){let c=o.indexOf(4);if(c>-1)for(c++;c<o.length;){const d=o[c];if("number"==typeof d)return-1;if(d===a)return c;c++}return-1}(a,o)}function iv(o,a,c=!1){for(let d=0;d<a.length;d++)if(OC(o,a[d],c))return!0;return!1}function tM(o,a){e:for(let c=0;c<a.length;c++){const d=a[c];if(o.length===d.length){for(let f=0;f<o.length;f++)if(o[f]!==d[f])continue e;return!0}}return!1}function sv(o,a){return o?":not("+a.trim()+")":a}function $1(o){let a=o[0],c=1,d=2,f="",g=!1;for(;c<o.length;){let v=o[c];if("string"==typeof v)if(2&d){const C=o[++c];f+="["+v+(C.length>0?'="'+C+'"':"")+"]"}else 8&d?f+="."+v:4&d&&(f+=" "+v);else""!==f&&!Un(v)&&(a+=sv(g,f),f=""),d=v,g=g||!Un(d);c++}return""!==f&&(a+=sv(g,f)),a}const mn={};function ov(o){af(dn(),Oe(),br()+o,!1)}function af(o,a,c,d){if(!d)if(3==(3&a[2])){const g=o.preOrderCheckHooks;null!==g&&el(a,g,c)}else{const g=o.preOrderHooks;null!==g&&Du(a,g,0,c)}ba(c)}function FC(o,a=null,c=null,d){const f=LC(o,a,c,d);return f.resolveInjectorInitializers(),f}function LC(o,a=null,c=null,d,f=new Set){const g=[c||Gt,US(o)];return d=d||("object"==typeof o?void 0:ye(o)),new Xh(g,a||km(),d||null,f)}let gl=(()=>{class o{static create(c,d){if(Array.isArray(c))return FC({name:""},d,c,"");{const f=c.name??"";return FC({name:f},c.parent,c.providers,f)}}}return o.THROW_IF_NOT_FOUND=Ot,o.NULL=new uC,o.\u0275prov=Xt({token:o,providedIn:"any",factory:()=>Bi(Dc)}),o.__NG_ELEMENT_ID__=-1,o})();function Fs(o,a=ft.Default){const c=Oe();return null===c?Bi(o,a):rc(Ji(),c,ee(o),a)}function qC(){throw new Error("invalid")}function lf(o,a){return o<<17|a<<2}function Xs(o){return o>>17&32767}function Vm(o){return 2|o}function Yo(o){return(131068&o)>>2}function Bm(o,a){return-131069&o|a<<2}function sd(o){return 1|o}function od(o,a){const c=o.contentQueries;if(null!==c)for(let d=0;d<c.length;d+=2){const f=c[d],g=c[d+1];if(-1!==g){const v=o.data[g];Oo(f),v.contentQueries(2,a[g],g)}}}function yl(o,a,c,d,f,g,v,C,D,T,A){const L=a.blueprint.slice();return L[0]=f,L[2]=76|d,(null!==A||o&&1024&o[2])&&(L[2]|=1024),tt(L),L[3]=L[15]=o,L[8]=c,L[10]=v||o&&o[10],L[11]=C||o&&o[11],L[12]=D||o&&o[12]||null,L[9]=T||o&&o[9]||null,L[6]=g,L[20]=function gm(){return Cy++}(),L[21]=A,L[16]=2==a.type?o[16]:L,L}function vl(o,a,c,d,f){let g=o.data[a];if(null===g)g=function Zm(o,a,c,d,f){const g=wu(),v=Cu(),D=o.data[a]=function Qm(o,a,c,d,f,g){return{type:c,index:d,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,c,a,d,f);return null===o.firstChild&&(o.firstChild=D),null!==g&&(v?null==g.child&&null!==D.parent&&(g.child=D):null===g.next&&(g.next=D)),D}(o,a,c,d,f),function Yl(){return We.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=c,g.value=d,g.attrs=f;const v=function Ro(){const o=We.lFrame,a=o.currentTNode;return o.isParent?a:a.parent}();g.injectorIndex=null===v?-1:v.injectorIndex}return us(g,!0),g}function bl(o,a,c,d){if(0===c)return-1;const f=a.length;for(let g=0;g<c;g++)a.push(d),o.blueprint.push(d),o.data.push(null);return f}function Ym(o,a,c){Xa(a);try{const d=o.viewQuery;null!==d&&ng(1,d,c);const f=o.template;null!==f&&bv(o,a,f,1,c),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&od(o,a),o.staticViewQueries&&ng(2,o.viewQuery,c);const g=o.components;null!==g&&function ad(o,a){for(let c=0;c<a.length;c++)sP(o,a[c])}(a,g)}catch(d){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),d}finally{a[2]&=-5,Ja()}}function xc(o,a,c,d){const f=a[2];if(128!=(128&f)){Xa(a);try{tt(a),function Zl(o){return We.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==c&&bv(o,a,c,2,d);const v=3==(3&f);if(v){const T=o.preOrderCheckHooks;null!==T&&el(a,T,null)}else{const T=o.preOrderHooks;null!==T&&Du(a,T,0,null),Iu(a,0)}if(function mE(o){for(let a=hl(o);null!==a;a=b(a)){if(!a[2])continue;const c=a[9];for(let d=0;d<c.length;d++){const f=c[d],g=f[3];0==(512&f[2])&&Yt(g,1),f[2]|=512}}}(a),function TM(o){for(let a=hl(o);null!==a;a=b(a))for(let c=U;c<a.length;c++){const d=a[c],f=d[1];he(d)&&xc(f,d,f.template,d[8])}}(a),null!==o.contentQueries&&od(o,a),v){const T=o.contentCheckHooks;null!==T&&el(a,T)}else{const T=o.contentHooks;null!==T&&Du(a,T,1),Iu(a,1)}!function vv(o,a){const c=o.hostBindingOpCodes;if(null!==c)try{for(let d=0;d<c.length;d++){const f=c[d];if(f<0)ba(~f);else{const g=f,v=c[++d],C=c[++d];Gp(v,g),C(2,a[g])}}}finally{ba(-1)}}(o,a);const C=o.components;null!==C&&function Wm(o,a){for(let c=0;c<a.length;c++)rP(o,a[c])}(a,C);const D=o.viewQuery;if(null!==D&&ng(2,D,d),v){const T=o.viewCheckHooks;null!==T&&el(a,T)}else{const T=o.viewHooks;null!==T&&Du(a,T,2),Iu(a,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),a[2]&=-41,512&a[2]&&(a[2]&=-513,Yt(a[3],-1))}finally{Ja()}}}function bv(o,a,c,d,f){const g=br(),v=2&d;try{ba(-1),v&&a.length>22&&af(o,a,22,!1),c(d,f)}finally{ba(g)}}function wv(o,a,c){if(Mt(a)){const f=a.directiveEnd;for(let g=a.directiveStart;g<f;g++){const v=o.data[g];v.contentQueries&&v.contentQueries(1,c[g],g)}}}function ld(o,a,c){!uo()||(function wM(o,a,c,d){const f=c.directiveStart,g=c.directiveEnd;o.firstCreatePass||il(c,a),qt(d,a);const v=c.initialInputs;for(let C=f;C<g;C++){const D=o.data[C],T=ue(D);T&&DM(a,c,D);const A=Lo(a,o,C,c);qt(A,a),null!==v&&fE(0,C-f,A,D,0,v),T&&(V(c.index,a)[8]=A)}}(o,a,c,xr(c,a)),128==(128&c.flags)&&function cE(o,a,c){const d=c.directiveStart,f=c.directiveEnd,g=c.index,v=function qp(){return We.lFrame.currentDirectiveIndex}();try{ba(g);for(let C=d;C<f;C++){const D=o.data[C],T=a[C];Kl(C),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&CM(D,T)}}finally{ba(-1),Kl(v)}}(o,a,c))}function Ko(o,a,c=xr){const d=a.localNames;if(null!==d){let f=a.index+1;for(let g=0;g<d.length;g+=2){const v=d[g+1],C=-1===v?c(a,o):o[v];o[f++]=C}}}function _M(o){const a=o.tView;return null===a||a.incompleteFirstPass?o.tView=rE(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):a}function rE(o,a,c,d,f,g,v,C,D,T){const A=22+d,L=A+f,K=function sE(o,a){const c=[];for(let d=0;d<a;d++)c.push(d<o?null:mn);return c}(A,L),se="function"==typeof T?T():T;return K[1]={type:o,blueprint:K,template:c,queries:null,viewQuery:C,declTNode:a,data:K.slice().fill(null,A),bindingStartIndex:A,expandoStartIndex:L,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:D,consts:se,incompleteFirstPass:!1}}function cd(o,a,c,d){const f=_E(a);null===c?f.push(d):(f.push(c),o.firstCreatePass&&Iv(o).push(d,f.length-1))}function df(o,a,c){for(let d in o)if(o.hasOwnProperty(d)){const f=o[d];(c=null===c?{}:c).hasOwnProperty(d)?c[d].push(a,f):c[d]=[a,f]}return c}function oE(o,a){const d=a.directiveEnd,f=o.data,g=a.attrs,v=[];let C=null,D=null;for(let T=a.directiveStart;T<d;T++){const A=f[T],L=A.inputs,K=null===g||RC(a)?null:pE(L,g);v.push(K),C=df(L,T,C),D=df(A.outputs,T,D)}null!==C&&(C.hasOwnProperty("class")&&(a.flags|=16),C.hasOwnProperty("style")&&(a.flags|=32)),a.initialInputs=v,a.inputs=C,a.outputs=D}function qr(o,a,c,d,f,g,v,C){const D=xr(a,c);let A,T=a.inputs;!C&&null!=T&&(A=T[d])?(rg(o,c,A,d,f),F(a)&&aE(c,a.index)):3&a.type&&(d=function Cv(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(d),f=null!=v?v(f,a.value||"",d):f,g.setProperty(D,d,f))}function aE(o,a){const c=V(a,o);16&c[2]||(c[2]|=32)}function Xm(o,a,c,d){let f=!1;if(uo()){const g=function Ev(o,a,c){const d=o.directiveRegistry;let f=null;if(d)for(let g=0;g<d.length;g++){const v=d[g];iv(c,v.selectors,!1)&&(f||(f=[]),wa(il(c,a),o,v.type),ue(v)?(uE(o,c),f.unshift(v)):f.push(v))}return f}(o,a,c),v=null===d?null:{"":-1};if(null!==g){f=!0,hE(c,o.data.length,g.length);for(let A=0;A<g.length;A++){const L=g[A];L.providersResolver&&L.providersResolver(L)}let C=!1,D=!1,T=bl(o,a,g.length,null);for(let A=0;A<g.length;A++){const L=g[A];c.mergedAttrs=Jl(c.mergedAttrs,L.hostAttrs),EM(o,c,a,T,L),Dv(T,L,v),null!==L.contentQueries&&(c.flags|=8),(null!==L.hostBindings||null!==L.hostAttrs||0!==L.hostVars)&&(c.flags|=128);const K=L.type.prototype;!C&&(K.ngOnChanges||K.ngOnInit||K.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(c.index),C=!0),!D&&(K.ngOnChanges||K.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(c.index),D=!0),T++}oE(o,c)}v&&function dE(o,a,c){if(a){const d=o.localNames=[];for(let f=0;f<a.length;f+=2){const g=c[a[f+1]];if(null==g)throw new xe(-301,!1);d.push(a[f],g)}}}(c,d,v)}return c.mergedAttrs=Jl(c.mergedAttrs,c.attrs),f}function lE(o,a,c,d,f,g){const v=g.hostBindings;if(v){let C=o.hostBindingOpCodes;null===C&&(C=o.hostBindingOpCodes=[]);const D=~a.index;(function iP(o){let a=o.length;for(;a>0;){const c=o[--a];if("number"==typeof c&&c<0)return c}return 0})(C)!=D&&C.push(D),C.push(d,f,v)}}function CM(o,a){null!==o.hostBindings&&o.hostBindings(1,a)}function uE(o,a){a.flags|=2,(o.components||(o.components=[])).push(a.index)}function Dv(o,a,c){if(c){if(a.exportAs)for(let d=0;d<a.exportAs.length;d++)c[a.exportAs[d]]=o;ue(a)&&(c[""]=o)}}function hE(o,a,c){o.flags|=1,o.directiveStart=a,o.directiveEnd=a+c,o.providerIndexes=a}function EM(o,a,c,d,f){o.data[d]=f;const g=f.factory||(f.factory=cs(f.type)),v=new tl(g,ue(f),Fs);o.blueprint[d]=v,c[d]=v,lE(o,a,0,d,bl(o,c,f.hostVars,mn),f)}function DM(o,a,c){const d=xr(a,o),f=_M(c),g=o[10],v=Jm(o,yl(o,f,null,c.onPush?32:16,d,a,g,g.createRenderer(d,c),null,null,null));o[a.index]=v}function ms(o,a,c,d,f,g){const v=xr(o,a);!function wl(o,a,c,d,f,g,v){if(null==g)o.removeAttribute(a,f,c);else{const C=null==v?Ee(g):v(g,d||"",f);o.setAttribute(a,f,C,c)}}(a[11],v,g,o.value,c,d,f)}function fE(o,a,c,d,f,g){const v=g[a];if(null!==v){const C=d.setInput;for(let D=0;D<v.length;){const T=v[D++],A=v[D++],L=v[D++];null!==C?d.setInput(c,L,T,A):c[A]=L}}}function pE(o,a){let c=null,d=0;for(;d<a.length;){const f=a[d];if(0!==f)if(5!==f){if("number"==typeof f)break;o.hasOwnProperty(f)&&(null===c&&(c=[]),c.push(f,o[f],a[d+1])),d+=2}else d+=2;else d+=4}return c}function IM(o,a,c,d){return new Array(o,!0,!1,a,null,0,d,c,null,null)}function rP(o,a){const c=V(a,o);if(he(c)){const d=c[1];48&c[2]?xc(d,c,d.template,c[8]):c[5]>0&&gE(c)}}function gE(o){for(let d=hl(o);null!==d;d=b(d))for(let f=U;f<d.length;f++){const g=d[f];if(he(g))if(512&g[2]){const v=g[1];xc(v,g,v.template,g[8])}else g[5]>0&&gE(g)}const c=o[1].components;if(null!==c)for(let d=0;d<c.length;d++){const f=V(c[d],o);he(f)&&f[5]>0&&gE(f)}}function sP(o,a){const c=V(a,o),d=c[1];(function oP(o,a){for(let c=a.length;c<o.blueprint.length;c++)a.push(o.blueprint[c])})(d,c),Ym(d,c,c[8])}function Jm(o,a){return o[13]?o[14][4]=a:o[13]=a,o[14]=a,a}function eg(o){for(;o;){o[2]|=32;const a=_c(o);if(Ye(o)&&!a)return o;o=a}return null}function tg(o,a,c,d=!0){const f=a[10];f.begin&&f.begin();try{xc(o,a,o.template,c)}catch(v){throw d&&MM(a,v),v}finally{f.end&&f.end()}}function ng(o,a,c){Oo(0),a(o,c)}function _E(o){return o[7]||(o[7]=[])}function Iv(o){return o.cleanup||(o.cleanup=[])}function MM(o,a){const c=o[9],d=c?c.get(rf,null):null;d&&d.handleError(a)}function rg(o,a,c,d,f){for(let g=0;g<c.length;){const v=c[g++],C=c[g++],D=a[v],T=o.data[v];null!==T.setInput?T.setInput(D,f,d,C):D[C]=f}}function hf(o,a,c){let d=c?o.styles:null,f=c?o.classes:null,g=0;if(null!==a)for(let v=0;v<a.length;v++){const C=a[v];"number"==typeof C?g=C:1==g?f=ve(f,C):2==g&&(d=ve(d,C+": "+a[++v]+";"))}c?o.styles=d:o.stylesWithoutHost=d,c?o.classes=f:o.classesWithoutHost=f}function sg(o,a,c,d,f=!1){for(;null!==c;){const g=a[c.index];if(null!==g&&d.push(In(g)),qe(g))for(let C=U;C<g.length;C++){const D=g[C],T=D[1].firstChild;null!==T&&sg(D[1],D,T,d)}const v=c.type;if(8&v)sg(o,a,c.child,d);else if(32&v){const C=gc(c,a);let D;for(;D=C();)d.push(D)}else if(16&v){const C=xy(a,c);if(Array.isArray(C))d.push(...C);else{const D=_c(a[16]);sg(D[1],D,C,d,!0)}}c=f?c.projectionNext:c.next}return d}class ud{constructor(a,c){this._lView=a,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const a=this._lView,c=a[1];return sg(c,a,c.firstChild,[])}get context(){return this._lView[8]}set context(a){this._lView[8]=a}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[3];if(qe(a)){const c=a[8],d=c?c.indexOf(this):-1;d>-1&&(jo(a,d),ac(c,d))}this._attachedToViewContainer=!1}mo(this._lView[1],this._lView)}onDestroy(a){cd(this._lView[1],this._lView,null,a)}markForCheck(){eg(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){tg(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new xe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Lt(o,a){$h(o,a,a[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new xe(902,!1);this._appRef=a}}class Tv extends ud{constructor(a){super(a),this._view=a}detectChanges(){const a=this._view;tg(a[1],a,a[8],!1)}checkNoChanges(){}get context(){return null}}class Sv extends tf{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const c=x(a);return new ff(c,this.ngModule)}}function Mv(o){const a=[];for(let c in o)o.hasOwnProperty(c)&&a.push({propName:o[c],templateName:c});return a}class Qo{constructor(a,c){this.injector=a,this.parentInjector=c}get(a,c,d){const f=this.injector.get(a,Jy,d);return f!==Jy||c===Jy?f:this.parentInjector.get(a,c,d)}}class ff extends _C{constructor(a,c){super(),this.componentDef=a,this.ngModule=c,this.componentType=a.type,this.selector=function G1(o){return o.map($1).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!c}get inputs(){return Mv(this.componentDef.inputs)}get outputs(){return Mv(this.componentDef.outputs)}create(a,c,d,f){let g=(f=f||this.ngModule)instanceof Tc?f:f?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const v=g?new Qo(a,g):a,C=v.get(Qy,null);if(null===C)throw new xe(407,!1);const D=v.get(CC,null),T=C.createRenderer(null,this.componentDef),A=this.componentDef.selectors[0][0]||"div",L=d?function Km(o,a,c){return o.selectRootElement(a,c===mt.ShadowDom)}(T,d,this.componentDef.encapsulation):fe(T,A,function AM(o){const a=o.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}(A)),K=this.componentDef.onPush?288:272,se=rE(0,null,null,1,0,null,null,null,null,null),Pe=yl(null,se,null,K,null,null,C,T,D,v,null);let Qe,ut;Xa(Pe);try{const Rt=function kM(o,a,c,d,f,g){const v=c[1];c[22]=o;const D=vl(v,22,2,"#host",null),T=D.mergedAttrs=a.hostAttrs;null!==T&&(hf(D,T,!0),null!==o&&(ph(f,o,T),null!==D.classes&&Py(f,o,D.classes),null!==D.styles&&q0(f,o,D.styles)));const A=d.createRenderer(o,a),L=yl(c,_M(a),null,a.onPush?32:16,c[22],D,d,A,g||null,null,null);return v.firstCreatePass&&(wa(il(D,c),v,a.type),uE(v,D),hE(D,c.length,1)),Jm(c,L),c[22]=L}(L,this.componentDef,Pe,C,T);if(L)if(d)ph(T,L,["ng-version",EC.full]);else{const{attrs:Wt,classes:ze}=function nM(o){const a=[],c=[];let d=1,f=2;for(;d<o.length;){let g=o[d];if("string"==typeof g)2===f?""!==g&&a.push(g,o[++d]):8===f&&c.push(g);else{if(!Un(f))break;f=g}d++}return{attrs:a,classes:c}}(this.componentDef.selectors[0]);Wt&&ph(T,L,Wt),ze&&ze.length>0&&Py(T,L,ze.join(" "))}if(ut=Ya(se,22),void 0!==c){const Wt=ut.projection=[];for(let ze=0;ze<this.ngContentSelectors.length;ze++){const rn=c[ze];Wt.push(null!=rn?Array.from(rn):null)}}Qe=function dd(o,a,c,d){const f=c[1],g=function bM(o,a,c){const d=Ji();o.firstCreatePass&&(c.providersResolver&&c.providersResolver(c),EM(o,d,a,bl(o,a,1,null),c),oE(o,d));const f=Lo(a,o,d.directiveStart,d);qt(f,a);const g=xr(d,a);return g&&qt(g,a),f}(f,c,a);if(o[8]=c[8]=g,null!==d)for(const C of d)C(g,a);if(a.contentQueries){const C=Ji();a.contentQueries(1,g,C.directiveStart)}const v=Ji();return!f.firstCreatePass||null===a.hostBindings&&null===a.hostAttrs||(ba(v.index),lE(c[1],v,0,v.directiveStart,v.directiveEnd,a),CM(a,g)),g}(Rt,this.componentDef,Pe,[RM]),Ym(se,Pe,null)}finally{Ja()}return new xv(this.componentType,Qe,Ju(ut,Pe),Pe,ut)}}class xv extends class GS{}{constructor(a,c,d,f,g){super(),this.location=d,this._rootLView=f,this._tNode=g,this.instance=c,this.hostView=this.changeDetectorRef=new Tv(f),this.componentType=a}setInput(a,c){const d=this._tNode.inputs;let f;if(null!==d&&(f=d[a])){const g=this._rootLView;rg(g[1],g,f,a,c),aE(g,this._tNode.index)}}get injector(){return new Ca(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function RM(){const o=Ji();fh(Oe()[1],o)}function Rv(o){let a=function kv(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),c=!0;const d=[o];for(;a;){let f;if(ue(o))f=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new xe(903,!1);f=a.\u0275dir}if(f){if(c){d.push(f);const v=o;v.inputs=Pv(o.inputs),v.declaredInputs=Pv(o.declaredInputs),v.outputs=Pv(o.outputs);const C=f.hostBindings;C&&PM(o,C);const D=f.viewQuery,T=f.contentQueries;if(D&&OM(o,D),T&&vE(o,T),re(o.inputs,f.inputs),re(o.declaredInputs,f.declaredInputs),re(o.outputs,f.outputs),ue(f)&&f.data.animation){const A=o.data;A.animation=(A.animation||[]).concat(f.data.animation)}}const g=f.features;if(g)for(let v=0;v<g.length;v++){const C=g[v];C&&C.ngInherit&&C(o),C===Rv&&(c=!1)}}a=Object.getPrototypeOf(a)}!function Ov(o){let a=0,c=null;for(let d=o.length-1;d>=0;d--){const f=o[d];f.hostVars=a+=f.hostVars,f.hostAttrs=Jl(f.hostAttrs,c=Jl(c,f.hostAttrs))}}(d)}function Pv(o){return o===Wn?{}:o===Gt?[]:o}function OM(o,a){const c=o.viewQuery;o.viewQuery=c?(d,f)=>{a(d,f),c(d,f)}:a}function vE(o,a){const c=o.contentQueries;o.contentQueries=c?(d,f,g)=>{a(d,f,g),c(d,f,g)}:a}function PM(o,a){const c=o.hostBindings;o.hostBindings=c?(d,f)=>{a(d,f),c(d,f)}:a}let pf=null;function Cl(){if(!pf){const o=fn.Symbol;if(o&&o.iterator)pf=o.iterator;else{const a=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<a.length;++c){const d=a[c];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(pf=d)}}}return pf}function mf(o){return!!og(o)&&(Array.isArray(o)||!(o instanceof Map)&&Cl()in o)}function og(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function Xo(o,a,c){return o[a]=c}function Or(o,a,c){return!Object.is(o[a],c)&&(o[a]=c,!0)}function ag(o,a,c,d){const f=Oe();return Or(f,va(),a)&&(dn(),ms(ui(),f,o,a,c,d)),ag}function Rc(o,a,c,d){return Or(o,va(),c)?a+Ee(c)+d:mn}function ea(o,a,c,d,f,g,v,C){const D=Oe(),T=dn(),A=o+22,L=T.firstCreatePass?function wo(o,a,c,d,f,g,v,C,D){const T=a.consts,A=vl(a,o,4,v||null,je(T,C));Xm(a,c,A,je(T,D)),fh(a,A);const L=A.tViews=rE(2,A,d,f,g,a.directiveRegistry,a.pipeRegistry,null,a.schemas,T);return null!==a.queries&&(a.queries.template(a,A),L.queries=a.queries.embeddedTView(A)),A}(A,T,D,a,c,d,f,g,v):T.data[A];us(L,!1);const K=D[11].createComment("");Go(T,D,K,L),qt(K,D),Jm(D,D[A]=IM(K,D,K,L)),Y(L)&&ld(T,D,L),null!=v&&Ko(D,L,C)}function zM(o){return H(function fi(){return We.lFrame.contextLView}(),22+o)}function Bv(o,a,c){const d=Oe();return Or(d,va(),a)&&qr(dn(),ui(),d,o,a,d[11],c,!1),Bv}function bf(o,a,c,d,f){const v=f?"class":"style";rg(o,c,a.inputs[v],v,d)}function cg(o,a,c,d){const f=Oe(),g=dn(),v=22+o,C=f[11],D=f[v]=fe(C,a,function x0(){return We.lFrame.currentNamespace}()),T=g.firstCreatePass?function jM(o,a,c,d,f,g,v){const C=a.consts,T=vl(a,o,2,f,je(C,g));return Xm(a,c,T,je(C,v)),null!==T.attrs&&hf(T,T.attrs,!1),null!==T.mergedAttrs&&hf(T,T.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,T),T}(v,g,f,0,a,c,d):g.data[v];us(T,!0);const A=T.mergedAttrs;null!==A&&ph(C,D,A);const L=T.classes;null!==L&&Py(C,D,L);const K=T.styles;return null!==K&&q0(C,D,K),64!=(64&T.flags)&&Go(g,f,D,T),0===function cr(){return We.lFrame.elementDepthCount}()&&qt(D,f),function kr(){We.lFrame.elementDepthCount++}(),Y(T)&&(ld(g,f,T),wv(g,T,f)),null!==d&&Ko(f,T),cg}function ug(){let o=Ji();Cu()?Eu():(o=o.parent,us(o,!1));const a=o;!function Xi(){We.lFrame.elementDepthCount--}();const c=dn();return c.firstCreatePass&&(fh(c,o),Mt(o)&&c.queries.elementEnd(o)),null!=a.classesWithoutHost&&function O0(o){return 0!=(16&o.flags)}(a)&&bf(c,a,Oe(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function hy(o){return 0!=(32&o.flags)}(a)&&bf(c,a,Oe(),a.stylesWithoutHost,!1),ug}function Uv(o,a,c,d){return cg(o,a,c,d),ug(),Uv}function Hv(o,a,c){const d=Oe(),f=dn(),g=o+22,v=f.firstCreatePass?function $M(o,a,c,d,f){const g=a.consts,v=je(g,d),C=vl(a,o,8,"ng-container",v);return null!==v&&hf(C,v,!0),Xm(a,c,C,je(g,f)),null!==a.queries&&a.queries.elementStart(a,C),C}(g,f,d,a,c):f.data[g];us(v,!0);const C=d[g]=d[11].createComment("");return Go(f,d,C,v),qt(C,d),Y(v)&&(ld(f,d,v),wv(f,v,d)),null!=c&&Ko(d,v),Hv}function zv(){let o=Ji();const a=dn();return Cu()?Eu():(o=o.parent,us(o,!1)),a.firstCreatePass&&(fh(a,o),Mt(o)&&a.queries.elementEnd(o)),zv}function CE(o,a,c){return Hv(o,a,c),zv(),CE}function EE(){return Oe()}function DE(o){return!!o&&"function"==typeof o.then}function GM(o){return!!o&&"function"==typeof o.subscribe}const qM=GM;function ji(o,a,c,d){const f=Oe(),g=dn(),v=Ji();return function Fa(o,a,c,d,f,g,v,C){const D=Y(d),A=o.firstCreatePass&&Iv(o),L=a[8],K=_E(a);let se=!0;if(3&d.type||C){const ut=xr(d,a),Rt=C?C(ut):ut,Wt=K.length,ze=C?jn=>C(In(jn[d.index])):d.index;let rn=null;if(!C&&D&&(rn=function vn(o,a,c,d){const f=o.cleanup;if(null!=f)for(let g=0;g<f.length-1;g+=2){const v=f[g];if(v===c&&f[g+1]===d){const C=a[7],D=f[g+2];return C.length>D?C[D]:null}"string"==typeof v&&(g+=2)}return null}(o,a,f,d.index)),null!==rn)(rn.__ngLastListenerFn__||rn).__ngNextListenerFn__=g,rn.__ngLastListenerFn__=g,se=!1;else{g=jv(d,a,L,g,!1);const jn=c.listen(Rt,f,g);K.push(g,jn),A&&A.push(f,ze,Wt,Wt+1)}}else g=jv(d,a,L,g,!1);const Pe=d.outputs;let Qe;if(se&&null!==Pe&&(Qe=Pe[f])){const ut=Qe.length;if(ut)for(let Rt=0;Rt<ut;Rt+=2){const Di=a[Qe[Rt]][Qe[Rt+1]].subscribe(g),Zc=K.length;K.push(g,Di),A&&A.push(f,d.index,Zc,-(Zc+1))}}}(g,f,f[11],v,o,a,0,d),ji}function dg(o,a,c,d){try{return!1!==c(d)}catch(f){return MM(o,f),!1}}function jv(o,a,c,d,f){return function g(v){if(v===Function)return d;eg(2&o.flags?V(o.index,a):a);let D=dg(a,0,d,v),T=g.__ngNextListenerFn__;for(;T;)D=dg(a,0,T,v)&&D,T=T.__ngNextListenerFn__;return f&&!1===D&&(v.preventDefault(),v.returnValue=!1),D}}function IE(o=1){return function M0(o){return(We.lFrame.contextLView=function A0(o,a){for(;o>0;)a=a[15],o--;return a}(o,We.lFrame.contextLView))[8]}(o)}function $i(o,a){let c=null;const d=function rv(o){const a=o.attrs;if(null!=a){const c=a.indexOf(5);if(0==(1&c))return a[c+1]}return null}(o);for(let f=0;f<a.length;f++){const g=a[f];if("*"!==g){if(null===d?iv(o,g,!0):tM(d,g))return f}else c=f}return c}function TE(o){const a=Oe()[16][6];if(!a.projection){const d=a.projection=Pu(o?o.length:1,null),f=d.slice();let g=a.child;for(;null!==g;){const v=o?$i(g,o):0;null!==v&&(f[v]?f[v].projectionNext=g:d[v]=g,f[v]=g),g=g.next}}}function wf(o,a=0,c){const d=Oe(),f=dn(),g=vl(f,22+o,16,null,c||null);null===g.projection&&(g.projection=a),Eu(),64!=(64&g.flags)&&function DS(o,a,c){G0(a[11],0,a,c,$o(o,c,a),$0(c.parent||a[6],c,a))}(f,d,g)}function Cf(o,a,c){return $v(o,"",a,"",c),Cf}function $v(o,a,c,d,f){const g=Oe(),v=Rc(g,a,c,d);return v!==mn&&qr(dn(),ui(),g,o,v,g[11],f,!1),$v}function Ef(o,a,c,d,f){const g=o[c+1],v=null===a;let C=d?Xs(g):Yo(g),D=!1;for(;0!==C&&(!1===D||v);){const A=o[C+1];hg(o[C],a)&&(D=!0,o[C+1]=d?sd(A):Vm(A)),C=d?Xs(A):Yo(A)}D&&(o[c+1]=d?Vm(g):sd(g))}function hg(o,a){return null===o||null==a||(Array.isArray(o)?o[1]:o)===a||!(!Array.isArray(o)||"string"!=typeof a)&&Da(o,a)>=0}const nr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function OE(o){return o.substring(nr.key,nr.keyEnd)}function NE(o,a){const c=nr.textEnd;return c===a?-1:(a=nr.keyEnd=function FE(o,a,c){for(;a<c&&o.charCodeAt(a)>32;)a++;return a}(o,nr.key=a,c),La(o,a,c))}function La(o,a,c){for(;a<c&&o.charCodeAt(a)<=32;)a++;return a}function Df(o,a,c){return Ls(o,a,c,!1),Df}function fg(o,a){return Ls(o,a,null,!0),fg}function yd(o){Vs(Xr,ta,o,!0)}function ta(o,a){for(let c=function PE(o){return function Yv(o){nr.key=0,nr.keyEnd=0,nr.value=0,nr.valueEnd=0,nr.textEnd=o.length}(o),NE(o,La(o,0,nr.textEnd))}(a);c>=0;c=NE(a,c))Xr(o,OE(a),!0)}function Ls(o,a,c,d){const f=Oe(),g=dn(),v=Is(2);g.firstUpdatePass&&pg(g,o,v,d),a!==mn&&Or(f,v,a)&&_g(g,g.data[br()],f,f[11],o,f[v+1]=function HE(o,a){return null==o||("string"==typeof a?o+=a:"object"==typeof o&&(o=ye(Ns(o)))),o}(a,c),d,v)}function Vs(o,a,c,d){const f=dn(),g=Is(2);f.firstUpdatePass&&pg(f,null,g,d);const v=Oe();if(c!==mn&&Or(v,g,c)){const C=f.data[br()];if(zE(C,d)&&!UE(f,g)){let D=d?C.classesWithoutHost:C.stylesWithoutHost;null!==D&&(c=ve(D,c||"")),bf(f,C,v,c,d)}else!function JM(o,a,c,d,f,g,v,C){f===mn&&(f=Gt);let D=0,T=0,A=0<f.length?f[0]:null,L=0<g.length?g[0]:null;for(;null!==A||null!==L;){const K=D<f.length?f[D+1]:void 0,se=T<g.length?g[T+1]:void 0;let Qe,Pe=null;A===L?(D+=2,T+=2,K!==se&&(Pe=L,Qe=se)):null===L||null!==A&&A<L?(D+=2,Pe=A):(T+=2,Pe=L,Qe=se),null!==Pe&&_g(o,a,c,d,Pe,Qe,v,C),A=D<f.length?f[D]:null,L=T<g.length?g[T]:null}}(f,C,v,v[11],v[g+1],v[g+1]=function mg(o,a,c){if(null==c||""===c)return Gt;const d=[],f=Ns(c);if(Array.isArray(f))for(let g=0;g<f.length;g++)o(d,f[g],!0);else if("object"==typeof f)for(const g in f)f.hasOwnProperty(g)&&o(d,g,f[g]);else"string"==typeof f&&a(d,f);return d}(o,a,c),d,g)}}function UE(o,a){return a>=o.expandoStartIndex}function pg(o,a,c,d){const f=o.data;if(null===f[c+1]){const g=f[br()],v=UE(o,c);zE(g,d)&&null===a&&!v&&(a=!1),a=function Kv(o,a,c,d){const f=ch(o);let g=d?a.residualClasses:a.residualStyles;if(null===f)0===(d?a.classBindings:a.styleBindings)&&(c=If(c=Jv(null,o,a,c,d),a.attrs,d),g=null);else{const v=a.directiveStylingLast;if(-1===v||o[v]!==f)if(c=Jv(f,o,a,c,d),null===g){let D=function Qv(o,a,c){const d=c?a.classBindings:a.styleBindings;if(0!==Yo(d))return o[Xs(d)]}(o,a,d);void 0!==D&&Array.isArray(D)&&(D=Jv(null,o,a,D[1],d),D=If(D,a.attrs,d),function Xv(o,a,c,d){o[Xs(c?a.classBindings:a.styleBindings)]=d}(o,a,d,D))}else g=function XM(o,a,c){let d;const f=a.directiveEnd;for(let g=1+a.directiveStylingLast;g<f;g++)d=If(d,o[g].hostAttrs,c);return If(d,a.attrs,c)}(o,a,d)}return void 0!==g&&(d?a.residualClasses=g:a.residualStyles=g),c}(f,g,a,d),function Wv(o,a,c,d,f,g){let v=g?a.classBindings:a.styleBindings,C=Xs(v),D=Yo(v);o[d]=c;let A,T=!1;if(Array.isArray(c)){const L=c;A=L[1],(null===A||Da(L,A)>0)&&(T=!0)}else A=c;if(f)if(0!==D){const K=Xs(o[C+1]);o[d+1]=lf(K,C),0!==K&&(o[K+1]=Bm(o[K+1],d)),o[C+1]=function WC(o,a){return 131071&o|a<<17}(o[C+1],d)}else o[d+1]=lf(C,0),0!==C&&(o[C+1]=Bm(o[C+1],d)),C=d;else o[d+1]=lf(D,0),0===C?C=d:o[D+1]=Bm(o[D+1],d),D=d;T&&(o[d+1]=Vm(o[d+1])),Ef(o,A,d,!0),Ef(o,A,d,!1),function Zv(o,a,c,d,f){const g=f?o.residualClasses:o.residualStyles;null!=g&&"string"==typeof a&&Da(g,a)>=0&&(c[d+1]=sd(c[d+1]))}(a,A,o,d,g),v=lf(C,D),g?a.classBindings=v:a.styleBindings=v}(f,g,a,c,v,d)}}function Jv(o,a,c,d,f){let g=null;const v=c.directiveEnd;let C=c.directiveStylingLast;for(-1===C?C=c.directiveStart:C++;C<v&&(g=a[C],d=If(d,g.hostAttrs,f),g!==o);)C++;return null!==o&&(c.directiveStylingLast=C),d}function If(o,a,c){const d=c?1:2;let f=-1;if(null!==a)for(let g=0;g<a.length;g++){const v=a[g];"number"==typeof v?f=v:f===d&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),Xr(o,v,!!c||a[++g]))}return void 0===o?null:o}function _g(o,a,c,d,f,g,v,C){if(!(3&a.type))return;const D=o.data,T=D[C+1];vd(function hv(o){return 1==(1&o)}(T)?yg(D,a,c,f,Yo(T),v):void 0)||(vd(g)||function dv(o){return 2==(2&o)}(T)&&(g=yg(D,null,c,f,C,v)),function TS(o,a,c,d,f){if(a)f?o.addClass(c,d):o.removeClass(c,d);else{let g=-1===d.indexOf("-")?void 0:Rs.DashCase;null==f?o.removeStyle(c,d,g):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),g|=Rs.Important),o.setStyle(c,d,f,g))}}(d,v,xo(br(),c),f,g))}function yg(o,a,c,d,f,g){const v=null===a;let C;for(;f>0;){const D=o[f],T=Array.isArray(D),A=T?D[1]:D,L=null===A;let K=c[f+1];K===mn&&(K=L?Gt:void 0);let se=L?um(K,d):A===d?K:void 0;if(T&&!vd(se)&&(se=um(D,d)),vd(se)&&(C=se,v))return C;const Pe=o[f+1];f=v?Xs(Pe):Yo(Pe)}if(null!==a){let D=g?a.residualClasses:a.residualStyles;null!=D&&(C=um(D,d))}return C}function vd(o){return void 0!==o}function zE(o,a){return 0!=(o.flags&(a?16:32))}function eb(o,a=""){const c=Oe(),d=dn(),f=o+22,g=d.firstCreatePass?vl(d,f,1,a,null):d.data[f],v=c[f]=function S(o,a){return o.createText(a)}(c[11],a);Go(d,c,v,g),us(g,!1)}function El(o){return Tf("",o,""),El}function Tf(o,a,c){const d=Oe(),f=Rc(d,o,a,c);return f!==mn&&function Na(o,a,c){const d=xo(a,o);!function k(o,a,c){o.setValue(a,c)}(o[11],d,c)}(d,br(),f),Tf}function QE(o,a,c){Vs(Xr,ta,Rc(Oe(),o,a,c),!0)}function Sf(o,a,c){const d=Oe();return Or(d,va(),a)&&qr(dn(),ui(),d,o,a,d[11],c,!0),Sf}function aD(o,a,c){const d=Oe();if(Or(d,va(),a)){const g=dn(),v=ui();qr(g,v,d,o,a,function yE(o,a,c){return(null===o||ue(o))&&(c=function _a(o){for(;Array.isArray(o);){if("object"==typeof o[1])return o;o=o[0]}return null}(c[a.index])),c[11]}(ch(g.data),v,d),c,!0)}return aD}const Fc=void 0;var aA=["en",[["a","p"],["AM","PM"],Fc],[["AM","PM"],Fc,Fc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Fc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Fc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Fc,"{1} 'at' {0}",Fc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function hP(o){const c=Math.floor(Math.abs(o)),d=o.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===d?1:5}];let bd={};function lD(o){const a=function pP(o){return o.toLowerCase().replace(/_/g,"-")}(o);let c=cA(a);if(c)return c;const d=a.split("-")[0];if(c=cA(d),c)return c;if("en"===d)return aA;throw new xe(701,!1)}function lA(o){return lD(o)[Jt.PluralCase]}function cA(o){return o in bd||(bd[o]=fn.ng&&fn.ng.common&&fn.ng.common.locales&&fn.ng.common.locales[o]),bd[o]}var Jt=(()=>((Jt=Jt||{})[Jt.LocaleId=0]="LocaleId",Jt[Jt.DayPeriodsFormat=1]="DayPeriodsFormat",Jt[Jt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Jt[Jt.DaysFormat=3]="DaysFormat",Jt[Jt.DaysStandalone=4]="DaysStandalone",Jt[Jt.MonthsFormat=5]="MonthsFormat",Jt[Jt.MonthsStandalone=6]="MonthsStandalone",Jt[Jt.Eras=7]="Eras",Jt[Jt.FirstDayOfWeek=8]="FirstDayOfWeek",Jt[Jt.WeekendRange=9]="WeekendRange",Jt[Jt.DateFormat=10]="DateFormat",Jt[Jt.TimeFormat=11]="TimeFormat",Jt[Jt.DateTimeFormat=12]="DateTimeFormat",Jt[Jt.NumberSymbols=13]="NumberSymbols",Jt[Jt.NumberFormats=14]="NumberFormats",Jt[Jt.CurrencyCode=15]="CurrencyCode",Jt[Jt.CurrencySymbol=16]="CurrencySymbol",Jt[Jt.CurrencyName=17]="CurrencyName",Jt[Jt.Currencies=18]="Currencies",Jt[Jt.Directionality=19]="Directionality",Jt[Jt.PluralCase=20]="PluralCase",Jt[Jt.ExtraData=21]="ExtraData",Jt))();const wd="en-US";let wg=wd;function db(o,a,c,d,f){if(o=ee(o),Array.isArray(o))for(let g=0;g<o.length;g++)db(o[g],a,c,d,f);else{const g=dn(),v=Oe();let C=ka(o)?o:ee(o.provide),D=Jh(o);const T=Ji(),A=1048575&T.providerIndexes,L=T.directiveStart,K=T.providerIndexes>>20;if(ka(o)||!o.multi){const se=new tl(D,f,Fs),Pe=Pf(C,a,f?A:A+K,L);-1===Pe?(wa(il(T,v),g,C),Cd(g,o,a.length),a.push(C),T.directiveStart++,T.directiveEnd++,f&&(T.providerIndexes+=1048576),c.push(se),v.push(se)):(c[Pe]=se,v[Pe]=se)}else{const se=Pf(C,a,A+K,L),Pe=Pf(C,a,A,A+K),Qe=se>=0&&c[se],ut=Pe>=0&&c[Pe];if(f&&!ut||!f&&!Qe){wa(il(T,v),g,C);const Rt=function _D(o,a,c,d,f){const g=new tl(o,c,Fs);return g.multi=[],g.index=a,g.componentProviders=0,hb(g,f,d&&!c),g}(f?na:Sg,c.length,f,d,D);!f&&ut&&(c[Pe].providerFactory=Rt),Cd(g,o,a.length,0),a.push(C),T.directiveStart++,T.directiveEnd++,f&&(T.providerIndexes+=1048576),c.push(Rt),v.push(Rt)}else Cd(g,o,se>-1?se:Pe,hb(c[f?Pe:se],D,!f&&d));!f&&d&&ut&&c[Pe].componentProviders++}}}function Cd(o,a,c,d){const f=ka(a),g=function pC(o){return!!o.useClass}(a);if(f||g){const D=(g?ee(a.useClass):a).prototype.ngOnDestroy;if(D){const T=o.destroyHooks||(o.destroyHooks=[]);if(!f&&a.multi){const A=T.indexOf(c);-1===A?T.push(c,[d,D]):T[A+1].push(d,D)}else T.push(c,D)}}}function hb(o,a,c){return c&&o.componentProviders++,o.multi.push(a)-1}function Pf(o,a,c,d){for(let f=c;f<d;f++)if(a[f]===o)return f;return-1}function Sg(o,a,c,d){return Nf(this.multi,[])}function na(o,a,c,d){const f=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,C=Lo(c,c[1],this.providerFactory.index,d);g=C.slice(0,v),Nf(f,g);for(let D=v;D<C.length;D++)g.push(C[D])}else g=[],Nf(f,g);return g}function Nf(o,a){for(let c=0;c<o.length;c++)a.push((0,o[c])());return a}function yD(o,a=[]){return c=>{c.providersResolver=(d,f)=>function Zr(o,a,c){const d=dn();if(d.firstCreatePass){const f=ue(o);db(c,d.data,d.blueprint,f,!0),db(a,d.data,d.blueprint,f,!1)}}(d,f?f(o):o,a)}}class Eo{}class fb{}function pb(o,a){return new vD(o,a??null)}class vD extends Eo{constructor(a,c){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Sv(this);const d=rt(a);this._bootstrapComponents=Ra(d.bootstrap),this._r3Injector=LC(a,c,[{provide:Eo,useValue:this},{provide:tf,useValue:this.componentFactoryResolver}],ye(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class Mg extends fb{constructor(a){super(),this.moduleType=a}create(a){return new vD(this.moduleType,a)}}class Ag extends Eo{constructor(a,c,d){super(),this.componentFactoryResolver=new Sv(this),this.instance=null;const f=new Xh([...a,{provide:Eo,useValue:this},{provide:tf,useValue:this.componentFactoryResolver}],c||km(),d,new Set(["environment"]));this.injector=f,f.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function Ff(o,a,c=null){return new Ag(o,a,c).injector}let mb=(()=>{class o{constructor(c){this._injector=c,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(c){if(!c.standalone)return null;if(!this.cachedInjectors.has(c.id)){const d=dC(0,c.type),f=d.length>0?Ff([d],this._injector,`Standalone[${c.type.name}]`):null;this.cachedInjectors.set(c.id,f)}return this.cachedInjectors.get(c.id)}ngOnDestroy(){try{for(const c of this.cachedInjectors.values())null!==c&&c.destroy()}finally{this.cachedInjectors.clear()}}}return o.\u0275prov=Xt({token:o,providedIn:"environment",factory:()=>new o(Bi(Tc))}),o})();function xg(o){o.getStandaloneInjector=a=>a.get(mb).getOrCreateStandaloneInjector(o)}function Og(o,a,c){const d=zr()+o,f=Oe();return f[d]===mn?Xo(f,d,c?a.call(c):a()):function Jo(o,a){return o[a]}(f,d)}function Eb(o,a,c,d,f){return function Ng(o,a,c,d,f,g,v){const C=a+c;return function kc(o,a,c,d){const f=Or(o,a,c);return Or(o,a+1,d)||f}(o,C,f,g)?Xo(o,C+2,v?d.call(v,f,g):d(f,g)):Vc(o,C+2)}(Oe(),zr(),o,a,c,d,f)}function Vc(o,a){const c=o[a];return c===mn?void 0:c}function Fg(o,a){const c=dn();let d;const f=o+22;c.firstCreatePass?(d=function BA(o,a){if(a)for(let c=a.length-1;c>=0;c--){const d=a[c];if(o===d.name)return d}}(a,c.pipeRegistry),c.data[f]=d,d.onDestroy&&(c.destroyHooks||(c.destroyHooks=[])).push(f,d.onDestroy)):d=c.data[f];const g=d.factory||(d.factory=cs(d.type)),v=Xn(Fs);try{const C=Ts(!1),D=g();return Ts(C),function gd(o,a,c,d){c>=o.data.length&&(o.data[c]=null,o.blueprint[c]=null),a[c]=d}(c,Oe(),f,D),D}finally{Xn(v)}}function Ib(o,a,c){const d=o+22,f=Oe(),g=H(f,d);return function Uf(o,a){return o[1].data[a].pure}(f,d)?function Pg(o,a,c,d,f,g){const v=a+c;return Or(o,v,f)?Xo(o,v+1,g?d.call(g,f):d(f)):Vc(o,v+1)}(f,zr(),a,g.transform,c,g):g.transform(c)}function Lg(o){return a=>{setTimeout(o,void 0,a)}}const ia=class Sb extends l.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,c,d){let f=a,g=c||(()=>null),v=d;if(a&&"object"==typeof a){const D=a;f=D.next?.bind(D),g=D.error?.bind(D),v=D.complete?.bind(D)}this.__isAsync&&(g=Lg(g),f&&(f=Lg(f)),v&&(v=Lg(v)));const C=super.subscribe({next:f,error:g,complete:v});return a instanceof z.w0&&a.add(C),C}};function Vg(){return this._results[Cl()]()}class Ed{constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=Cl(),d=Ed.prototype;d[c]||(d[c]=Vg)}get changes(){return this._changes||(this._changes=new ia)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,c){return this._results.reduce(a,c)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,c){const d=this;d.dirty=!1;const f=Rr(a);(this._changesDetected=!function Ou(o,a,c){if(o.length!==a.length)return!1;for(let d=0;d<o.length;d++){let f=o[d],g=a[d];if(c&&(f=c(f),g=c(g)),g!==f)return!1}return!0}(d._results,f,c))&&(d._results=f,d.length=f.length,d.last=f[this.length-1],d.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Bc=(()=>{class o{}return o.__NG_ELEMENT_ID__=Hf,o})();const xD=Bc,zA=class extends xD{constructor(a,c,d){super(),this._declarationLView=a,this._declarationTContainer=c,this.elementRef=d}createEmbeddedView(a,c){const d=this._declarationTContainer.tViews,f=yl(this._declarationLView,d,a,16,null,d.declTNode,null,null,null,null,c||null);f[17]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[19];return null!==v&&(f[19]=v.createEmbeddedView(d)),Ym(d,f,a),new ud(f)}};function Hf(){return zf(Ji(),Oe())}function zf(o,a){return 4&o.type?new zA(a,o,Ju(o,a)):null}let jf=(()=>{class o{}return o.__NG_ELEMENT_ID__=kD,o})();function kD(){return PD(Ji(),Oe())}const Bg=jf,RD=class extends Bg{constructor(a,c,d){super(),this._lContainer=a,this._hostTNode=c,this._hostLView=d}get element(){return Ju(this._hostTNode,this._hostLView)}get injector(){return new Ca(this._hostTNode,this._hostLView)}get parentInjector(){const a=Mu(this._hostTNode,this._hostLView);if(fy(a)){const c=No(a,this._hostLView),d=ec(a);return new Ca(c[1].data[d+8],c)}return new Ca(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const c=OD(this._lContainer);return null!==c&&c[a]||null}get length(){return this._lContainer.length-U}createEmbeddedView(a,c,d){let f,g;"number"==typeof d?f=d:null!=d&&(f=d.index,g=d.injector);const v=a.createEmbeddedView(c||{},g);return this.insert(v,f),v}createComponent(a,c,d,f,g){const v=a&&!function ds(o){return"function"==typeof o}(a);let C;if(v)C=c;else{const L=c||{};C=L.index,d=L.injector,f=L.projectableNodes,g=L.environmentInjector||L.ngModuleRef}const D=v?a:new ff(x(a)),T=d||this.parentInjector;if(!g&&null==D.ngModule){const K=(v?T:this.parentInjector).get(Tc,null);K&&(g=K)}const A=D.create(T,f,void 0,g);return this.insert(A.hostView,C),A}insert(a,c){const d=a._lView,f=d[1];if(function Se(o){return qe(o[3])}(d)){const A=this.indexOf(a);if(-1!==A)this.detach(A);else{const L=d[3],K=new RD(L,L[6],L[3]);K.detach(K.indexOf(a))}}const g=this._adjustIndex(c),v=this._lContainer;!function $r(o,a,c,d){const f=U+d,g=c.length;d>0&&(c[f-1][4]=a),d<g-U?(a[4]=c[f],yy(c,U+d,a)):(c.push(a),a[4]=null),a[3]=c;const v=a[17];null!==v&&c!==v&&function zo(o,a){const c=o[9];a[16]!==a[3][3][16]&&(o[2]=!0),null===c?o[9]=[a]:c.push(a)}(v,a);const C=a[19];null!==C&&C.insertView(o),a[2]|=64}(f,d,v,g);const C=ky(g,v),D=d[11],T=Em(D,v[7]);return null!==T&&function pt(o,a,c,d,f,g){d[0]=f,d[6]=a,$h(o,d,c,1,f,g)}(f,v[6],D,d,T,C),a.attachToViewContainerRef(),yy(Tl(v),g,a),a}move(a,c){return this.insert(a,c)}indexOf(a){const c=OD(this._lContainer);return null!==c?c.indexOf(a):-1}remove(a){const c=this._adjustIndex(a,-1),d=jo(this._lContainer,c);d&&(ac(Tl(this._lContainer),c),mo(d[1],d))}detach(a){const c=this._adjustIndex(a,-1),d=jo(this._lContainer,c);return d&&null!=ac(Tl(this._lContainer),c)?new ud(d):null}_adjustIndex(a,c=0){return a??this.length+c}};function OD(o){return o[8]}function Tl(o){return o[8]||(o[8]=[])}function PD(o,a){let c;const d=a[o.index];if(qe(d))c=d;else{let f;if(8&o.type)f=In(d);else{const g=a[11];f=g.createComment("");const v=xr(o,a);go(g,Em(g,v),f,function Sy(o,a){return o.nextSibling(a)}(g,v),!1)}a[o.index]=c=IM(d,a,f,o),Jm(a,c)}return new RD(c,o,a)}class Dd{constructor(a){this.queryList=a,this.matches=null}clone(){return new Dd(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ug{constructor(a=[]){this.queries=a}createEmbeddedView(a){const c=a.queries;if(null!==c){const d=null!==a.contentQueries?a.contentQueries[0]:c.length,f=[];for(let g=0;g<d;g++){const v=c.getByIndex(g);f.push(this.queries[v.indexInDeclarationView].clone())}return new Ug(f)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let c=0;c<this.queries.length;c++)null!==VD(a,c).matches&&this.queries[c].setDirty()}}class Id{constructor(a,c,d=null){this.predicate=a,this.flags=c,this.read=d}}class Hg{constructor(a=[]){this.queries=a}elementStart(a,c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(a,c)}elementEnd(a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(a)}embeddedTView(a){let c=null;for(let d=0;d<this.length;d++){const f=null!==c?c.length:0,g=this.getByIndex(d).embeddedTView(a,f);g&&(g.indexInDeclarationView=d,null!==c?c.push(g):c=[g])}return null!==c?new Hg(c):null}template(a,c){for(let d=0;d<this.queries.length;d++)this.queries[d].template(a,c)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class Pr{constructor(a,c=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(a,c){this.isApplyingToNode(c)&&this.matchTNode(a,c)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,c){this.elementStart(a,c)}embeddedTView(a,c){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,c),new Pr(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let d=a.parent;for(;null!==d&&8&d.type&&d.index!==c;)d=d.parent;return c===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(a,c){const d=this.metadata.predicate;if(Array.isArray(d))for(let f=0;f<d.length;f++){const g=d[f];this.matchTNodeWithReadOption(a,c,ND(c,g)),this.matchTNodeWithReadOption(a,c,Au(c,a,g,!1,!1))}else d===Bc?4&c.type&&this.matchTNodeWithReadOption(a,c,-1):this.matchTNodeWithReadOption(a,c,Au(c,a,d,!1,!1))}matchTNodeWithReadOption(a,c,d){if(null!==d){const f=this.metadata.read;if(null!==f)if(f===nf||f===jf||f===Bc&&4&c.type)this.addMatch(c.index,-2);else{const g=Au(c,a,f,!1,!1);null!==g&&this.addMatch(c.index,g)}else this.addMatch(c.index,d)}}addMatch(a,c){null===this.matches?this.matches=[a,c]:this.matches.push(a,c)}}function ND(o,a){const c=o.localNames;if(null!==c)for(let d=0;d<c.length;d+=2)if(c[d]===a)return c[d+1];return null}function zg(o,a,c,d){return-1===c?function $f(o,a){return 11&o.type?Ju(o,a):4&o.type?zf(o,a):null}(a,o):-2===c?function FD(o,a,c){return c===nf?Ju(a,o):c===Bc?zf(a,o):c===jf?PD(a,o):void 0}(o,a,d):Lo(o,o[1],c,a)}function jg(o,a,c,d){const f=a[19].queries[d];if(null===f.matches){const g=o.data,v=c.matches,C=[];for(let D=0;D<v.length;D+=2){const T=v[D];C.push(T<0?null:zg(a,g[T],v[D+1],c.metadata.read))}f.matches=C}return f.matches}function $g(o,a,c,d){const f=o.queries.getByIndex(c),g=f.matches;if(null!==g){const v=jg(o,a,f,c);for(let C=0;C<g.length;C+=2){const D=g[C];if(D>0)d.push(v[C/2]);else{const T=g[C+1],A=a[-D];for(let L=U;L<A.length;L++){const K=A[L];K[17]===K[3]&&$g(K[1],K,T,d)}if(null!==A[9]){const L=A[9];for(let K=0;K<L.length;K++){const se=L[K];$g(se[1],se,T,d)}}}}}return d}function Mb(o){const a=Oe(),c=dn(),d=Qa();Oo(d+1);const f=VD(c,d);if(o.dirty&&function W(o){return 4==(4&o[2])}(a)===(2==(2&f.metadata.flags))){if(null===f.matches)o.reset([]);else{const g=f.crossesNgTemplate?$g(c,a,d,[]):jg(c,a,f,d);o.reset(g,vC),o.notifyOnChanges()}return!0}return!1}function Td(o,a,c){const d=dn();d.firstCreatePass&&(Sd(d,new Id(o,a,c),-1),2==(2&a)&&(d.staticViewQueries=!0)),Gf(d,Oe(),a)}function Gg(o,a,c,d){const f=dn();if(f.firstCreatePass){const g=Ji();Sd(f,new Id(a,c,d),g.index),function LD(o,a){const c=o.contentQueries||(o.contentQueries=[]);a!==(c.length?c[c.length-1]:-1)&&c.push(o.queries.length-1,a)}(f,o),2==(2&c)&&(f.staticContentQueries=!0)}Gf(f,Oe(),c)}function qg(){return function Ab(o,a){return o[19].queries[a].queryList}(Oe(),Qa())}function Gf(o,a,c){const d=new Ed(4==(4&c));cd(o,a,d,d.destroy),null===a[19]&&(a[19]=new Ug),a[19].queries.push(new Dd(d))}function Sd(o,a,c){null===o.queries&&(o.queries=new Hg),o.queries.track(new Pr(a,c))}function VD(o,a){return o.queries.getByIndex(a)}function Wg(o,a){return zf(o,a)}function _i(...o){}const QD=new Bn("Application Initializer");let e_=(()=>{class o{constructor(c){this.appInits=c,this.resolve=_i,this.reject=_i,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,f)=>{this.resolve=d,this.reject=f})}runInitializers(){if(this.initialized)return;const c=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const g=this.appInits[f]();if(DE(g))c.push(g);else if(qM(g)){const v=new Promise((C,D)=>{g.subscribe({complete:C,error:D})});c.push(v)}}Promise.all(c).then(()=>{d()}).catch(f=>{this.reject(f)}),0===c.length&&d(),this.initialized=!0}}return o.\u0275fac=function(c){return new(c||o)(Bi(QD,8))},o.\u0275prov=Xt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const XD=new Bn("AppId",{providedIn:"root",factory:function jb(){return`${t_()}${t_()}${t_()}`}});function t_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Zf=new Bn("Platform Initializer"),JD=new Bn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),oa=new Bn("appBootstrapListener"),eI=new Bn("AnimationModuleType");let $b=(()=>{class o{log(c){console.log(c)}warn(c){console.warn(c)}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=Xt({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const Kf=new Bn("LocaleId",{providedIn:"root",factory:()=>Et(Kf,ft.Optional|ft.SkipSelf)||function Yf(){return typeof $localize<"u"&&$localize.locale||wd}()}),Gb=new Bn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class ix{constructor(a,c){this.ngModuleFactory=a,this.componentFactories=c}}let tI=(()=>{class o{compileModuleSync(c){return new Mg(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const d=this.compileModuleSync(c),g=Ra(rt(c).declarations).reduce((v,C)=>{const D=x(C);return D&&v.push(new ff(D)),v},[]);return new ix(d,g)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=Xt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const iI=(()=>Promise.resolve(0))();function r_(o){typeof Zone>"u"?iI.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class Bs{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ia(!1),this.onMicrotaskEmpty=new ia(!1),this.onStable=new ia(!1),this.onError=new ia(!1),typeof Zone>"u")throw new xe(908,!1);Zone.assertZonePatched();const f=this;if(f._nesting=0,f._outer=f._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const g=Zone.AsyncStackTaggingZoneSpec;f._inner=f._inner.fork(new g("Angular"))}Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!d&&c,f.shouldCoalesceRunChangeDetection=d,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function zc(){let o=fn.requestAnimationFrame,a=fn.cancelAnimationFrame;if(typeof Zone<"u"&&o&&a){const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c);const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function o_(o){const a=()=>{!function sI(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(fn,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,ns(o),o.isCheckStableRunning=!0,s_(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),ns(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,d,f,g,v,C)=>{try{return Zb(o),c.invokeTask(f,g,v,C)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||o.shouldCoalesceRunChangeDetection)&&a(),Yb(o)}},onInvoke:(c,d,f,g,v,C,D)=>{try{return Zb(o),c.invoke(f,g,v,C,D)}finally{o.shouldCoalesceRunChangeDetection&&a(),Yb(o)}},onHasTask:(c,d,f,g)=>{c.hasTask(f,g),d===f&&("microTask"==g.change?(o._hasPendingMicrotasks=g.microTask,ns(o),s_(o)):"macroTask"==g.change&&(o.hasPendingMacrotasks=g.macroTask))},onHandleError:(c,d,f,g)=>(c.handleError(f,g),o.runOutsideAngular(()=>o.onError.emit(g)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Bs.isInAngularZone())throw new xe(909,!1)}static assertNotInAngularZone(){if(Bs.isInAngularZone())throw new xe(909,!1)}run(a,c,d){return this._inner.run(a,c,d)}runTask(a,c,d,f){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+f,a,rI,_i,_i);try{return g.runTask(v,c,d)}finally{g.cancelTask(v)}}runGuarded(a,c,d){return this._inner.runGuarded(a,c,d)}runOutsideAngular(a){return this._outer.run(a)}}const rI={};function s_(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function ns(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function Zb(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function Yb(o){o._nesting--,s_(o)}class Rd{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ia,this.onMicrotaskEmpty=new ia,this.onStable=new ia,this.onError=new ia}run(a,c,d){return a.apply(c,d)}runGuarded(a,c,d){return a.apply(c,d)}runOutsideAngular(a){return a()}runTask(a,c,d,f){return a.apply(c,d)}}const oI=new Bn(""),to=new Bn("");let Xf,Kb=(()=>{class o{constructor(c,d,f){this._ngZone=c,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Xf||(function ox(o){Xf=o}(f),f.addToWindow(d)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Bs.assertNotInAngularZone(),r_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())r_(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(c)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,d,f){let g=-1;d&&d>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),c(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:c,timeoutId:g,updateCb:f})}whenStable(c,d,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,d,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,d,f){return[]}}return o.\u0275fac=function(c){return new(c||o)(Bi(Bs),Bi(Kn),Bi(to))},o.\u0275prov=Xt({token:o,factory:o.\u0275fac}),o})(),Kn=(()=>{class o{constructor(){this._applications=new Map}registerApplication(c,d){this._applications.set(c,d)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,d=!0){return Xf?.findTestabilityInTree(this,c,d)??null}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=Xt({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})(),Nr=null;const Qb=new Bn("AllowMultipleToken"),Jf=new Bn("PlatformDestroyListeners");class no{constructor(a,c){this.name=a,this.token=c}}function tp(o,a,c=[]){const d=`Platform: ${a}`,f=new Bn(d);return(g=[])=>{let v=Jb();if(!v||v.injector.get(Qb,!1)){const C=[...c,...g,{provide:f,useValue:!0}];o?o(C):function Fr(o){if(Nr&&!Nr.get(Qb,!1))throw new xe(400,!1);Nr=o;const a=o.get(c_);(function ep(o){const a=o.get(Zf,null);a&&a.forEach(c=>c())})(o)}(function jc(o=[],a){return gl.create({name:a,providers:[{provide:Qh,useValue:"platform"},{provide:Jf,useValue:new Set([()=>Nr=null])},...o]})}(C,d))}return function aI(o){const a=Jb();if(!a)throw new xe(401,!1);return a}()}}function Jb(){return Nr?.get(c_)??null}let c_=(()=>{class o{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,d){const f=function cI(o,a){let c;return c="noop"===o?new Rd:("zone.js"===o?void 0:o)||new Bs(a),c}(d?.ngZone,function lI(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!o||!o.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!o||!o.ngZoneRunCoalescing)||!1}}(d)),g=[{provide:Bs,useValue:f}];return f.run(()=>{const v=gl.create({providers:g,parent:this.injector,name:c.moduleType.name}),C=c.create(v),D=C.injector.get(rf,null);if(!D)throw new xe(402,!1);return f.runOutsideAngular(()=>{const T=f.onError.subscribe({next:A=>{D.handleError(A)}});C.onDestroy(()=>{u_(this._modules,C),T.unsubscribe()})}),function ew(o,a,c){try{const d=c();return DE(d)?d.catch(f=>{throw a.runOutsideAngular(()=>o.handleError(f)),f}):d}catch(d){throw a.runOutsideAngular(()=>o.handleError(d)),d}}(D,f,()=>{const T=C.injector.get(e_);return T.runInitializers(),T.donePromise.then(()=>(function cD(o){Re(o,"Expected localeId to be defined"),"string"==typeof o&&(wg=o.toLowerCase().replace(/_/g,"-"))}(C.injector.get(Kf,wd)||wd),this._moduleDoBootstrap(C),C))})})}bootstrapModule(c,d=[]){const f=uI({},d);return function Xb(o,a,c){const d=new Mg(c);return Promise.resolve(d)}(0,0,c).then(g=>this.bootstrapModuleFactory(g,f))}_moduleDoBootstrap(c){const d=c.injector.get($c);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(f=>d.bootstrap(f));else{if(!c.instance.ngDoBootstrap)throw new xe(403,!1);c.instance.ngDoBootstrap(d)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new xe(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const c=this._injector.get(Jf,null);c&&(c.forEach(d=>d()),c.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(c){return new(c||o)(Bi(gl))},o.\u0275prov=Xt({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();function uI(o,a){return Array.isArray(a)?a.reduce(uI,o):{...o,...a}}let $c=(()=>{class o{constructor(c,d,f){this._zone=c,this._injector=d,this._exceptionHandler=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new N.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),v=new N.y(C=>{let D;this._zone.runOutsideAngular(()=>{D=this._zone.onStable.subscribe(()=>{Bs.assertNotInAngularZone(),r_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const T=this._zone.onUnstable.subscribe(()=>{Bs.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{D.unsubscribe(),T.unsubscribe()}});this.isStable=(0,le.T)(g,v.pipe((0,de.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(c,d){const f=c instanceof _C;if(!this._injector.get(e_).done)throw!f&&Ce(c),new xe(405,false);let v;v=f?c:this._injector.get(tf).resolveComponentFactory(c),this.componentTypes.push(v.componentType);const C=function Ba(o){return o.isBoundToModule}(v)?void 0:this._injector.get(Eo),T=v.create(gl.NULL,[],d||v.selector,C),A=T.location.nativeElement,L=T.injector.get(oI,null);return L?.registerApplication(A),T.onDestroy(()=>{this.detachView(T.hostView),u_(this.components,T),L?.unregisterApplication(A)}),this._loadComponent(T),T}tick(){if(this._runningTick)throw new xe(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const d=c;this._views.push(d),d.attachToAppRef(this)}detachView(c){const d=c;u_(this._views,d),d.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c),this._injector.get(oa,[]).concat(this._bootstrapListeners).forEach(f=>f(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>u_(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new xe(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return o.\u0275fac=function(c){return new(c||o)(Bi(Bs),Bi(Tc),Bi(rf))},o.\u0275prov=Xt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function u_(o,a){const c=o.indexOf(a);c>-1&&o.splice(c,1)}let tw=!0,_r=!1;function Pd(){return _r=!0,tw}function kl(){if(_r)throw new Error("Cannot enable prod mode after platform setup.");tw=!1}let ir=(()=>{class o{}return o.__NG_ELEMENT_ID__=io,o})();function io(o){return function nw(o,a,c){if(F(o)&&!c){const d=V(o.index,a);return new ud(d,d)}return 47&o.type?new ud(a[16],a):null}(Ji(),Oe(),16==(16&o))}class Vt{constructor(){}supports(a){return mf(a)}create(a){return new Rn(a)}}const rp=(o,a)=>a;class Rn{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||rp}forEachItem(a){let c;for(c=this._itHead;null!==c;c=c._next)a(c)}forEachOperation(a){let c=this._itHead,d=this._removalsHead,f=0,g=null;for(;c||d;){const v=!d||c&&c.currentIndex<sp(d,f,g)?c:d,C=sp(v,f,g),D=v.currentIndex;if(v===d)f--,d=d._nextRemoved;else if(c=c._next,null==v.previousIndex)f++;else{g||(g=[]);const T=C-f,A=D-f;if(T!=A){for(let K=0;K<T;K++){const se=K<g.length?g[K]:g[K]=0,Pe=se+K;A<=Pe&&Pe<T&&(g[K]=se+1)}g[v.previousIndex]=A-T}}C!==D&&a(v,C,D)}}forEachPreviousItem(a){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachMovedItem(a){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}forEachIdentityChange(a){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)a(c)}diff(a){if(null==a&&(a=[]),!mf(a))throw new xe(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let f,g,v,c=this._itHead,d=!1;if(Array.isArray(a)){this.length=a.length;for(let C=0;C<this.length;C++)g=a[C],v=this._trackByFn(C,g),null!==c&&Object.is(c.trackById,v)?(d&&(c=this._verifyReinsertion(c,g,v,C)),Object.is(c.item,g)||this._addIdentityChange(c,g)):(c=this._mismatch(c,g,v,C),d=!0),c=c._next}else f=0,function FM(o,a){if(Array.isArray(o))for(let c=0;c<o.length;c++)a(o[c]);else{const c=o[Cl()]();let d;for(;!(d=c.next()).done;)a(d.value)}}(a,C=>{v=this._trackByFn(f,C),null!==c&&Object.is(c.trackById,v)?(d&&(c=this._verifyReinsertion(c,C,v,f)),Object.is(c.item,C)||this._addIdentityChange(c,C)):(c=this._mismatch(c,C,v,f),d=!0),c=c._next,f++}),this.length=f;return this._truncate(c),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,c,d,f){let g;return null===a?g=this._itTail:(g=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._reinsertAfter(a,g,f)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(d,f))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._moveAfter(a,g,f)):a=this._addAfter(new dx(c,d),g,f),a}_verifyReinsertion(a,c,d,f){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==g?a=this._reinsertAfter(g,a._prev,f):a.currentIndex!=f&&(a.currentIndex=f,this._addToMoves(a,f)),a}_truncate(a){for(;null!==a;){const c=a._next;this._addToRemovals(this._unlink(a)),a=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,c,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const f=a._prevRemoved,g=a._nextRemoved;return null===f?this._removalsHead=g:f._nextRemoved=g,null===g?this._removalsTail=f:g._prevRemoved=f,this._insertAfter(a,c,d),this._addToMoves(a,d),a}_moveAfter(a,c,d){return this._unlink(a),this._insertAfter(a,c,d),this._addToMoves(a,d),a}_addAfter(a,c,d){return this._insertAfter(a,c,d),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,c,d){const f=null===c?this._itHead:c._next;return a._next=f,a._prev=c,null===f?this._itTail=a:f._prev=a,null===c?this._itHead=a:c._next=a,null===this._linkedRecords&&(this._linkedRecords=new ct),this._linkedRecords.put(a),a.currentIndex=d,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const c=a._prev,d=a._next;return null===c?this._itHead=d:c._next=d,null===d?this._itTail=c:d._prev=c,a}_addToMoves(a,c){return a.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ct),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,c){return a.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class dx{constructor(a,c){this.item=a,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class qi{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,c){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===c||c<=d.currentIndex)&&Object.is(d.trackById,a))return d;return null}remove(a){const c=a._prevDup,d=a._nextDup;return null===c?this._head=d:c._nextDup=d,null===d?this._tail=c:d._prevDup=c,null===this._head}}class ct{constructor(){this.map=new Map}put(a){const c=a.trackById;let d=this.map.get(c);d||(d=new qi,this.map.set(c,d)),d.add(a)}get(a,c){const f=this.map.get(a);return f?f.get(a,c):null}remove(a){const c=a.trackById;return this.map.get(c).remove(a)&&this.map.delete(c),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function sp(o,a,c){const d=o.previousIndex;if(null===d)return d;let f=0;return c&&d<c.length&&(f=c[d]),d+a+f}class h_{constructor(){}supports(a){return a instanceof Map||og(a)}create(){return new qc}}class qc{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let c;for(c=this._mapHead;null!==c;c=c._next)a(c)}forEachPreviousItem(a){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)a(c)}forEachChangedItem(a){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}diff(a){if(a){if(!(a instanceof Map||og(a)))throw new xe(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(a,(d,f)=>{if(c&&c.key===f)this._maybeAddToChanges(c,d),this._appendAfter=c,c=c._next;else{const g=this._getOrCreateRecordForKey(f,d);c=this._insertBeforeOrAppend(c,g)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let d=c;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,c){if(a){const d=a._prev;return c._next=a,c._prev=d,a._prev=c,d&&(d._next=c),a===this._mapHead&&(this._mapHead=c),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(a,c){if(this._records.has(a)){const f=this._records.get(a);this._maybeAddToChanges(f,c);const g=f._prev,v=f._next;return g&&(g._next=v),v&&(v._prev=g),f._next=null,f._prev=null,f}const d=new hx(a);return this._records.set(a,d),d.currentValue=c,this._addToAdditions(d),d}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,c){Object.is(c,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=c,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,c){a instanceof Map?a.forEach(c):Object.keys(a).forEach(d=>c(a[d],d))}}class hx{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function op(){return new sw([new Vt])}let sw=(()=>{class o{constructor(c){this.factories=c}static create(c,d){if(null!=d){const f=d.factories.slice();c=c.concat(f)}return new o(c)}static extend(c){return{provide:o,useFactory:d=>o.create(c,d||op()),deps:[[o,new Bo,new hs]]}}find(c){const d=this.factories.find(f=>f.supports(c));if(null!=d)return d;throw new xe(901,!1)}}return o.\u0275prov=Xt({token:o,providedIn:"root",factory:op}),o})();function ow(){return new p_([new h_])}let p_=(()=>{class o{constructor(c){this.factories=c}static create(c,d){if(d){const f=d.factories.slice();c=c.concat(f)}return new o(c)}static extend(c){return{provide:o,useFactory:d=>o.create(c,d||ow()),deps:[[o,new Bo,new hs]]}}find(c){const d=this.factories.find(f=>f.supports(c));if(d)return d;throw new xe(901,!1)}}return o.\u0275prov=Xt({token:o,providedIn:"root",factory:ow}),o})();const Rl=tp(null,"core",[]);let lw=(()=>{class o{constructor(c){}}return o.\u0275fac=function(c){return new(c||o)(Bi($c))},o.\u0275mod=wi({type:o}),o.\u0275inj=Ht({}),o})();function ce(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}},3942:(xt,Le,P)=>{P.d(Le,{Z:()=>xe});var l=P(2090),z=P(4859),N=P(6881),le=P(1877);class de{constructor(Ee,_e){this._delegate=Ee,this.firebase=_e,(0,N._addComponent)(Ee,new z.wA("app-compat",()=>this,"PUBLIC")),this.container=Ee.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ee){this._delegate.automaticDataCollectionEnabled=Ee}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ee=>{this._delegate.checkDestroyed(),Ee()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,N.deleteApp)(this._delegate)))}_getService(Ee,_e=N._DEFAULT_ENTRY_NAME){var St;this._delegate.checkDestroyed();const gt=this._delegate.container.getProvider(Ee);return!gt.isInitialized()&&"EXPLICIT"===(null===(St=gt.getComponent())||void 0===St?void 0:St.instantiationMode)&&gt.initialize(),gt.getImmediate({identifier:_e})}_removeServiceInstance(Ee,_e=N._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ee).clearInstance(_e)}_addComponent(Ee){(0,N._addComponent)(this._delegate,Ee)}_addOrOverwriteComponent(Ee){(0,N._addOrOverwriteComponent)(this._delegate,Ee)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const re=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Z=function ve(){const dt=function ye(dt){const Ee={},_e={__esModule:!0,initializeApp:function Ie(Xe,ae={}){const et=N.initializeApp(Xe,ae);if((0,l.r3)(Ee,et.name))return Ee[et.name];const kt=new dt(et,_e);return Ee[et.name]=kt,kt},app:gt,registerVersion:N.registerVersion,setLogLevel:N.setLogLevel,onLog:N.onLog,apps:null,SDK_VERSION:N.SDK_VERSION,INTERNAL:{registerComponent:function Ae(Xe){const ae=Xe.name,et=ae.replace("-compat","");if(N._registerComponent(Xe)&&"PUBLIC"===Xe.type){const kt=(vt=gt())=>{if("function"!=typeof vt[et])throw re.create("invalid-app-argument",{appName:ae});return vt[et]()};void 0!==Xe.serviceProps&&(0,l.ZB)(kt,Xe.serviceProps),_e[et]=kt,dt.prototype[et]=function(...vt){return this._getService.bind(this,ae).apply(this,Xe.multipleInstances?vt:[])}}return"PUBLIC"===Xe.type?_e[et]:null},removeApp:function St(Xe){delete Ee[Xe]},useAsService:function it(Xe,ae){return"serverAuth"===ae?null:ae},modularAPIs:N}};function gt(Xe){if(!(0,l.r3)(Ee,Xe=Xe||N._DEFAULT_ENTRY_NAME))throw re.create("no-app",{appName:Xe});return Ee[Xe]}return _e.default=_e,Object.defineProperty(_e,"apps",{get:function Te(){return Object.keys(Ee).map(Xe=>Ee[Xe])}}),gt.App=dt,_e}(de);return dt.INTERNAL=Object.assign(Object.assign({},dt.INTERNAL),{createFirebaseNamespace:ve,extendNamespace:function Ee(_e){(0,l.ZB)(dt,_e)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),dt}(),q=new le.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){q.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const dt=self.firebase.SDK_VERSION;dt&&dt.indexOf("LITE")>=0&&q.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const xe=Z;!function Me(dt){(0,N.registerVersion)("@firebase/app-compat","0.2.10",dt)}()},6881:(xt,Le,P)=>{P.r(Le),P.d(Le,{FirebaseError:()=>le.ZR,SDK_VERSION:()=>lr,_DEFAULT_ENTRY_NAME:()=>ii,_addComponent:()=>It,_addOrOverwriteComponent:()=>mt,_apps:()=>Kt,_clearComponents:()=>Wn,_components:()=>Nt,_getProvider:()=>qn,_registerComponent:()=>fn,_removeServiceInstance:()=>ni,deleteApp:()=>Yn,getApp:()=>Jn,getApps:()=>Dn,initializeApp:()=>cn,onLog:()=>ei,registerVersion:()=>ci,setLogLevel:()=>Si});var l=P(5861),z=P(4859),N=P(1877),le=P(2090);let ge,re;const Z=new WeakMap,q=new WeakMap,ee=new WeakMap,Ge=new WeakMap,Me=new WeakMap;let Ee={get(oe,ie,Be){if(oe instanceof IDBTransaction){if("done"===ie)return q.get(oe);if("objectStoreNames"===ie)return oe.objectStoreNames||ee.get(oe);if("store"===ie)return Be.objectStoreNames[1]?void 0:Be.objectStore(Be.objectStoreNames[0])}return Ie(oe[ie])},set:(oe,ie,Be)=>(oe[ie]=Be,!0),has:(oe,ie)=>oe instanceof IDBTransaction&&("done"===ie||"store"===ie)||ie in oe};function gt(oe){return"function"==typeof oe?function St(oe){return oe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ve(){return re||(re=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(oe)?function(...ie){return oe.apply(Te(this),ie),Ie(Z.get(this))}:function(...ie){return Ie(oe.apply(Te(this),ie))}:function(ie,...Be){const He=oe.call(Te(this),ie,...Be);return ee.set(He,ie.sort?ie.sort():[ie]),Ie(He)}}(oe):(oe instanceof IDBTransaction&&function dt(oe){if(q.has(oe))return;const ie=new Promise((Be,He)=>{const Ft=()=>{oe.removeEventListener("complete",Zt),oe.removeEventListener("error",bn),oe.removeEventListener("abort",bn)},Zt=()=>{Be(),Ft()},bn=()=>{He(oe.error||new DOMException("AbortError","AbortError")),Ft()};oe.addEventListener("complete",Zt),oe.addEventListener("error",bn),oe.addEventListener("abort",bn)});q.set(oe,ie)}(oe),((oe,ie)=>ie.some(Be=>oe instanceof Be))(oe,function ye(){return ge||(ge=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(oe,Ee):oe)}function Ie(oe){if(oe instanceof IDBRequest)return function xe(oe){const ie=new Promise((Be,He)=>{const Ft=()=>{oe.removeEventListener("success",Zt),oe.removeEventListener("error",bn)},Zt=()=>{Be(Ie(oe.result)),Ft()},bn=()=>{He(oe.error),Ft()};oe.addEventListener("success",Zt),oe.addEventListener("error",bn)});return ie.then(Be=>{Be instanceof IDBCursor&&Z.set(Be,oe)}).catch(()=>{}),Me.set(ie,oe),ie}(oe);if(Ge.has(oe))return Ge.get(oe);const ie=gt(oe);return ie!==oe&&(Ge.set(oe,ie),Me.set(ie,oe)),ie}const Te=oe=>Me.get(oe),Xe=["get","getKey","getAll","getAllKeys","count"],ae=["put","add","delete","clear"],et=new Map;function kt(oe,ie){if(!(oe instanceof IDBDatabase)||ie in oe||"string"!=typeof ie)return;if(et.get(ie))return et.get(ie);const Be=ie.replace(/FromIndex$/,""),He=ie!==Be,Ft=ae.includes(Be);if(!(Be in(He?IDBIndex:IDBObjectStore).prototype)||!Ft&&!Xe.includes(Be))return;const Zt=function(){var bn=(0,l.Z)(function*(Vn,...sn){const hi=this.transaction(Vn,Ft?"readwrite":"readonly");let Yi=hi.store;return He&&(Yi=Yi.index(sn.shift())),(yield Promise.all([Yi[Be](...sn),Ft&&hi.done]))[0]});return function(sn){return bn.apply(this,arguments)}}();return et.set(ie,Zt),Zt}!function _e(oe){Ee=oe(Ee)}(oe=>({...oe,get:(ie,Be,He)=>kt(ie,Be)||oe.get(ie,Be,He),has:(ie,Be)=>!!kt(ie,Be)||oe.has(ie,Be)}));class vt{constructor(ie){this.container=ie}getPlatformInfoString(){return this.container.getProviders().map(Be=>{if(function on(oe){return"VERSION"===oe.getComponent()?.type}(Be)){const He=Be.getImmediate();return`${He.library}/${He.version}`}return null}).filter(Be=>Be).join(" ")}}const yt="@firebase/app",pe=new N.Yd("@firebase/app"),ii="[DEFAULT]",Mn={[yt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Kt=new Map,Nt=new Map;function It(oe,ie){try{oe.container.addComponent(ie)}catch(Be){pe.debug(`Component ${ie.name} failed to register with FirebaseApp ${oe.name}`,Be)}}function mt(oe,ie){oe.container.addOrOverwriteComponent(ie)}function fn(oe){const ie=oe.name;if(Nt.has(ie))return pe.debug(`There were multiple attempts to register component ${ie}.`),!1;Nt.set(ie,oe);for(const Be of Kt.values())It(Be,oe);return!0}function qn(oe,ie){const Be=oe.container.getProvider("heartbeat").getImmediate({optional:!0});return Be&&Be.triggerHeartbeat(),oe.container.getProvider(ie)}function ni(oe,ie,Be=ii){qn(oe,ie).clearInstance(Be)}function Wn(){Nt.clear()}const Zn=new le.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class jt{constructor(ie,Be,He){this._isDeleted=!1,this._options=Object.assign({},ie),this._config=Object.assign({},Be),this._name=Be.name,this._automaticDataCollectionEnabled=Be.automaticDataCollectionEnabled,this._container=He,this.container.addComponent(new z.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ie){this.checkDestroyed(),this._automaticDataCollectionEnabled=ie}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ie){this._isDeleted=ie}checkDestroyed(){if(this.isDeleted)throw Zn.create("app-deleted",{appName:this._name})}}const lr="9.22.0";function cn(oe,ie={}){let Be=oe;"object"!=typeof ie&&(ie={name:ie});const He=Object.assign({name:ii,automaticDataCollectionEnabled:!1},ie),Ft=He.name;if("string"!=typeof Ft||!Ft)throw Zn.create("bad-app-name",{appName:String(Ft)});if(Be||(Be=(0,le.aH)()),!Be)throw Zn.create("no-options");const Zt=Kt.get(Ft);if(Zt){if((0,le.vZ)(Be,Zt.options)&&(0,le.vZ)(He,Zt.config))return Zt;throw Zn.create("duplicate-app",{appName:Ft})}const bn=new z.H0(Ft);for(const sn of Nt.values())bn.addComponent(sn);const Vn=new jt(Be,He,bn);return Kt.set(Ft,Vn),Vn}function Jn(oe=ii){const ie=Kt.get(oe);if(!ie&&oe===ii&&(0,le.aH)())return cn();if(!ie)throw Zn.create("no-app",{appName:oe});return ie}function Dn(){return Array.from(Kt.values())}function Yn(oe){return zn.apply(this,arguments)}function zn(){return(zn=(0,l.Z)(function*(oe){const ie=oe.name;Kt.has(ie)&&(Kt.delete(ie),yield Promise.all(oe.container.getProviders().map(Be=>Be.delete())),oe.isDeleted=!0)})).apply(this,arguments)}function ci(oe,ie,Be){var He;let Ft=null!==(He=Mn[oe])&&void 0!==He?He:oe;Be&&(Ft+=`-${Be}`);const Zt=Ft.match(/\s|\//),bn=ie.match(/\s|\//);if(Zt||bn){const Vn=[`Unable to register library "${Ft}" with version "${ie}":`];return Zt&&Vn.push(`library name "${Ft}" contains illegal characters (whitespace or "/")`),Zt&&bn&&Vn.push("and"),bn&&Vn.push(`version name "${ie}" contains illegal characters (whitespace or "/")`),void pe.warn(Vn.join(" "))}fn(new z.wA(`${Ft}-version`,()=>({library:Ft,version:ie}),"VERSION"))}function ei(oe,ie){if(null!==oe&&"function"!=typeof oe)throw Zn.create("invalid-log-argument");(0,N.Am)(oe,ie)}function Si(oe){(0,N.Ub)(oe)}const G="firebase-heartbeat-store";let j=null;function R(){return j||(j=function Ae(oe,ie,{blocked:Be,upgrade:He,blocking:Ft,terminated:Zt}={}){const bn=indexedDB.open(oe,ie),Vn=Ie(bn);return He&&bn.addEventListener("upgradeneeded",sn=>{He(Ie(bn.result),sn.oldVersion,sn.newVersion,Ie(bn.transaction),sn)}),Be&&bn.addEventListener("blocked",sn=>Be(sn.oldVersion,sn.newVersion,sn)),Vn.then(sn=>{Zt&&sn.addEventListener("close",()=>Zt()),Ft&&sn.addEventListener("versionchange",hi=>Ft(hi.oldVersion,hi.newVersion,hi))}).catch(()=>{}),Vn}("firebase-heartbeat-database",1,{upgrade:(oe,ie)=>{0===ie&&oe.createObjectStore(G)}}).catch(oe=>{throw Zn.create("idb-open",{originalErrorMessage:oe.message})})),j}function M(){return(M=(0,l.Z)(function*(oe){try{return yield(yield R()).transaction(G).objectStore(G).get(rt(oe))}catch(ie){if(ie instanceof le.ZR)pe.warn(ie.message);else{const Be=Zn.create("idb-get",{originalErrorMessage:ie?.message});pe.warn(Be.message)}}})).apply(this,arguments)}function X(oe,ie){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,l.Z)(function*(oe,ie){try{const He=(yield R()).transaction(G,"readwrite");yield He.objectStore(G).put(ie,rt(oe)),yield He.done}catch(Be){if(Be instanceof le.ZR)pe.warn(Be.message);else{const He=Zn.create("idb-set",{originalErrorMessage:Be?.message});pe.warn(He.message)}}})).apply(this,arguments)}function rt(oe){return`${oe.name}!${oe.options.appId}`}class st{constructor(ie){this.container=ie,this._heartbeatsCache=null;const Be=this.container.getProvider("app").getImmediate();this._storage=new zt(Be),this._heartbeatsCachePromise=this._storage.read().then(He=>(this._heartbeatsCache=He,He))}triggerHeartbeat(){var ie=this;return(0,l.Z)(function*(){const He=ie.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ft=lt();if(null===ie._heartbeatsCache&&(ie._heartbeatsCache=yield ie._heartbeatsCachePromise),ie._heartbeatsCache.lastSentHeartbeatDate!==Ft&&!ie._heartbeatsCache.heartbeats.some(Zt=>Zt.date===Ft))return ie._heartbeatsCache.heartbeats.push({date:Ft,agent:He}),ie._heartbeatsCache.heartbeats=ie._heartbeatsCache.heartbeats.filter(Zt=>{const bn=new Date(Zt.date).valueOf();return Date.now()-bn<=2592e6}),ie._storage.overwrite(ie._heartbeatsCache)})()}getHeartbeatsHeader(){var ie=this;return(0,l.Z)(function*(){if(null===ie._heartbeatsCache&&(yield ie._heartbeatsCachePromise),null===ie._heartbeatsCache||0===ie._heartbeatsCache.heartbeats.length)return"";const Be=lt(),{heartbeatsToSend:He,unsentEntries:Ft}=function an(oe,ie=1024){const Be=[];let He=oe.slice();for(const Ft of oe){const Zt=Be.find(bn=>bn.agent===Ft.agent);if(Zt){if(Zt.dates.push(Ft.date),gn(Be)>ie){Zt.dates.pop();break}}else if(Be.push({agent:Ft.agent,dates:[Ft.date]}),gn(Be)>ie){Be.pop();break}He=He.slice(1)}return{heartbeatsToSend:Be,unsentEntries:He}}(ie._heartbeatsCache.heartbeats),Zt=(0,le.L)(JSON.stringify({version:2,heartbeats:He}));return ie._heartbeatsCache.lastSentHeartbeatDate=Be,Ft.length>0?(ie._heartbeatsCache.heartbeats=Ft,yield ie._storage.overwrite(ie._heartbeatsCache)):(ie._heartbeatsCache.heartbeats=[],ie._storage.overwrite(ie._heartbeatsCache)),Zt})()}}function lt(){return(new Date).toISOString().substring(0,10)}class zt{constructor(ie){this.app=ie,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,le.hl)()&&(0,le.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ie=this;return(0,l.Z)(function*(){return(yield ie._canUseIndexedDBPromise)&&(yield function x(oe){return M.apply(this,arguments)}(ie.app))||{heartbeats:[]}})()}overwrite(ie){var Be=this;return(0,l.Z)(function*(){var He;if(yield Be._canUseIndexedDBPromise){const Zt=yield Be.read();return X(Be.app,{lastSentHeartbeatDate:null!==(He=ie.lastSentHeartbeatDate)&&void 0!==He?He:Zt.lastSentHeartbeatDate,heartbeats:ie.heartbeats})}})()}add(ie){var Be=this;return(0,l.Z)(function*(){var He;if(yield Be._canUseIndexedDBPromise){const Zt=yield Be.read();return X(Be.app,{lastSentHeartbeatDate:null!==(He=ie.lastSentHeartbeatDate)&&void 0!==He?He:Zt.lastSentHeartbeatDate,heartbeats:[...Zt.heartbeats,...ie.heartbeats]})}})()}}function gn(oe){return(0,le.L)(JSON.stringify({version:2,heartbeats:oe})).length}!function Ci(oe){fn(new z.wA("platform-logger",ie=>new vt(ie),"PRIVATE")),fn(new z.wA("heartbeat",ie=>new st(ie),"PRIVATE")),ci(yt,"0.9.10",oe),ci(yt,"0.9.10","esm2017"),ci("fire-js","")}("")},4859:(xt,Le,P)=>{P.d(Le,{H0:()=>ye,wA:()=>N});var l=P(5861),z=P(2090);class N{constructor(Z,q,ee){this.name=Z,this.instanceFactory=q,this.type=ee,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Z){return this.instantiationMode=Z,this}setMultipleInstances(Z){return this.multipleInstances=Z,this}setServiceProps(Z){return this.serviceProps=Z,this}setInstanceCreatedCallback(Z){return this.onInstanceCreated=Z,this}}const le="[DEFAULT]";class de{constructor(Z,q){this.name=Z,this.container=q,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Z){const q=this.normalizeInstanceIdentifier(Z);if(!this.instancesDeferred.has(q)){const ee=new z.BH;if(this.instancesDeferred.set(q,ee),this.isInitialized(q)||this.shouldAutoInitialize())try{const Ge=this.getOrInitializeService({instanceIdentifier:q});Ge&&ee.resolve(Ge)}catch{}}return this.instancesDeferred.get(q).promise}getImmediate(Z){var q;const ee=this.normalizeInstanceIdentifier(Z?.identifier),Ge=null!==(q=Z?.optional)&&void 0!==q&&q;if(!this.isInitialized(ee)&&!this.shouldAutoInitialize()){if(Ge)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ee})}catch(Me){if(Ge)return null;throw Me}}getComponent(){return this.component}setComponent(Z){if(Z.name!==this.name)throw Error(`Mismatching Component ${Z.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Z,this.shouldAutoInitialize()){if(function re(ve){return"EAGER"===ve.instantiationMode}(Z))try{this.getOrInitializeService({instanceIdentifier:le})}catch{}for(const[q,ee]of this.instancesDeferred.entries()){const Ge=this.normalizeInstanceIdentifier(q);try{const Me=this.getOrInitializeService({instanceIdentifier:Ge});ee.resolve(Me)}catch{}}}}clearInstance(Z=le){this.instancesDeferred.delete(Z),this.instancesOptions.delete(Z),this.instances.delete(Z)}delete(){var Z=this;return(0,l.Z)(function*(){const q=Array.from(Z.instances.values());yield Promise.all([...q.filter(ee=>"INTERNAL"in ee).map(ee=>ee.INTERNAL.delete()),...q.filter(ee=>"_delete"in ee).map(ee=>ee._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Z=le){return this.instances.has(Z)}getOptions(Z=le){return this.instancesOptions.get(Z)||{}}initialize(Z={}){const{options:q={}}=Z,ee=this.normalizeInstanceIdentifier(Z.instanceIdentifier);if(this.isInitialized(ee))throw Error(`${this.name}(${ee}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ge=this.getOrInitializeService({instanceIdentifier:ee,options:q});for(const[Me,xe]of this.instancesDeferred.entries())ee===this.normalizeInstanceIdentifier(Me)&&xe.resolve(Ge);return Ge}onInit(Z,q){var ee;const Ge=this.normalizeInstanceIdentifier(q),Me=null!==(ee=this.onInitCallbacks.get(Ge))&&void 0!==ee?ee:new Set;Me.add(Z),this.onInitCallbacks.set(Ge,Me);const xe=this.instances.get(Ge);return xe&&Z(xe,Ge),()=>{Me.delete(Z)}}invokeOnInitCallbacks(Z,q){const ee=this.onInitCallbacks.get(q);if(ee)for(const Ge of ee)try{Ge(Z,q)}catch{}}getOrInitializeService({instanceIdentifier:Z,options:q={}}){let ee=this.instances.get(Z);if(!ee&&this.component&&(ee=this.component.instanceFactory(this.container,{instanceIdentifier:(ve=Z,ve===le?void 0:ve),options:q}),this.instances.set(Z,ee),this.instancesOptions.set(Z,q),this.invokeOnInitCallbacks(ee,Z),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Z,ee)}catch{}var ve;return ee||null}normalizeInstanceIdentifier(Z=le){return this.component?this.component.multipleInstances?Z:le:Z}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ye{constructor(Z){this.name=Z,this.providers=new Map}addComponent(Z){const q=this.getProvider(Z.name);if(q.isComponentSet())throw new Error(`Component ${Z.name} has already been registered with ${this.name}`);q.setComponent(Z)}addOrOverwriteComponent(Z){this.getProvider(Z.name).isComponentSet()&&this.providers.delete(Z.name),this.addComponent(Z)}getProvider(Z){if(this.providers.has(Z))return this.providers.get(Z);const q=new de(Z,this);return this.providers.set(Z,q),q}getProviders(){return Array.from(this.providers.values())}}},4727:(xt,Le,P)=>{var l=P(5861),z=P(6881),N=P(4859),le=P(2090);let ge,re;const Z=new WeakMap,q=new WeakMap,ee=new WeakMap,Ge=new WeakMap,Me=new WeakMap;let Ee={get(F,Y,ue){if(F instanceof IDBTransaction){if("done"===Y)return q.get(F);if("objectStoreNames"===Y)return F.objectStoreNames||ee.get(F);if("store"===Y)return ue.objectStoreNames[1]?void 0:ue.objectStore(ue.objectStoreNames[0])}return Ie(F[Y])},set:(F,Y,ue)=>(F[Y]=ue,!0),has:(F,Y)=>F instanceof IDBTransaction&&("done"===Y||"store"===Y)||Y in F};function gt(F){return"function"==typeof F?function St(F){return F!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ve(){return re||(re=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(F)?function(...Y){return F.apply(Te(this),Y),Ie(Z.get(this))}:function(...Y){return Ie(F.apply(Te(this),Y))}:function(Y,...ue){const Ye=F.call(Te(this),Y,...ue);return ee.set(Ye,Y.sort?Y.sort():[Y]),Ie(Ye)}}(F):(F instanceof IDBTransaction&&function dt(F){if(q.has(F))return;const Y=new Promise((ue,Ye)=>{const pn=()=>{F.removeEventListener("complete",Qt),F.removeEventListener("error",At),F.removeEventListener("abort",At)},Qt=()=>{ue(),pn()},At=()=>{Ye(F.error||new DOMException("AbortError","AbortError")),pn()};F.addEventListener("complete",Qt),F.addEventListener("error",At),F.addEventListener("abort",At)});q.set(F,Y)}(F),((F,Y)=>Y.some(ue=>F instanceof ue))(F,function ye(){return ge||(ge=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(F,Ee):F)}function Ie(F){if(F instanceof IDBRequest)return function xe(F){const Y=new Promise((ue,Ye)=>{const pn=()=>{F.removeEventListener("success",Qt),F.removeEventListener("error",At)},Qt=()=>{ue(Ie(F.result)),pn()},At=()=>{Ye(F.error),pn()};F.addEventListener("success",Qt),F.addEventListener("error",At)});return Y.then(ue=>{ue instanceof IDBCursor&&Z.set(ue,F)}).catch(()=>{}),Me.set(Y,F),Y}(F);if(Ge.has(F))return Ge.get(F);const Y=gt(F);return Y!==F&&(Ge.set(F,Y),Me.set(Y,F)),Y}const Te=F=>Me.get(F),Xe=["get","getKey","getAll","getAllKeys","count"],ae=["put","add","delete","clear"],et=new Map;function kt(F,Y){if(!(F instanceof IDBDatabase)||Y in F||"string"!=typeof Y)return;if(et.get(Y))return et.get(Y);const ue=Y.replace(/FromIndex$/,""),Ye=Y!==ue,pn=ae.includes(ue);if(!(ue in(Ye?IDBIndex:IDBObjectStore).prototype)||!pn&&!Xe.includes(ue))return;const Qt=function(){var At=(0,l.Z)(function*(Ei,...kn){const Qi=this.transaction(Ei,pn?"readwrite":"readonly");let Es=Qi.store;return Ye&&(Es=Es.index(kn.shift())),(yield Promise.all([Es[ue](...kn),pn&&Qi.done]))[0]});return function(kn){return At.apply(this,arguments)}}();return et.set(Y,Qt),Qt}!function _e(F){Ee=F(Ee)}(F=>({...F,get:(Y,ue,Ye)=>kt(Y,ue)||F.get(Y,ue,Ye),has:(Y,ue)=>!!kt(Y,ue)||F.has(Y,ue)}));const vt="@firebase/installations",Ar="w:0.6.4",pe="FIS_v2",Ke=new le.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ht(F){return F instanceof le.ZR&&F.code.includes("request-failed")}function Xt({projectId:F}){return`https://firebaseinstallations.googleapis.com/v1/projects/${F}/installations`}function Dt(F){return{token:F.token,requestStatus:2,expiresIn:vi(F.expiresIn),creationTime:Date.now()}}function Ht(F,Y){return $t.apply(this,arguments)}function $t(){return($t=(0,l.Z)(function*(F,Y){const Ye=(yield Y.json()).error;return Ke.create("request-failed",{requestName:F,serverCode:Ye.code,serverMessage:Ye.message,serverStatus:Ye.status})})).apply(this,arguments)}function Sn({apiKey:F}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":F})}function Fn(F,{refreshToken:Y}){const ue=Sn(F);return ue.append("Authorization",function An(F){return`${pe} ${F}`}(Y)),ue}function yi(F){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,l.Z)(function*(F){const Y=yield F();return Y.status>=500&&Y.status<600?F():Y})).apply(this,arguments)}function vi(F){return Number(F.replace("s","000"))}function ar(F,Y){return bi.apply(this,arguments)}function bi(){return(bi=(0,l.Z)(function*({appConfig:F,heartbeatServiceProvider:Y},{fid:ue}){const Ye=Xt(F),pn=Sn(F),Qt=Y.getImmediate({optional:!0});if(Qt){const Qi=yield Qt.getHeartbeatsHeader();Qi&&pn.append("x-firebase-client",Qi)}const Ei={method:"POST",headers:pn,body:JSON.stringify({fid:ue,authVersion:pe,appId:F.appId,sdkVersion:Ar})},kn=yield yi(()=>fetch(Ye,Ei));if(kn.ok){const Qi=yield kn.json();return{fid:Qi.fid||ue,registrationStatus:2,refreshToken:Qi.refreshToken,authToken:Dt(Qi.authToken)}}throw yield Ht("Create Installation",kn)})).apply(this,arguments)}function Vr(F){return new Promise(Y=>{setTimeout(Y,F)})}const li=/^[cdef][\w-]{21}$/;function Xn(){try{const F=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(F),F[0]=112+F[0]%16;const ue=function Zi(F){return function ft(F){return btoa(String.fromCharCode(...F)).replace(/\+/g,"-").replace(/\//g,"_")}(F).substr(0,22)}(F);return li.test(ue)?ue:""}catch{return""}}function ii(F){return`${F.appName}!${F.appId}`}const Mn=new Map;function Kt(F,Y){const ue=ii(F);mt(ue,Y),function fn(F,Y){const ue=function ni(){return!qn&&"BroadcastChannel"in self&&(qn=new BroadcastChannel("[Firebase] FID Change"),qn.onmessage=F=>{mt(F.data.key,F.data.fid)}),qn}();ue&&ue.postMessage({key:F,fid:Y}),function Wn(){0===Mn.size&&qn&&(qn.close(),qn=null)}()}(ue,Y)}function mt(F,Y){const ue=Mn.get(F);if(ue)for(const Ye of ue)Ye(Y)}let qn=null;const jt="firebase-installations-store";let lr=null;function cn(){return lr||(lr=function Ae(F,Y,{blocked:ue,upgrade:Ye,blocking:pn,terminated:Qt}={}){const At=indexedDB.open(F,Y),Ei=Ie(At);return Ye&&At.addEventListener("upgradeneeded",kn=>{Ye(Ie(At.result),kn.oldVersion,kn.newVersion,Ie(At.transaction))}),ue&&At.addEventListener("blocked",()=>ue()),Ei.then(kn=>{Qt&&kn.addEventListener("close",()=>Qt()),pn&&kn.addEventListener("versionchange",()=>pn())}).catch(()=>{}),Ei}("firebase-installations-database",1,{upgrade:(F,Y)=>{0===Y&&F.createObjectStore(jt)}})),lr}function Jn(F,Y){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,l.Z)(function*(F,Y){const ue=ii(F),pn=(yield cn()).transaction(jt,"readwrite"),Qt=pn.objectStore(jt),At=yield Qt.get(ue);return yield Qt.put(Y,ue),yield pn.done,(!At||At.fid!==Y.fid)&&Kt(F,Y.fid),Y})).apply(this,arguments)}function Yn(F){return zn.apply(this,arguments)}function zn(){return(zn=(0,l.Z)(function*(F){const Y=ii(F),Ye=(yield cn()).transaction(jt,"readwrite");yield Ye.objectStore(jt).delete(Y),yield Ye.done})).apply(this,arguments)}function ci(F,Y){return ei.apply(this,arguments)}function ei(){return(ei=(0,l.Z)(function*(F,Y){const ue=ii(F),pn=(yield cn()).transaction(jt,"readwrite"),Qt=pn.objectStore(jt),At=yield Qt.get(ue),Ei=Y(At);return void 0===Ei?yield Qt.delete(ue):yield Qt.put(Ei,ue),yield pn.done,Ei&&(!At||At.fid!==Ei.fid)&&Kt(F,Ei.fid),Ei})).apply(this,arguments)}function Si(F){return wi.apply(this,arguments)}function wi(){return(wi=(0,l.Z)(function*(F){let Y;const ue=yield ci(F.appConfig,Ye=>{const pn=Mi(Ye),Qt=G(F,pn);return Y=Qt.registrationPromise,Qt.installationEntry});return""===ue.fid?{installationEntry:yield Y}:{installationEntry:ue,registrationPromise:Y}})).apply(this,arguments)}function Mi(F){return Ce(F||{fid:Xn(),registrationStatus:0})}function G(F,Y){if(0===Y.registrationStatus){if(!navigator.onLine)return{installationEntry:Y,registrationPromise:Promise.reject(Ke.create("app-offline"))};const ue={fid:Y.fid,registrationStatus:1,registrationTime:Date.now()},Ye=function j(F,Y){return R.apply(this,arguments)}(F,ue);return{installationEntry:ue,registrationPromise:Ye}}return 1===Y.registrationStatus?{installationEntry:Y,registrationPromise:x(F)}:{installationEntry:Y}}function R(){return(R=(0,l.Z)(function*(F,Y){try{const ue=yield ar(F,Y);return Jn(F.appConfig,ue)}catch(ue){throw ht(ue)&&409===ue.customData.serverCode?yield Yn(F.appConfig):yield Jn(F.appConfig,{fid:Y.fid,registrationStatus:0}),ue}})).apply(this,arguments)}function x(F){return M.apply(this,arguments)}function M(){return(M=(0,l.Z)(function*(F){let Y=yield X(F.appConfig);for(;1===Y.registrationStatus;)yield Vr(100),Y=yield X(F.appConfig);if(0===Y.registrationStatus){const{installationEntry:ue,registrationPromise:Ye}=yield Si(F);return Ye||ue}return Y})).apply(this,arguments)}function X(F){return ci(F,Y=>{if(!Y)throw Ke.create("installation-not-found");return Ce(Y)})}function Ce(F){return function rt(F){return 1===F.registrationStatus&&F.registrationTime+1e4<Date.now()}(F)?{fid:F.fid,registrationStatus:0}:F}function Ct(F,Y){return De.apply(this,arguments)}function De(){return(De=(0,l.Z)(function*({appConfig:F,heartbeatServiceProvider:Y},ue){const Ye=st(F,ue),pn=Fn(F,ue),Qt=Y.getImmediate({optional:!0});if(Qt){const Qi=yield Qt.getHeartbeatsHeader();Qi&&pn.append("x-firebase-client",Qi)}const Ei={method:"POST",headers:pn,body:JSON.stringify({installation:{sdkVersion:Ar,appId:F.appId}})},kn=yield yi(()=>fetch(Ye,Ei));if(kn.ok)return Dt(yield kn.json());throw yield Ht("Generate Auth Token",kn)})).apply(this,arguments)}function st(F,{fid:Y}){return`${Xt(F)}/${Y}/authTokens:generate`}function lt(F){return an.apply(this,arguments)}function an(){return(an=(0,l.Z)(function*(F,Y=!1){let ue;const Ye=yield ci(F.appConfig,Qt=>{if(!Be(Qt))throw Ke.create("not-registered");const At=Qt.authToken;if(!Y&&He(At))return Qt;if(1===At.requestStatus)return ue=zt(F,Y),Qt;{if(!navigator.onLine)throw Ke.create("app-offline");const Ei=Zt(Qt);return ue=oe(F,Ei),Ei}});return ue?yield ue:Ye.authToken})).apply(this,arguments)}function zt(F,Y){return gn.apply(this,arguments)}function gn(){return(gn=(0,l.Z)(function*(F,Y){let ue=yield Ci(F.appConfig);for(;1===ue.authToken.requestStatus;)yield Vr(100),ue=yield Ci(F.appConfig);const Ye=ue.authToken;return 0===Ye.requestStatus?lt(F,Y):Ye})).apply(this,arguments)}function Ci(F){return ci(F,Y=>{if(!Be(Y))throw Ke.create("not-registered");return function bn(F){return 1===F.requestStatus&&F.requestTime+1e4<Date.now()}(Y.authToken)?Object.assign(Object.assign({},Y),{authToken:{requestStatus:0}}):Y})}function oe(F,Y){return ie.apply(this,arguments)}function ie(){return(ie=(0,l.Z)(function*(F,Y){try{const ue=yield Ct(F,Y),Ye=Object.assign(Object.assign({},Y),{authToken:ue});return yield Jn(F.appConfig,Ye),ue}catch(ue){if(!ht(ue)||401!==ue.customData.serverCode&&404!==ue.customData.serverCode){const Ye=Object.assign(Object.assign({},Y),{authToken:{requestStatus:0}});yield Jn(F.appConfig,Ye)}else yield Yn(F.appConfig);throw ue}})).apply(this,arguments)}function Be(F){return void 0!==F&&2===F.registrationStatus}function He(F){return 2===F.requestStatus&&!function Ft(F){const Y=Date.now();return Y<F.creationTime||F.creationTime+F.expiresIn<Y+36e5}(F)}function Zt(F){const Y={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},F),{authToken:Y})}function sn(){return(sn=(0,l.Z)(function*(F){const Y=F,{installationEntry:ue,registrationPromise:Ye}=yield Si(Y);return Ye?Ye.catch(console.error):lt(Y).catch(console.error),ue.fid})).apply(this,arguments)}function Yi(){return(Yi=(0,l.Z)(function*(F,Y=!1){const ue=F;return yield Ki(ue),(yield lt(ue,Y)).token})).apply(this,arguments)}function Ki(F){return Br.apply(this,arguments)}function Br(){return(Br=(0,l.Z)(function*(F){const{registrationPromise:Y}=yield Si(F);Y&&(yield Y)})).apply(this,arguments)}function Qr(F){return Ke.create("missing-app-config-values",{valueName:F})}const U="installations",ke=F=>{const Y=F.getProvider("app").getImmediate(),ue=function ls(F){if(!F||!F.options)throw Qr("App Configuration");if(!F.name)throw Qr("App Name");const Y=["projectId","apiKey","appId"];for(const ue of Y)if(!F.options[ue])throw Qr(ue);return{appName:F.name,projectId:F.options.projectId,apiKey:F.options.apiKey,appId:F.options.appId}}(Y);return{app:Y,appConfig:ue,heartbeatServiceProvider:(0,z._getProvider)(Y,"heartbeat"),_delete:()=>Promise.resolve()}},qe=F=>{const Y=F.getProvider("app").getImmediate(),ue=(0,z._getProvider)(Y,U).getImmediate();return{getId:()=>function Vn(F){return sn.apply(this,arguments)}(ue),getToken:pn=>function hi(F){return Yi.apply(this,arguments)}(ue,pn)}};(function Mt(){(0,z._registerComponent)(new N.wA(U,ke,"PUBLIC")),(0,z._registerComponent)(new N.wA("installations-internal",qe,"PRIVATE"))})(),(0,z.registerVersion)(vt,"0.6.4"),(0,z.registerVersion)(vt,"0.6.4","esm2017")},1877:(xt,Le,P)=>{P.d(Le,{Am:()=>ve,Ub:()=>ye,Yd:()=>re,in:()=>z});const l=[];var z=(()=>{return(Z=z||(z={}))[Z.DEBUG=0]="DEBUG",Z[Z.VERBOSE=1]="VERBOSE",Z[Z.INFO=2]="INFO",Z[Z.WARN=3]="WARN",Z[Z.ERROR=4]="ERROR",Z[Z.SILENT=5]="SILENT",z;var Z})();const N={debug:z.DEBUG,verbose:z.VERBOSE,info:z.INFO,warn:z.WARN,error:z.ERROR,silent:z.SILENT},le=z.INFO,de={[z.DEBUG]:"log",[z.VERBOSE]:"log",[z.INFO]:"info",[z.WARN]:"warn",[z.ERROR]:"error"},ge=(Z,q,...ee)=>{if(q<Z.logLevel)return;const Ge=(new Date).toISOString(),Me=de[q];if(!Me)throw new Error(`Attempted to log a message with an invalid logType (value: ${q})`);console[Me](`[${Ge}]  ${Z.name}:`,...ee)};class re{constructor(q){this.name=q,this._logLevel=le,this._logHandler=ge,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(q){if(!(q in z))throw new TypeError(`Invalid value "${q}" assigned to \`logLevel\``);this._logLevel=q}setLogLevel(q){this._logLevel="string"==typeof q?N[q]:q}get logHandler(){return this._logHandler}set logHandler(q){if("function"!=typeof q)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=q}get userLogHandler(){return this._userLogHandler}set userLogHandler(q){this._userLogHandler=q}debug(...q){this._userLogHandler&&this._userLogHandler(this,z.DEBUG,...q),this._logHandler(this,z.DEBUG,...q)}log(...q){this._userLogHandler&&this._userLogHandler(this,z.VERBOSE,...q),this._logHandler(this,z.VERBOSE,...q)}info(...q){this._userLogHandler&&this._userLogHandler(this,z.INFO,...q),this._logHandler(this,z.INFO,...q)}warn(...q){this._userLogHandler&&this._userLogHandler(this,z.WARN,...q),this._logHandler(this,z.WARN,...q)}error(...q){this._userLogHandler&&this._userLogHandler(this,z.ERROR,...q),this._logHandler(this,z.ERROR,...q)}}function ye(Z){l.forEach(q=>{q.setLogLevel(Z)})}function ve(Z,q){for(const ee of l){let Ge=null;q&&q.level&&(Ge=N[q.level]),ee.userLogHandler=null===Z?null:(Me,xe,...dt)=>{const Ee=dt.map(_e=>{if(null==_e)return null;if("string"==typeof _e)return _e;if("number"==typeof _e||"boolean"==typeof _e)return _e.toString();if(_e instanceof Error)return _e.message;try{return JSON.stringify(_e)}catch{return null}}).filter(_e=>_e).join(" ");xe>=(Ge??Me.logLevel)&&Z({level:z[xe].toLowerCase(),message:Ee,args:dt,type:Me.name})}}}},259:(xt,Le,P)=>{P.d(Le,{C6:()=>l.getApps,KN:()=>l.registerVersion,Mq:()=>l.getApp,ZF:()=>l.initializeApp});var l=P(6881);(0,l.registerVersion)("firebase","9.22.0","app")},9260:(xt,Le,P)=>{P.d(Le,{Z:()=>l.Z});var l=P(3942);l.Z.registerVersion("firebase","9.22.0","app-compat")},9568:(xt,Le,P)=>{P.r(Le);var l=P(5861),z=P(3942),N=P(1389),le=P(2090),re=(P(6881),P(1877),P(4859));function ye(){return window}function q(){return(q=(0,l.Z)(function*(R,x,M){var X;const{BuildInfo:Ce}=ye();(0,N.as)(x.sessionId,"AuthEvent did not contain a session ID");const rt=yield _e(x.sessionId),Ct={};return(0,N.at)()?Ct.ibi=Ce.packageName:(0,N.au)()?Ct.apn=Ce.packageName:(0,N.av)(R,"operation-not-supported-in-this-environment"),Ce.displayName&&(Ct.appDisplayName=Ce.displayName),Ct.sessionId=rt,(0,N.aw)(R,M,x.type,void 0,null!==(X=x.eventId)&&void 0!==X?X:void 0,Ct)})).apply(this,arguments)}function Ge(){return(Ge=(0,l.Z)(function*(R){const{BuildInfo:x}=ye(),M={};(0,N.at)()?M.iosBundleId=x.packageName:(0,N.au)()?M.androidPackageName=x.packageName:(0,N.av)(R,"operation-not-supported-in-this-environment"),yield(0,N.ax)(R,M)})).apply(this,arguments)}function dt(){return(dt=(0,l.Z)(function*(R,x,M){const{cordova:X}=ye();let Ce=()=>{};try{yield new Promise((rt,Ct)=>{let De=null;function st(){var zt;rt();const gn=null===(zt=X.plugins.browsertab)||void 0===zt?void 0:zt.close;"function"==typeof gn&&gn(),"function"==typeof M?.close&&M.close()}function lt(){De||(De=window.setTimeout(()=>{Ct((0,N.az)(R,"redirect-cancelled-by-user"))},2e3))}function an(){"visible"===document?.visibilityState&&lt()}x.addPassiveListener(st),document.addEventListener("resume",lt,!1),(0,N.au)()&&document.addEventListener("visibilitychange",an,!1),Ce=()=>{x.removePassiveListener(st),document.removeEventListener("resume",lt,!1),document.removeEventListener("visibilitychange",an,!1),De&&window.clearTimeout(De)}})}finally{Ce()}})).apply(this,arguments)}function _e(R){return St.apply(this,arguments)}function St(){return(St=(0,l.Z)(function*(R){const x=gt(R),M=yield crypto.subtle.digest("SHA-256",x);return Array.from(new Uint8Array(M)).map(Ce=>Ce.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function gt(R){if((0,N.as)(/[0-9a-zA-Z]+/.test(R),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(R);const x=new ArrayBuffer(R.length),M=new Uint8Array(x);for(let X=0;X<R.length;X++)M[X]=R.charCodeAt(X);return M}class Te extends N.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(x=>{this.resolveInialized=x})}addPassiveListener(x){this.passiveListeners.add(x)}removePassiveListener(x){this.passiveListeners.delete(x)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(x){return this.resolveInialized(),this.passiveListeners.forEach(M=>M(x)),super.onEvent(x)}initialized(){var x=this;return(0,l.Z)(function*(){yield x.initPromise})()}}function Xe(R){return ae.apply(this,arguments)}function ae(){return(ae=(0,l.Z)(function*(R){const x=yield vt()._get(on(R));return x&&(yield vt()._remove(on(R))),x})).apply(this,arguments)}function kt(){const R=[],x="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let M=0;M<20;M++){const X=Math.floor(Math.random()*x.length);R.push(x.charAt(X))}return R.join("")}function vt(){return(0,N.aC)(N.b)}function on(R){return(0,N.aD)("authEvent",R.config.apiKey,R.name)}function pe(R){if(!R?.includes("?"))return{};const[x,...M]=R.split("?");return(0,le.zd)(M.join("?"))}function Fe(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,N.az)("no-auth-event")}}function Dt(){var R;return(null===(R=self?.location)||void 0===R?void 0:R.protocol)||null}function $t(R=(0,le.z$)()){return!("file:"!==Dt()&&"ionic:"!==Dt()&&"capacitor:"!==Dt()||!R.toLowerCase().match(/iphone|ipad|ipod|android/))}function vi(){try{const R=self.localStorage,x=N.aL();if(R)return R.setItem(x,"1"),R.removeItem(x),!function Qn(R=(0,le.z$)()){return function Fn(){return(0,le.w1)()&&11===document?.documentMode}()||function yi(R=(0,le.z$)()){return/Edge\/\d+/.test(R)}(R)}()||(0,le.hl)()}catch{return An()&&(0,le.hl)()}return!1}function An(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function ar(){return(function Ht(){return"http:"===Dt()||"https:"===Dt()}()||(0,le.ru)()||$t())&&!function Sn(){return(0,le.b$)()||(0,le.UG)()}()&&vi()&&!An()}function bi(){return $t()&&typeof document<"u"}function ft(){return(ft=(0,l.Z)(function*(){return!!bi()&&new Promise(R=>{const x=setTimeout(()=>{R(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(x),R(!0)})})})).apply(this,arguments)}const xn={LOCAL:"local",NONE:"none",SESSION:"session"},Xn=N.aA,Zi="persistence";function Mn(R){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,l.Z)(function*(R){yield R._initializationPromise;const x=It(),M=N.aD(Zi,R.config.apiKey,R.name);x&&x.setItem(M,R._getPersistence())})).apply(this,arguments)}function It(){var R;try{return(null===(R=function li(){return typeof window<"u"?window:null}())||void 0===R?void 0:R.sessionStorage)||null}catch{return null}}const mt=N.aA;class fn{constructor(){this.browserResolver=N.aC(N.k),this.cordovaResolver=N.aC(class Ne{constructor(){this._redirectPersistence=N.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=N.aE,this._overrideRedirectResult=N.aF}_initialize(x){var M=this;return(0,l.Z)(function*(){const X=x._key();let Ce=M.eventManagers.get(X);return Ce||(Ce=new Te(x),M.eventManagers.set(X,Ce),M.attachCallbackListeners(x,Ce)),Ce})()}_openPopup(x){(0,N.av)(x,"operation-not-supported-in-this-environment")}_openRedirect(x,M,X,Ce){var rt=this;return(0,l.Z)(function*(){!function Ee(R){var x,M,X,Ce,rt,Ct,De,st,lt,an;const zt=ye();(0,N.aA)("function"==typeof(null===(x=zt?.universalLinks)||void 0===x?void 0:x.subscribe),R,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,N.aA)(typeof(null===(M=zt?.BuildInfo)||void 0===M?void 0:M.packageName)<"u",R,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,N.aA)("function"==typeof(null===(rt=null===(Ce=null===(X=zt?.cordova)||void 0===X?void 0:X.plugins)||void 0===Ce?void 0:Ce.browsertab)||void 0===rt?void 0:rt.openUrl),R,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,N.aA)("function"==typeof(null===(st=null===(De=null===(Ct=zt?.cordova)||void 0===Ct?void 0:Ct.plugins)||void 0===De?void 0:De.browsertab)||void 0===st?void 0:st.isAvailable),R,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,N.aA)("function"==typeof(null===(an=null===(lt=zt?.cordova)||void 0===lt?void 0:lt.InAppBrowser)||void 0===an?void 0:an.open),R,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(x);const Ct=yield rt._initialize(x);yield Ct.initialized(),Ct.resetRedirect(),(0,N.aG)(),yield rt._originValidation(x);const De=function Ae(R,x,M=null){return{type:x,eventId:M,urlResponse:null,sessionId:kt(),postBody:null,tenantId:R.tenantId,error:(0,N.az)(R,"no-auth-event")}}(x,X,Ce);yield function it(R,x){return vt()._set(on(R),x)}(x,De);const st=yield function Z(R,x,M){return q.apply(this,arguments)}(x,De,M),lt=yield function Me(R){const{cordova:x}=ye();return new Promise(M=>{x.plugins.browsertab.isAvailable(X=>{let Ce=null;X?x.plugins.browsertab.openUrl(R):Ce=x.InAppBrowser.open(R,(0,N.ay)()?"_blank":"_system","location=yes"),M(Ce)})})}(st);return function xe(R,x,M){return dt.apply(this,arguments)}(x,Ct,lt)})()}_isIframeWebStorageSupported(x,M){throw new Error("Method not implemented.")}_originValidation(x){const M=x._key();return this.originValidationPromises[M]||(this.originValidationPromises[M]=function ee(R){return Ge.apply(this,arguments)}(x)),this.originValidationPromises[M]}attachCallbackListeners(x,M){const{universalLinks:X,handleOpenURL:Ce,BuildInfo:rt}=ye(),Ct=setTimeout((0,l.Z)(function*(){yield Xe(x),M.onEvent(Fe())}),500),De=function(){var an=(0,l.Z)(function*(zt){clearTimeout(Ct);const gn=yield Xe(x);let Ci=null;gn&&zt?.url&&(Ci=function et(R,x){var M,X;const Ce=function Ar(R){const x=pe(R),M=x.link?decodeURIComponent(x.link):void 0,X=pe(M).link,Ce=x.deep_link_id?decodeURIComponent(x.deep_link_id):void 0;return pe(Ce).link||Ce||X||M||R}(x);if(Ce.includes("/__/auth/callback")){const rt=pe(Ce),Ct=rt.firebaseError?function yt(R){try{return JSON.parse(R)}catch{return null}}(decodeURIComponent(rt.firebaseError)):null,De=null===(X=null===(M=Ct?.code)||void 0===M?void 0:M.split("auth/"))||void 0===X?void 0:X[1],st=De?(0,N.az)(De):null;return st?{type:R.type,eventId:R.eventId,tenantId:R.tenantId,error:st,urlResponse:null,sessionId:null,postBody:null}:{type:R.type,eventId:R.eventId,tenantId:R.tenantId,sessionId:R.sessionId,urlResponse:Ce,postBody:null}}return null}(gn,zt.url)),M.onEvent(Ci||Fe())});return function(gn){return an.apply(this,arguments)}}();typeof X<"u"&&"function"==typeof X.subscribe&&X.subscribe(null,De);const st=Ce,lt=`${rt.packageName.toLowerCase()}://`;ye().handleOpenURL=function(){var an=(0,l.Z)(function*(zt){if(zt.toLowerCase().startsWith(lt)&&De({url:zt}),"function"==typeof st)try{st(zt)}catch(gn){console.error(gn)}});return function(zt){return an.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=N.a,this._completeRedirectFn=N.aE,this._overrideRedirectResult=N.aF}_initialize(x){var M=this;return(0,l.Z)(function*(){return yield M.selectUnderlyingResolver(),M.assertedUnderlyingResolver._initialize(x)})()}_openPopup(x,M,X,Ce){var rt=this;return(0,l.Z)(function*(){return yield rt.selectUnderlyingResolver(),rt.assertedUnderlyingResolver._openPopup(x,M,X,Ce)})()}_openRedirect(x,M,X,Ce){var rt=this;return(0,l.Z)(function*(){return yield rt.selectUnderlyingResolver(),rt.assertedUnderlyingResolver._openRedirect(x,M,X,Ce)})()}_isIframeWebStorageSupported(x,M){this.assertedUnderlyingResolver._isIframeWebStorageSupported(x,M)}_originValidation(x){return this.assertedUnderlyingResolver._originValidation(x)}get _shouldInitProactively(){return bi()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return mt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var x=this;return(0,l.Z)(function*(){if(x.underlyingResolver)return;const M=yield function Vr(){return ft.apply(this,arguments)}();x.underlyingResolver=M?x.cordovaResolver:x.browserResolver})()}}function qn(R){return R.unwrap()}function Wn(R){return Zn(R)}function Zn(R){const{_tokenResponse:x}=R instanceof le.ZR?R.customData:R;if(!x)return null;if(!(R instanceof le.ZR)&&"temporaryProof"in x&&"phoneNumber"in x)return N.P.credentialFromResult(R);const M=x.providerId;if(!M||M===N.p.PASSWORD)return null;let X;switch(M){case N.p.GOOGLE:X=N.V;break;case N.p.FACEBOOK:X=N.U;break;case N.p.GITHUB:X=N.W;break;case N.p.TWITTER:X=N.Z;break;default:const{oauthIdToken:Ce,oauthAccessToken:rt,oauthTokenSecret:Ct,pendingToken:De,nonce:st}=x;return rt||Ct||Ce||De?De?M.startsWith("saml.")?N.aO._create(M,De):N.L._fromParams({providerId:M,signInMethod:M,pendingToken:De,idToken:Ce,accessToken:rt}):new N.X(M).credential({idToken:Ce,accessToken:rt,rawNonce:st}):null}return R instanceof le.ZR?X.credentialFromError(R):X.credentialFromResult(R)}function jt(R,x){return x.catch(M=>{throw M instanceof le.ZR&&function Gt(R,x){var M;const X=null===(M=x.customData)||void 0===M?void 0:M._tokenResponse;if("auth/multi-factor-auth-required"===x?.code)x.resolver=new Jn(R,N.aq(R,x));else if(X){const Ce=Zn(x),rt=x;Ce&&(rt.credential=Ce,rt.tenantId=X.tenantId||void 0,rt.email=X.email||void 0,rt.phoneNumber=X.phoneNumber||void 0)}}(R,M),M}).then(M=>{const Ce=M.user;return{operationType:M.operationType,credential:Wn(M),additionalUserInfo:N.ao(M),user:Dn.getOrCreate(Ce)}})}function lr(R,x){return cn.apply(this,arguments)}function cn(){return(cn=(0,l.Z)(function*(R,x){const M=yield x;return{verificationId:M.verificationId,confirm:X=>jt(R,M.confirm(X))}})).apply(this,arguments)}class Jn{constructor(x,M){this.resolver=M,this.auth=function ni(R){return R.wrapped()}(x)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(x){return jt(qn(this.auth),this.resolver.resolveSignIn(x))}}class Dn{constructor(x){this._delegate=x,this.multiFactor=N.ar(x)}static getOrCreate(x){return Dn.USER_MAP.has(x)||Dn.USER_MAP.set(x,new Dn(x)),Dn.USER_MAP.get(x)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(x){return this._delegate.getIdTokenResult(x)}getIdToken(x){return this._delegate.getIdToken(x)}linkAndRetrieveDataWithCredential(x){return this.linkWithCredential(x)}linkWithCredential(x){var M=this;return(0,l.Z)(function*(){return jt(M.auth,N.a0(M._delegate,x))})()}linkWithPhoneNumber(x,M){var X=this;return(0,l.Z)(function*(){return lr(X.auth,N.l(X._delegate,x,M))})()}linkWithPopup(x){var M=this;return(0,l.Z)(function*(){return jt(M.auth,N.d(M._delegate,x,fn))})()}linkWithRedirect(x){var M=this;return(0,l.Z)(function*(){return yield Mn(N.aH(M.auth)),N.g(M._delegate,x,fn)})()}reauthenticateAndRetrieveDataWithCredential(x){return this.reauthenticateWithCredential(x)}reauthenticateWithCredential(x){var M=this;return(0,l.Z)(function*(){return jt(M.auth,N.a1(M._delegate,x))})()}reauthenticateWithPhoneNumber(x,M){return lr(this.auth,N.r(this._delegate,x,M))}reauthenticateWithPopup(x){return jt(this.auth,N.e(this._delegate,x,fn))}reauthenticateWithRedirect(x){var M=this;return(0,l.Z)(function*(){return yield Mn(N.aH(M.auth)),N.h(M._delegate,x,fn)})()}sendEmailVerification(x){return N.ae(this._delegate,x)}unlink(x){var M=this;return(0,l.Z)(function*(){return yield N.an(M._delegate,x),M})()}updateEmail(x){return N.aj(this._delegate,x)}updatePassword(x){return N.ak(this._delegate,x)}updatePhoneNumber(x){return N.u(this._delegate,x)}updateProfile(x){return N.ai(this._delegate,x)}verifyBeforeUpdateEmail(x,M){return N.af(this._delegate,x,M)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Dn.USER_MAP=new WeakMap;const Yn=N.aA;let zn=(()=>{class R{constructor(M,X){if(this.app=M,X.isInitialized())return this._delegate=X.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Ce}=M.options;Yn(Ce,"invalid-api-key",{appName:M.name}),Yn(Ce,"invalid-api-key",{appName:M.name});const rt=typeof window<"u"?fn:void 0;this._delegate=X.initialize({options:{persistence:ei(Ce,M.name),popupRedirectResolver:rt}}),this._delegate._updateErrorMap(N.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Dn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(M){this._delegate.languageCode=M}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(M){this._delegate.tenantId=M}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(M,X){N.I(this._delegate,M,X)}applyActionCode(M){return N.a5(this._delegate,M)}checkActionCode(M){return N.a6(this._delegate,M)}confirmPasswordReset(M,X){return N.a4(this._delegate,M,X)}createUserWithEmailAndPassword(M,X){var Ce=this;return(0,l.Z)(function*(){return jt(Ce._delegate,N.a8(Ce._delegate,M,X))})()}fetchProvidersForEmail(M){return this.fetchSignInMethodsForEmail(M)}fetchSignInMethodsForEmail(M){return N.ad(this._delegate,M)}isSignInWithEmailLink(M){return N.ab(this._delegate,M)}getRedirectResult(){var M=this;return(0,l.Z)(function*(){Yn(ar(),M._delegate,"operation-not-supported-in-this-environment");const X=yield N.j(M._delegate,fn);return X?jt(M._delegate,Promise.resolve(X)):{credential:null,user:null}})()}addFrameworkForLogging(M){!function Je(R,x){(0,N.aH)(R)._logFramework(x)}(this._delegate,M)}onAuthStateChanged(M,X,Ce){const{next:rt,error:Ct,complete:De}=ci(M,X,Ce);return this._delegate.onAuthStateChanged(rt,Ct,De)}onIdTokenChanged(M,X,Ce){const{next:rt,error:Ct,complete:De}=ci(M,X,Ce);return this._delegate.onIdTokenChanged(rt,Ct,De)}sendSignInLinkToEmail(M,X){return N.aa(this._delegate,M,X)}sendPasswordResetEmail(M,X){return N.a3(this._delegate,M,X||void 0)}setPersistence(M){var X=this;return(0,l.Z)(function*(){let Ce;switch(function ii(R,x){Xn(Object.values(xn).includes(x),R,"invalid-persistence-type"),(0,le.b$)()?Xn(x!==xn.SESSION,R,"unsupported-persistence-type"):(0,le.UG)()?Xn(x===xn.NONE,R,"unsupported-persistence-type"):An()?Xn(x===xn.NONE||x===xn.LOCAL&&(0,le.hl)(),R,"unsupported-persistence-type"):Xn(x===xn.NONE||vi(),R,"unsupported-persistence-type")}(X._delegate,M),M){case xn.SESSION:Ce=N.a;break;case xn.LOCAL:Ce=(yield N.aC(N.i)._isAvailable())?N.i:N.b;break;case xn.NONE:Ce=N.N;break;default:return N.av("argument-error",{appName:X._delegate.name})}return X._delegate.setPersistence(Ce)})()}signInAndRetrieveDataWithCredential(M){return this.signInWithCredential(M)}signInAnonymously(){return jt(this._delegate,N._(this._delegate))}signInWithCredential(M){return jt(this._delegate,N.$(this._delegate,M))}signInWithCustomToken(M){return jt(this._delegate,N.a2(this._delegate,M))}signInWithEmailAndPassword(M,X){return jt(this._delegate,N.a9(this._delegate,M,X))}signInWithEmailLink(M,X){return jt(this._delegate,N.ac(this._delegate,M,X))}signInWithPhoneNumber(M,X){return lr(this._delegate,N.s(this._delegate,M,X))}signInWithPopup(M){var X=this;return(0,l.Z)(function*(){return Yn(ar(),X._delegate,"operation-not-supported-in-this-environment"),jt(X._delegate,N.c(X._delegate,M,fn))})()}signInWithRedirect(M){var X=this;return(0,l.Z)(function*(){return Yn(ar(),X._delegate,"operation-not-supported-in-this-environment"),yield Mn(X._delegate),N.f(X._delegate,M,fn)})()}updateCurrentUser(M){return this._delegate.updateCurrentUser(M)}verifyPasswordResetCode(M){return N.a7(this._delegate,M)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return R.Persistence=xn,R})();function ci(R,x,M){let X=R;"function"!=typeof R&&({next:X,error:x,complete:M}=R);const Ce=X;return{next:Ct=>Ce(Ct&&Dn.getOrCreate(Ct)),error:x,complete:M}}function ei(R,x){const M=function Nt(R,x){const M=It();if(!M)return[];const X=N.aD(Zi,R,x);switch(M.getItem(X)){case xn.NONE:return[N.N];case xn.LOCAL:return[N.i,N.a];case xn.SESSION:return[N.a];default:return[]}}(R,x);if(typeof self<"u"&&!M.includes(N.i)&&M.push(N.i),typeof window<"u")for(const X of[N.b,N.a])M.includes(X)||M.push(X);return M.includes(N.N)||M.push(N.N),M}class Si{constructor(){this.providerId="phone",this._delegate=new N.P(qn(z.Z.auth()))}static credential(x,M){return N.P.credential(x,M)}verifyPhoneNumber(x,M){return this._delegate.verifyPhoneNumber(x,M)}unwrap(){return this._delegate}}Si.PHONE_SIGN_IN_METHOD=N.P.PHONE_SIGN_IN_METHOD,Si.PROVIDER_ID=N.P.PROVIDER_ID;const wi=N.aA;class Mi{constructor(x,M,X=z.Z.app()){var Ce;wi(null===(Ce=X.options)||void 0===Ce?void 0:Ce.apiKey,"invalid-api-key",{appName:X.name}),this._delegate=new N.R(x,M,X.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function j(R){R.INTERNAL.registerComponent(new re.wA("auth-compat",x=>{const M=x.getProvider("app-compat").getImmediate(),X=x.getProvider("auth");return new zn(M,X)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:N.A.EMAIL_SIGNIN,PASSWORD_RESET:N.A.PASSWORD_RESET,RECOVER_EMAIL:N.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:N.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:N.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:N.A.VERIFY_EMAIL}},EmailAuthProvider:N.Q,FacebookAuthProvider:N.U,GithubAuthProvider:N.W,GoogleAuthProvider:N.V,OAuthProvider:N.X,SAMLAuthProvider:N.Y,PhoneAuthProvider:Si,PhoneMultiFactorGenerator:N.m,RecaptchaVerifier:Mi,TwitterAuthProvider:N.Z,Auth:zn,AuthCredential:N.J,Error:le.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),R.registerVersion("@firebase/auth-compat","0.4.2")}(z.Z)},2138:(xt,Le,P)=>{P.d(Le,{KL:()=>Ur,Gb:()=>Br});var l=P(5861),N=(P(4727),P(4859));let de,ge;const ve=new WeakMap,Z=new WeakMap,q=new WeakMap,ee=new WeakMap,Ge=new WeakMap;let dt={get(U,Q,ke){if(U instanceof IDBTransaction){if("done"===Q)return Z.get(U);if("objectStoreNames"===Q)return U.objectStoreNames||q.get(U);if("store"===Q)return ke.objectStoreNames[1]?void 0:ke.objectStore(ke.objectStoreNames[0])}return gt(U[Q])},set:(U,Q,ke)=>(U[Q]=ke,!0),has:(U,Q)=>U instanceof IDBTransaction&&("done"===Q||"store"===Q)||Q in U};function St(U){return"function"==typeof U?function _e(U){return U!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ye(){return ge||(ge=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(U)?function(...Q){return U.apply(Ie(this),Q),gt(ve.get(this))}:function(...Q){return gt(U.apply(Ie(this),Q))}:function(Q,...ke){const qe=U.call(Ie(this),Q,...ke);return q.set(qe,Q.sort?Q.sort():[Q]),gt(qe)}}(U):(U instanceof IDBTransaction&&function xe(U){if(Z.has(U))return;const Q=new Promise((ke,qe)=>{const Mt=()=>{U.removeEventListener("complete",F),U.removeEventListener("error",Y),U.removeEventListener("abort",Y)},F=()=>{ke(),Mt()},Y=()=>{qe(U.error||new DOMException("AbortError","AbortError")),Mt()};U.addEventListener("complete",F),U.addEventListener("error",Y),U.addEventListener("abort",Y)});Z.set(U,Q)}(U),((U,Q)=>Q.some(ke=>U instanceof ke))(U,function re(){return de||(de=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(U,dt):U)}function gt(U){if(U instanceof IDBRequest)return function Me(U){const Q=new Promise((ke,qe)=>{const Mt=()=>{U.removeEventListener("success",F),U.removeEventListener("error",Y)},F=()=>{ke(gt(U.result)),Mt()},Y=()=>{qe(U.error),Mt()};U.addEventListener("success",F),U.addEventListener("error",Y)});return Q.then(ke=>{ke instanceof IDBCursor&&ve.set(ke,U)}).catch(()=>{}),Ge.set(Q,U),Q}(U);if(ee.has(U))return ee.get(U);const Q=St(U);return Q!==U&&(ee.set(U,Q),Ge.set(Q,U)),Q}const Ie=U=>Ge.get(U);function Te(U,Q,{blocked:ke,upgrade:qe,blocking:Mt,terminated:F}={}){const Y=indexedDB.open(U,Q),ue=gt(Y);return qe&&Y.addEventListener("upgradeneeded",Ye=>{qe(gt(Y.result),Ye.oldVersion,Ye.newVersion,gt(Y.transaction))}),ke&&Y.addEventListener("blocked",()=>ke()),ue.then(Ye=>{F&&Ye.addEventListener("close",()=>F()),Mt&&Ye.addEventListener("versionchange",()=>Mt())}).catch(()=>{}),ue}function Ae(U,{blocked:Q}={}){const ke=indexedDB.deleteDatabase(U);return Q&&ke.addEventListener("blocked",()=>Q()),gt(ke).then(()=>{})}const it=["get","getKey","getAll","getAllKeys","count"],Xe=["put","add","delete","clear"],ae=new Map;function et(U,Q){if(!(U instanceof IDBDatabase)||Q in U||"string"!=typeof Q)return;if(ae.get(Q))return ae.get(Q);const ke=Q.replace(/FromIndex$/,""),qe=Q!==ke,Mt=Xe.includes(ke);if(!(ke in(qe?IDBIndex:IDBObjectStore).prototype)||!Mt&&!it.includes(ke))return;const F=function(){var Y=(0,l.Z)(function*(ue,...Ye){const pn=this.transaction(ue,Mt?"readwrite":"readonly");let Qt=pn.store;return qe&&(Qt=Qt.index(Ye.shift())),(yield Promise.all([Qt[ke](...Ye),Mt&&pn.done]))[0]});return function(Ye){return Y.apply(this,arguments)}}();return ae.set(Q,F),F}!function Ee(U){dt=U(dt)}(U=>({...U,get:(Q,ke,qe)=>et(Q,ke)||U.get(Q,ke,qe),has:(Q,ke)=>!!et(Q,ke)||U.has(Q,ke)}));var kt=P(2090),vt=P(6881);const on="/firebase-messaging-sw.js",yt="/firebase-cloud-messaging-push-scope",Ar="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",we="google.c.a.c_id",Ne="google.c.a.c_l",Re="google.c.a.ts",Fe="google.c.a.e";var Ke=(()=>{return(U=Ke||(Ke={})).PUSH_RECEIVED="push-received",U.NOTIFICATION_CLICKED="notification-clicked",Ke;var U})();function ht(U){const Q=new Uint8Array(U);return btoa(String.fromCharCode(...Q)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Xt(U){const ke=(U+"=".repeat((4-U.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),qe=atob(ke),Mt=new Uint8Array(qe.length);for(let F=0;F<qe.length;++F)Mt[F]=qe.charCodeAt(F);return Mt}const Dt="fcm_token_details_db",$t="fcm_token_object_Store";function Sn(U){return Fn.apply(this,arguments)}function Fn(){return Fn=(0,l.Z)(function*(U){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(F=>F.name).includes(Dt))return null;let Q=null;return(yield Te(Dt,5,{upgrade:(qe=(0,l.Z)(function*(Mt,F,Y,ue){var Ye;if(F<2||!Mt.objectStoreNames.contains($t))return;const pn=ue.objectStore($t),Qt=yield pn.index("fcmSenderId").get(U);if(yield pn.clear(),Qt)if(2===F){const At=Qt;if(!At.auth||!At.p256dh||!At.endpoint)return;Q={token:At.fcmToken,createTime:null!==(Ye=At.createTime)&&void 0!==Ye?Ye:Date.now(),subscriptionOptions:{auth:At.auth,p256dh:At.p256dh,endpoint:At.endpoint,swScope:At.swScope,vapidKey:"string"==typeof At.vapidKey?At.vapidKey:ht(At.vapidKey)}}}else if(3===F){const At=Qt;Q={token:At.fcmToken,createTime:At.createTime,subscriptionOptions:{auth:ht(At.auth),p256dh:ht(At.p256dh),endpoint:At.endpoint,swScope:At.swScope,vapidKey:ht(At.vapidKey)}}}else if(4===F){const At=Qt;Q={token:At.fcmToken,createTime:At.createTime,subscriptionOptions:{auth:ht(At.auth),p256dh:ht(At.p256dh),endpoint:At.endpoint,swScope:At.swScope,vapidKey:ht(At.vapidKey)}}}}),function(F,Y,ue,Ye){return qe.apply(this,arguments)})})).close(),yield Ae(Dt),yield Ae("fcm_vapid_details_db"),yield Ae("undefined"),yi(Q)?Q:null;var qe}),Fn.apply(this,arguments)}function yi(U){if(!U||!U.subscriptionOptions)return!1;const{subscriptionOptions:Q}=U;return"number"==typeof U.createTime&&U.createTime>0&&"string"==typeof U.token&&U.token.length>0&&"string"==typeof Q.auth&&Q.auth.length>0&&"string"==typeof Q.p256dh&&Q.p256dh.length>0&&"string"==typeof Q.endpoint&&Q.endpoint.length>0&&"string"==typeof Q.swScope&&Q.swScope.length>0&&"string"==typeof Q.vapidKey&&Q.vapidKey.length>0}const An="firebase-messaging-store";let ar=null;function bi(){return ar||(ar=Te("firebase-messaging-database",1,{upgrade:(U,Q)=>{0===Q&&U.createObjectStore(An)}})),ar}function Vr(U){return ft.apply(this,arguments)}function ft(){return(ft=(0,l.Z)(function*(U){const Q=ii(U),qe=yield(yield bi()).transaction(An).objectStore(An).get(Q);if(qe)return qe;{const Mt=yield Sn(U.appConfig.senderId);if(Mt)return yield li(U,Mt),Mt}})).apply(this,arguments)}function li(U,Q){return xn.apply(this,arguments)}function xn(){return(xn=(0,l.Z)(function*(U,Q){const ke=ii(U),Mt=(yield bi()).transaction(An,"readwrite");return yield Mt.objectStore(An).put(Q,ke),yield Mt.done,Q})).apply(this,arguments)}function Xn(U){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,l.Z)(function*(U){const Q=ii(U),qe=(yield bi()).transaction(An,"readwrite");yield qe.objectStore(An).delete(Q),yield qe.done})).apply(this,arguments)}function ii({appConfig:U}){return U.appId}const Kt=new kt.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Nt(U,Q){return It.apply(this,arguments)}function It(){return(It=(0,l.Z)(function*(U,Q){const ke=yield Gt(U),qe=jt(Q),Mt={method:"POST",headers:ke,body:JSON.stringify(qe)};let F;try{F=yield(yield fetch(Wn(U.appConfig),Mt)).json()}catch(Y){throw Kt.create("token-subscribe-failed",{errorInfo:Y?.toString()})}if(F.error)throw Kt.create("token-subscribe-failed",{errorInfo:F.error.message});if(!F.token)throw Kt.create("token-subscribe-no-token");return F.token})).apply(this,arguments)}function mt(U,Q){return fn.apply(this,arguments)}function fn(){return(fn=(0,l.Z)(function*(U,Q){const ke=yield Gt(U),qe=jt(Q.subscriptionOptions),Mt={method:"PATCH",headers:ke,body:JSON.stringify(qe)};let F;try{F=yield(yield fetch(`${Wn(U.appConfig)}/${Q.token}`,Mt)).json()}catch(Y){throw Kt.create("token-update-failed",{errorInfo:Y?.toString()})}if(F.error)throw Kt.create("token-update-failed",{errorInfo:F.error.message});if(!F.token)throw Kt.create("token-update-no-token");return F.token})).apply(this,arguments)}function qn(U,Q){return ni.apply(this,arguments)}function ni(){return(ni=(0,l.Z)(function*(U,Q){const qe={method:"DELETE",headers:yield Gt(U)};try{const F=yield(yield fetch(`${Wn(U.appConfig)}/${Q}`,qe)).json();if(F.error)throw Kt.create("token-unsubscribe-failed",{errorInfo:F.error.message})}catch(Mt){throw Kt.create("token-unsubscribe-failed",{errorInfo:Mt?.toString()})}})).apply(this,arguments)}function Wn({projectId:U}){return`https://fcmregistrations.googleapis.com/v1/projects/${U}/registrations`}function Gt(U){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,l.Z)(function*({appConfig:U,installations:Q}){const ke=yield Q.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":U.apiKey,"x-goog-firebase-installations-auth":`FIS ${ke}`})})).apply(this,arguments)}function jt({p256dh:U,auth:Q,endpoint:ke,vapidKey:qe}){const Mt={web:{endpoint:ke,auth:Q,p256dh:U}};return qe!==Ar&&(Mt.web.applicationPubKey=qe),Mt}const lr=6048e5;function cn(U){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,l.Z)(function*(U){const Q=yield wi(U.swRegistration,U.vapidKey),ke={vapidKey:U.vapidKey,swScope:U.swRegistration.scope,endpoint:Q.endpoint,auth:ht(Q.getKey("auth")),p256dh:ht(Q.getKey("p256dh"))},qe=yield Vr(U.firebaseDependencies);if(qe){if(G(qe.subscriptionOptions,ke))return Date.now()>=qe.createTime+lr?zn(U,{token:qe.token,createTime:Date.now(),subscriptionOptions:ke}):qe.token;try{yield qn(U.firebaseDependencies,qe.token)}catch(Mt){console.warn(Mt)}return ei(U.firebaseDependencies,ke)}return ei(U.firebaseDependencies,ke)})).apply(this,arguments)}function Dn(U){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,l.Z)(function*(U){const Q=yield Vr(U.firebaseDependencies);Q&&(yield qn(U.firebaseDependencies,Q.token),yield Xn(U.firebaseDependencies));const ke=yield U.swRegistration.pushManager.getSubscription();return!ke||ke.unsubscribe()})).apply(this,arguments)}function zn(U,Q){return ci.apply(this,arguments)}function ci(){return(ci=(0,l.Z)(function*(U,Q){try{const ke=yield mt(U.firebaseDependencies,Q),qe=Object.assign(Object.assign({},Q),{token:ke,createTime:Date.now()});return yield li(U.firebaseDependencies,qe),ke}catch(ke){throw yield Dn(U),ke}})).apply(this,arguments)}function ei(U,Q){return Si.apply(this,arguments)}function Si(){return(Si=(0,l.Z)(function*(U,Q){const qe={token:yield Nt(U,Q),createTime:Date.now(),subscriptionOptions:Q};return yield li(U,qe),qe.token})).apply(this,arguments)}function wi(U,Q){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,l.Z)(function*(U,Q){return(yield U.pushManager.getSubscription())||U.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Xt(Q)})})).apply(this,arguments)}function G(U,Q){return Q.vapidKey===U.vapidKey&&Q.endpoint===U.endpoint&&Q.auth===U.auth&&Q.p256dh===U.p256dh}function j(U){const Q={from:U.from,collapseKey:U.collapse_key,messageId:U.fcmMessageId};return function R(U,Q){if(!Q.notification)return;U.notification={};const ke=Q.notification.title;ke&&(U.notification.title=ke);const qe=Q.notification.body;qe&&(U.notification.body=qe);const Mt=Q.notification.image;Mt&&(U.notification.image=Mt);const F=Q.notification.icon;F&&(U.notification.icon=F)}(Q,U),function x(U,Q){!Q.data||(U.data=Q.data)}(Q,U),function M(U,Q){var ke,qe,Mt,F,Y;if(!(Q.fcmOptions||null!==(ke=Q.notification)&&void 0!==ke&&ke.click_action))return;U.fcmOptions={};const ue=null!==(Mt=null===(qe=Q.fcmOptions)||void 0===qe?void 0:qe.link)&&void 0!==Mt?Mt:null===(F=Q.notification)||void 0===F?void 0:F.click_action;ue&&(U.fcmOptions.link=ue);const Ye=null===(Y=Q.fcmOptions)||void 0===Y?void 0:Y.analytics_label;Ye&&(U.fcmOptions.analyticsLabel=Ye)}(Q,U),Q}function X(U){return"object"==typeof U&&!!U&&we in U}function Ce(U,Q){const ke=[];for(let qe=0;qe<U.length;qe++)ke.push(U.charAt(qe)),qe<Q.length&&ke.push(Q.charAt(qe));return ke.join("")}function Ct(U){return Kt.create("missing-app-config-values",{valueName:U})}Ce("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ce("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class De{constructor(Q,ke,qe){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Mt=function rt(U){if(!U||!U.options)throw Ct("App Configuration Object");if(!U.name)throw Ct("App Name");const Q=["projectId","apiKey","appId","messagingSenderId"],{options:ke}=U;for(const qe of Q)if(!ke[qe])throw Ct(qe);return{appName:U.name,projectId:ke.projectId,apiKey:ke.apiKey,appId:ke.appId,senderId:ke.messagingSenderId}}(Q);this.firebaseDependencies={app:Q,appConfig:Mt,installations:ke,analyticsProvider:qe}}_delete(){return Promise.resolve()}}function st(U){return lt.apply(this,arguments)}function lt(){return(lt=(0,l.Z)(function*(U){try{U.swRegistration=yield navigator.serviceWorker.register(on,{scope:yt}),U.swRegistration.update().catch(()=>{})}catch(Q){throw Kt.create("failed-service-worker-registration",{browserErrorMessage:Q?.message})}})).apply(this,arguments)}function an(U,Q){return zt.apply(this,arguments)}function zt(){return(zt=(0,l.Z)(function*(U,Q){if(!Q&&!U.swRegistration&&(yield st(U)),Q||!U.swRegistration){if(!(Q instanceof ServiceWorkerRegistration))throw Kt.create("invalid-sw-registration");U.swRegistration=Q}})).apply(this,arguments)}function gn(U,Q){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,l.Z)(function*(U,Q){Q?U.vapidKey=Q:U.vapidKey||(U.vapidKey=Ar)})).apply(this,arguments)}function ie(){return(ie=(0,l.Z)(function*(U,Q){if(!navigator)throw Kt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Kt.create("permission-blocked");return yield gn(U,Q?.vapidKey),yield an(U,Q?.serviceWorkerRegistration),cn(U)})).apply(this,arguments)}function Be(U,Q,ke){return He.apply(this,arguments)}function He(){return(He=(0,l.Z)(function*(U,Q,ke){const qe=Ft(Q);(yield U.firebaseDependencies.analyticsProvider.get()).logEvent(qe,{message_id:ke[we],message_name:ke[Ne],message_time:ke[Re],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ft(U){switch(U){case Ke.NOTIFICATION_CLICKED:return"notification_open";case Ke.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function bn(){return(bn=(0,l.Z)(function*(U,Q){const ke=Q.data;if(!ke.isFirebaseMessaging)return;U.onMessageHandler&&ke.messageType===Ke.PUSH_RECEIVED&&("function"==typeof U.onMessageHandler?U.onMessageHandler(j(ke)):U.onMessageHandler.next(j(ke)));const qe=ke.data;X(qe)&&"1"===qe[Fe]&&(yield Be(U,ke.messageType,qe))})).apply(this,arguments)}const Vn="@firebase/messaging",hi=U=>{const Q=new De(U.getProvider("app").getImmediate(),U.getProvider("installations-internal").getImmediate(),U.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",ke=>function Zt(U,Q){return bn.apply(this,arguments)}(Q,ke)),Q},Yi=U=>{const Q=U.getProvider("messaging").getImmediate();return{getToken:qe=>function oe(U,Q){return ie.apply(this,arguments)}(Q,qe)}};function Br(){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,l.Z)(function*(){try{yield(0,kt.eu)()}catch{return!1}return typeof window<"u"&&(0,kt.hl)()&&(0,kt.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}function Ur(U=(0,vt.getApp)()){return Br().then(Q=>{if(!Q)throw Kt.create("unsupported-browser")},Q=>{throw Kt.create("indexed-db-unsupported")}),(0,vt._getProvider)((0,kt.m9)(U),"messaging").getImmediate()}!function Ki(){(0,vt._registerComponent)(new N.wA("messaging",hi,"PUBLIC")),(0,vt._registerComponent)(new N.wA("messaging-internal",Yi,"PRIVATE")),(0,vt.registerVersion)(Vn,"0.12.4"),(0,vt.registerVersion)(Vn,"0.12.4","esm2017")}()},5861:(xt,Le,P)=>{function l(N,le,de,ge,re,ye,ve){try{var Z=N[ye](ve),q=Z.value}catch(ee){return void de(ee)}Z.done?le(q):Promise.resolve(q).then(ge,re)}function z(N){return function(){var le=this,de=arguments;return new Promise(function(ge,re){var ye=N.apply(le,de);function ve(q){l(ye,ge,re,ve,Z,"next",q)}function Z(q){l(ye,ge,re,ve,Z,"throw",q)}ve(void 0)})}}P.d(Le,{Z:()=>z})}},xt=>{xt(xt.s=7214)}]);